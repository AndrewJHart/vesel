/**
 * @license almond 0.2.9 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/almond for details
 */

/*!
 * jQuery JavaScript Library v1.9.0
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2012 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2013-1-14
 */

/*!
 * Sizzle CSS Selector Engine
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license
 * http://sizzlejs.com/
 */

//     Underscore.js 1.4.4
//     http://underscorejs.org
//     (c) 2009-2013 Jeremy Ashkenas, DocumentCloud Inc.
//     Underscore may be freely distributed under the MIT license.

//     (c) 2010-2013 Jeremy Ashkenas, DocumentCloud Inc.
//     Backbone may be freely distributed under the MIT license.
//     For all details and documentation:
//     http://backbonejs.org

/*

Copyright (C) 2011 by Yehuda Katz

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

*/

/*
Copyright (c) 2011-2013 @WalmartLabs

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to
deal in the Software without restriction, including without limitation the
rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
sell copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
DEALINGS IN THE SOFTWARE.
*/

/**
 *
 * Backbone.DeepModel v0.10.4
 *
 * Copyright (c) 2013 Charles Davison, Pow Media Ltd
 *
 * https://github.com/powmedia/backbone-deep-model
 * Licensed under the MIT License
 */

/* Copyright (c) 2010-2013 Marcus Westin */

//! moment.js
//! version : 2.6.0
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com

/*!
 * Pusher JavaScript Library v2.2.0
 * http://pusherapp.com/
 *
 * Copyright 2013, Pusher
 * Released under the MIT licence.
 */

/**
 * @preserve FastClick: polyfill to remove click delays on browsers with touch UIs.
 *
 * @version 1.0.1
 * @codingstandard ftlabs-jsv2
 * @copyright The Financial Times Limited [All Rights Reserved]
 * @license MIT License (see LICENSE.txt)
 */

function FastClick(e,t){function n(e,t){return function(){return e.apply(t,arguments)}}var i;if(t=t||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=t.touchBoundary||10,this.layer=e,this.tapDelay=t.tapDelay||200,!FastClick.notNeeded(e)){for(var r=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],s=this,a=0,o=r.length;o>a;a++)s[r[a]]=n(s[r[a]],s);deviceIsAndroid&&(e.addEventListener("mouseover",this.onMouse,!0),e.addEventListener("mousedown",this.onMouse,!0),e.addEventListener("mouseup",this.onMouse,!0)),e.addEventListener("click",this.onClick,!0),e.addEventListener("touchstart",this.onTouchStart,!1),e.addEventListener("touchmove",this.onTouchMove,!1),e.addEventListener("touchend",this.onTouchEnd,!1),e.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(e.removeEventListener=function(t,n,i){var r=Node.prototype.removeEventListener;"click"===t?r.call(e,t,n.hijacked||n,i):r.call(e,t,n,i)},e.addEventListener=function(t,n,i){var r=Node.prototype.addEventListener;"click"===t?r.call(e,t,n.hijacked||(n.hijacked=function(e){e.propagationStopped||n(e)}),i):r.call(e,t,n,i)}),"function"==typeof e.onclick&&(i=e.onclick,e.addEventListener("click",function(e){i(e)},!1),e.onclick=null)}}var requirejs,require,define;!function(e){function t(e,t){return v.call(e,t)}function n(e,t){var n,i,r,s,a,o,l,c,u,h,d,p=t&&t.split("/"),f=m.map,g=f&&f["*"]||{};if(e&&"."===e.charAt(0))if(t){for(p=p.slice(0,p.length-1),e=e.split("/"),a=e.length-1,m.nodeIdCompat&&b.test(e[a])&&(e[a]=e[a].replace(b,"")),e=p.concat(e),u=0;u<e.length;u+=1)if(d=e[u],"."===d)e.splice(u,1),u-=1;else if(".."===d){if(1===u&&(".."===e[2]||".."===e[0]))break;u>0&&(e.splice(u-1,2),u-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2));if((p||g)&&f){for(n=e.split("/"),u=n.length;u>0;u-=1){if(i=n.slice(0,u).join("/"),p)for(h=p.length;h>0;h-=1)if(r=f[p.slice(0,h).join("/")],r&&(r=r[i])){s=r,o=u;break}if(s)break;!l&&g&&g[i]&&(l=g[i],c=u)}!s&&l&&(s=l,o=c),s&&(n.splice(0,o,s),e=n.join("/"))}return e}function i(t,n){return function(){return u.apply(e,y.call(arguments,0).concat([t,n]))}}function r(e){return function(t){return n(t,e)}}function s(e){return function(t){p[e]=t}}function a(n){if(t(f,n)){var i=f[n];delete f[n],g[n]=!0,c.apply(e,i)}if(!t(p,n)&&!t(g,n))throw new Error("No "+n);return p[n]}function o(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function l(e){return function(){return m&&m.config&&m.config[e]||{}}}var c,u,h,d,p={},f={},m={},g={},v=Object.prototype.hasOwnProperty,y=[].slice,b=/\.js$/;h=function(e,t){var i,s=o(e),l=s[0];return e=s[1],l&&(l=n(l,t),i=a(l)),l?e=i&&i.normalize?i.normalize(e,r(t)):n(e,t):(e=n(e,t),s=o(e),l=s[0],e=s[1],l&&(i=a(l))),{f:l?l+"!"+e:e,n:e,pr:l,p:i}},d={require:function(e){return i(e)},exports:function(e){var t=p[e];return"undefined"!=typeof t?t:p[e]={}},module:function(e){return{id:e,uri:"",exports:p[e],config:l(e)}}},c=function(n,r,o,l){var c,u,m,v,y,b,w=[],_=typeof o;if(l=l||n,"undefined"===_||"function"===_){for(r=!r.length&&o.length?["require","exports","module"]:r,y=0;y<r.length;y+=1)if(v=h(r[y],l),u=v.f,"require"===u)w[y]=d.require(n);else if("exports"===u)w[y]=d.exports(n),b=!0;else if("module"===u)c=w[y]=d.module(n);else if(t(p,u)||t(f,u)||t(g,u))w[y]=a(u);else{if(!v.p)throw new Error(n+" missing "+u);v.p.load(v.n,i(l,!0),s(u),{}),w[y]=p[u]}m=o?o.apply(p[n],w):void 0,n&&(c&&c.exports!==e&&c.exports!==p[n]?p[n]=c.exports:m===e&&b||(p[n]=m))}else n&&(p[n]=o)},requirejs=require=u=function(t,n,i,r,s){if("string"==typeof t)return d[t]?d[t](n):a(h(t,n).f);if(!t.splice){if(m=t,m.deps&&u(m.deps,m.callback),!n)return;n.splice?(t=n,n=i,i=null):t=e}return n=n||function(){},"function"==typeof i&&(i=r,r=s),r?c(e,t,n,i):setTimeout(function(){c(e,t,n,i)},4),u},u.config=function(e){return u(e)},requirejs._defined=p,define=function(e,n,i){n.splice||(i=n,n=[]),t(p,e)||t(f,e)||(f[e]=[e,n,i])},define.amd={jQuery:!0}}(),define("../bower_components/almond/almond",function(){}),function(e,t){function n(e){var t=e.length,n=ot.type(e);return ot.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)}function i(e){var t=_t[e]={};return ot.each(e.match(ct)||[],function(e,n){t[n]=!0}),t}function r(e,n,i,r){if(ot.acceptData(e)){var s,a,o=ot.expando,l="string"==typeof n,c=e.nodeType,u=c?ot.cache:e,h=c?e[o]:e[o]&&o;if(h&&u[h]&&(r||u[h].data)||!l||i!==t)return h||(c?e[o]=h=Z.pop()||ot.guid++:h=o),u[h]||(u[h]={},c||(u[h].toJSON=ot.noop)),("object"==typeof n||"function"==typeof n)&&(r?u[h]=ot.extend(u[h],n):u[h].data=ot.extend(u[h].data,n)),s=u[h],r||(s.data||(s.data={}),s=s.data),i!==t&&(s[ot.camelCase(n)]=i),l?(a=s[n],null==a&&(a=s[ot.camelCase(n)])):a=s,a}}function s(e,t,n){if(ot.acceptData(e)){var i,r,s,a=e.nodeType,l=a?ot.cache:e,c=a?e[ot.expando]:ot.expando;if(l[c]){if(t&&(i=n?l[c]:l[c].data)){ot.isArray(t)?t=t.concat(ot.map(t,ot.camelCase)):t in i?t=[t]:(t=ot.camelCase(t),t=t in i?[t]:t.split(" "));for(r=0,s=t.length;s>r;r++)delete i[t[r]];if(!(n?o:ot.isEmptyObject)(i))return}(n||(delete l[c].data,o(l[c])))&&(a?ot.cleanData([e],!0):ot.support.deleteExpando||l!=l.window?delete l[c]:l[c]=null)}}}function a(e,n,i){if(i===t&&1===e.nodeType){var r="data-"+n.replace(kt,"-$1").toLowerCase();if(i=e.getAttribute(r),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:xt.test(i)?ot.parseJSON(i):i}catch(s){}ot.data(e,n,i)}else i=t}return i}function o(e){var t;for(t in e)if(("data"!==t||!ot.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function l(){return!0}function c(){return!1}function u(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function h(e,t,n){if(t=t||0,ot.isFunction(t))return ot.grep(e,function(e,i){var r=!!t.call(e,i,e);return r===n});if(t.nodeType)return ot.grep(e,function(e){return e===t===n});if("string"==typeof t){var i=ot.grep(e,function(e){return 1===e.nodeType});if(Ut.test(t))return ot.filter(t,i,!n);t=ot.filter(t,i)}return ot.grep(e,function(e){return ot.inArray(e,t)>=0===n})}function d(e){var t=Bt.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function p(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function f(e){var t=e.getAttributeNode("type");return e.type=(t&&t.specified)+"/"+e.type,e}function m(e){var t=nn.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function g(e,t){for(var n,i=0;null!=(n=e[i]);i++)ot._data(n,"globalEval",!t||ot._data(t[i],"globalEval"))}function v(e,t){if(1===t.nodeType&&ot.hasData(e)){var n,i,r,s=ot._data(e),a=ot._data(t,s),o=s.events;if(o){delete a.handle,a.events={};for(n in o)for(i=0,r=o[n].length;r>i;i++)ot.event.add(t,n,o[n][i])}a.data&&(a.data=ot.extend({},a.data))}}function y(e,t){var n,i,r;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!ot.support.noCloneEvent&&t[ot.expando]){i=ot._data(t);for(r in i.events)ot.removeEvent(t,r,i.handle);t.removeAttribute(ot.expando)}"script"===n&&t.text!==e.text?(f(t).text=e.text,m(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),ot.support.html5Clone&&e.innerHTML&&!ot.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Kt.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function b(e,n){var i,r,s=0,a="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(n||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(n||"*"):t;if(!a)for(a=[],i=e.childNodes||e;null!=(r=i[s]);s++)!n||ot.nodeName(r,n)?a.push(r):ot.merge(a,b(r,n));return n===t||n&&ot.nodeName(e,n)?ot.merge([e],a):a}function w(e){Kt.test(e.type)&&(e.defaultChecked=e.checked)}function _(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),i=t,r=kn.length;r--;)if(t=kn[r]+n,t in e)return t;return i}function x(e,t){return e=t||e,"none"===ot.css(e,"display")||!ot.contains(e.ownerDocument,e)}function k(e,t){for(var n,i=[],r=0,s=e.length;s>r;r++)n=e[r],n.style&&(i[r]=ot._data(n,"olddisplay"),t?(i[r]||"none"!==n.style.display||(n.style.display=""),""===n.style.display&&x(n)&&(i[r]=ot._data(n,"olddisplay",D(n.nodeName)))):i[r]||x(n)||ot._data(n,"olddisplay",ot.css(n,"display")));for(r=0;s>r;r++)n=e[r],n.style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?i[r]||"":"none"));return e}function C(e,t,n){var i=gn.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function T(e,t,n,i,r){for(var s=n===(i?"border":"content")?4:"width"===t?1:0,a=0;4>s;s+=2)"margin"===n&&(a+=ot.css(e,n+xn[s],!0,r)),i?("content"===n&&(a-=ot.css(e,"padding"+xn[s],!0,r)),"margin"!==n&&(a-=ot.css(e,"border"+xn[s]+"Width",!0,r))):(a+=ot.css(e,"padding"+xn[s],!0,r),"padding"!==n&&(a+=ot.css(e,"border"+xn[s]+"Width",!0,r)));return a}function S(e,t,n){var i=!0,r="width"===t?e.offsetWidth:e.offsetHeight,s=cn(e),a=ot.support.boxSizing&&"border-box"===ot.css(e,"boxSizing",!1,s);if(0>=r||null==r){if(r=ln(e,t,s),(0>r||null==r)&&(r=e.style[t]),vn.test(r))return r;i=a&&(ot.support.boxSizingReliable||r===e.style[t]),r=parseFloat(r)||0}return r+T(e,t,n||(a?"border":"content"),i,s)+"px"}function D(e){var t=z,n=bn[e];return n||(n=E(e,t),"none"!==n&&n||(un=(un||ot("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(un[0].contentWindow||un[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=E(e,t),un.detach()),bn[e]=n),n}function E(e,t){var n=ot(t.createElement(e)).appendTo(t.body),i=ot.css(n[0],"display");return n.remove(),i}function P(e,t,n,i){var r;if(ot.isArray(t))ot.each(t,function(t,r){n||Tn.test(e)?i(e,r):P(e+"["+("object"==typeof r?t:"")+"]",r,n,i)});else if(n||"object"!==ot.type(t))i(e,t);else for(r in t)P(e+"["+r+"]",t[r],n,i)}function M(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,s=t.toLowerCase().match(ct)||[];if(ot.isFunction(n))for(;i=s[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function A(e,t,n,i){function r(o){var l;return s[o]=!0,ot.each(e[o]||[],function(e,o){var c=o(t,n,i);return"string"!=typeof c||a||s[c]?a?!(l=c):void 0:(t.dataTypes.unshift(c),r(c),!1)}),l}var s={},a=e===$n;return r(t.dataTypes[0])||!s["*"]&&r("*")}function N(e,n){var i,r,s=ot.ajaxSettings.flatOptions||{};for(i in n)n[i]!==t&&((s[i]?e:r||(r={}))[i]=n[i]);return r&&ot.extend(!0,e,r),e}function O(e,n,i){var r,s,a,o,l=e.contents,c=e.dataTypes,u=e.responseFields;for(s in u)s in i&&(n[u[s]]=i[s]);for(;"*"===c[0];)c.shift(),r===t&&(r=e.mimeType||n.getResponseHeader("Content-Type"));if(r)for(s in l)if(l[s]&&l[s].test(r)){c.unshift(s);break}if(c[0]in i)a=c[0];else{for(s in i){if(!c[0]||e.converters[s+" "+c[0]]){a=s;break}o||(o=s)}a=a||o}return a?(a!==c[0]&&c.unshift(a),i[a]):void 0}function H(e,t){var n,i,r,s,a={},o=0,l=e.dataTypes.slice(),c=l[0];if(e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l[1])for(n in e.converters)a[n.toLowerCase()]=e.converters[n];for(;r=l[++o];)if("*"!==r){if("*"!==c&&c!==r){if(n=a[c+" "+r]||a["* "+r],!n)for(i in a)if(s=i.split(" "),s[1]===r&&(n=a[c+" "+s[0]]||a["* "+s[0]])){n===!0?n=a[i]:a[i]!==!0&&(r=s[0],l.splice(o--,0,r));break}if(n!==!0)if(n&&e["throws"])t=n(t);else try{t=n(t)}catch(u){return{state:"parsererror",error:n?u:"No conversion from "+c+" to "+r}}}c=r}return{state:"success",data:t}}function L(){try{return new e.XMLHttpRequest}catch(t){}}function I(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function j(){return setTimeout(function(){Qn=t}),Qn=ot.now()}function F(e,t){ot.each(t,function(t,n){for(var i=(ii[t]||[]).concat(ii["*"]),r=0,s=i.length;s>r;r++)if(i[r].call(e,t,n))return})}function R(e,t,n){var i,r,s=0,a=ni.length,o=ot.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=Qn||j(),n=Math.max(0,c.startTime+c.duration-t),i=n/c.duration||0,s=1-i,a=0,l=c.tweens.length;l>a;a++)c.tweens[a].run(s);return o.notifyWith(e,[c,s,n]),1>s&&l?n:(o.resolveWith(e,[c]),!1)},c=o.promise({elem:e,props:ot.extend({},t),opts:ot.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Qn||j(),duration:n.duration,tweens:[],createTween:function(t,n){var i=ot.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)c.tweens[n].run(1);return t?o.resolveWith(e,[c,t]):o.rejectWith(e,[c,t]),this}}),u=c.props;for(V(u,c.opts.specialEasing);a>s;s++)if(i=ni[s].call(c,e,u,c.opts))return i;return F(c,u),ot.isFunction(c.opts.start)&&c.opts.start.call(e,c),ot.fx.timer(ot.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function V(e,t){var n,i,r,s,a;for(n in e)if(i=ot.camelCase(n),r=t[i],s=e[n],ot.isArray(s)&&(r=s[1],s=e[n]=s[0]),n!==i&&(e[i]=s,delete e[n]),a=ot.cssHooks[i],a&&"expand"in a){s=a.expand(s),delete e[i];for(n in s)n in e||(e[n]=s[n],t[n]=r)}else t[i]=r}function U(e,t,n){var i,r,s,a,o,l,c,u,h,d=this,p=e.style,f={},m=[],g=e.nodeType&&x(e);n.queue||(u=ot._queueHooks(e,"fx"),null==u.unqueued&&(u.unqueued=0,h=u.empty.fire,u.empty.fire=function(){u.unqueued||h()}),u.unqueued++,d.always(function(){d.always(function(){u.unqueued--,ot.queue(e,"fx").length||u.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===ot.css(e,"display")&&"none"===ot.css(e,"float")&&(ot.support.inlineBlockNeedsLayout&&"inline"!==D(e.nodeName)?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",ot.support.shrinkWrapBlocks||d.done(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(i in t)if(s=t[i],Kn.exec(s)){if(delete t[i],l=l||"toggle"===s,s===(g?"hide":"show"))continue;m.push(i)}if(a=m.length){o=ot._data(e,"fxshow")||ot._data(e,"fxshow",{}),"hidden"in o&&(g=o.hidden),l&&(o.hidden=!g),g?ot(e).show():d.done(function(){ot(e).hide()}),d.done(function(){var t;ot._removeData(e,"fxshow");for(t in f)ot.style(e,t,f[t])});for(i=0;a>i;i++)r=m[i],c=d.createTween(r,g?o[r]:0),f[r]=o[r]||ot.style(e,r),r in o||(o[r]=c.start,g&&(c.end=c.start,c.start="width"===r||"height"===r?1:0))}}function $(e,t,n,i,r){return new $.prototype.init(e,t,n,i,r)}function Y(e,t){var n,i={height:e},r=0;for(t=t?1:0;4>r;r+=2-t)n=xn[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function B(e){return ot.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var q,W,z=e.document,G=e.location,X=e.jQuery,J=e.$,Q={},Z=[],K="1.9.0",et=Z.concat,tt=Z.push,nt=Z.slice,it=Z.indexOf,rt=Q.toString,st=Q.hasOwnProperty,at=K.trim,ot=function(e,t){return new ot.fn.init(e,t,q)},lt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ct=/\S+/g,ut=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ht=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,dt=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,pt=/^[\],:{}\s]*$/,ft=/(?:^|:|,)(?:\s*\[)+/g,mt=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,gt=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,vt=/^-ms-/,yt=/-([\da-z])/gi,bt=function(e,t){return t.toUpperCase()},wt=function(){z.addEventListener?(z.removeEventListener("DOMContentLoaded",wt,!1),ot.ready()):"complete"===z.readyState&&(z.detachEvent("onreadystatechange",wt),ot.ready())};ot.fn=ot.prototype={jquery:K,constructor:ot,init:function(e,n,i){var r,s;if(!e)return this;if("string"==typeof e){if(r="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:ht.exec(e),!r||!r[1]&&n)return!n||n.jquery?(n||i).find(e):this.constructor(n).find(e);if(r[1]){if(n=n instanceof ot?n[0]:n,ot.merge(this,ot.parseHTML(r[1],n&&n.nodeType?n.ownerDocument||n:z,!0)),dt.test(r[1])&&ot.isPlainObject(n))for(r in n)ot.isFunction(this[r])?this[r](n[r]):this.attr(r,n[r]);return this}if(s=z.getElementById(r[2]),s&&s.parentNode){if(s.id!==r[2])return i.find(e);this.length=1,this[0]=s}return this.context=z,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):ot.isFunction(e)?i.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),ot.makeArray(e,this))},selector:"",length:0,size:function(){return this.length},toArray:function(){return nt.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=ot.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return ot.each(this,e,t)},ready:function(e){return ot.ready.promise().done(e),this},slice:function(){return this.pushStack(nt.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},map:function(e){return this.pushStack(ot.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:tt,sort:[].sort,splice:[].splice},ot.fn.init.prototype=ot.fn,ot.extend=ot.fn.extend=function(){var e,n,i,r,s,a,o=arguments[0]||{},l=1,c=arguments.length,u=!1;for("boolean"==typeof o&&(u=o,o=arguments[1]||{},l=2),"object"==typeof o||ot.isFunction(o)||(o={}),c===l&&(o=this,--l);c>l;l++)if(null!=(e=arguments[l]))for(n in e)i=o[n],r=e[n],o!==r&&(u&&r&&(ot.isPlainObject(r)||(s=ot.isArray(r)))?(s?(s=!1,a=i&&ot.isArray(i)?i:[]):a=i&&ot.isPlainObject(i)?i:{},o[n]=ot.extend(u,a,r)):r!==t&&(o[n]=r));return o},ot.extend({noConflict:function(t){return e.$===ot&&(e.$=J),t&&e.jQuery===ot&&(e.jQuery=X),ot},isReady:!1,readyWait:1,holdReady:function(e){e?ot.readyWait++:ot.ready(!0)},ready:function(e){if(e===!0?!--ot.readyWait:!ot.isReady){if(!z.body)return setTimeout(ot.ready);ot.isReady=!0,e!==!0&&--ot.readyWait>0||(W.resolveWith(z,[ot]),ot.fn.trigger&&ot(z).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===ot.type(e)},isArray:Array.isArray||function(e){return"array"===ot.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):"object"==typeof e||"function"==typeof e?Q[rt.call(e)]||"object":typeof e},isPlainObject:function(e){if(!e||"object"!==ot.type(e)||e.nodeType||ot.isWindow(e))return!1;try{if(e.constructor&&!st.call(e,"constructor")&&!st.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var i;for(i in e);return i===t||st.call(e,i)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||z;var i=dt.exec(e),r=!n&&[];return i?[t.createElement(i[1])]:(i=ot.buildFragment([e],t,r),r&&ot(r).remove(),ot.merge([],i.childNodes))},parseJSON:function(t){return e.JSON&&e.JSON.parse?e.JSON.parse(t):null===t?t:"string"==typeof t&&(t=ot.trim(t),t&&pt.test(t.replace(mt,"@").replace(gt,"]").replace(ft,"")))?new Function("return "+t)():void ot.error("Invalid JSON: "+t)},parseXML:function(n){var i,r;if(!n||"string"!=typeof n)return null;try{e.DOMParser?(r=new DOMParser,i=r.parseFromString(n,"text/xml")):(i=new ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(n))}catch(s){i=t}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||ot.error("Invalid XML: "+n),i},noop:function(){},globalEval:function(t){t&&ot.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(vt,"ms-").replace(yt,bt)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,i){var r,s=0,a=e.length,o=n(e);if(i){if(o)for(;a>s&&(r=t.apply(e[s],i),r!==!1);s++);else for(s in e)if(r=t.apply(e[s],i),r===!1)break}else if(o)for(;a>s&&(r=t.call(e[s],s,e[s]),r!==!1);s++);else for(s in e)if(r=t.call(e[s],s,e[s]),r===!1)break;return e},trim:at&&!at.call("﻿ ")?function(e){return null==e?"":at.call(e)}:function(e){return null==e?"":(e+"").replace(ut,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(n(Object(e))?ot.merge(i,"string"==typeof e?[e]:e):tt.call(i,e)),i},inArray:function(e,t,n){var i;if(t){if(it)return it.call(t,e,n);for(i=t.length,n=n?0>n?Math.max(0,i+n):n:0;i>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var i=n.length,r=e.length,s=0;if("number"==typeof i)for(;i>s;s++)e[r++]=n[s];else for(;n[s]!==t;)e[r++]=n[s++];return e.length=r,e},grep:function(e,t,n){var i,r=[],s=0,a=e.length;for(n=!!n;a>s;s++)i=!!t(e[s],s),n!==i&&r.push(e[s]);return r},map:function(e,t,i){var r,s=0,a=e.length,o=n(e),l=[];if(o)for(;a>s;s++)r=t(e[s],s,i),null!=r&&(l[l.length]=r);else for(s in e)r=t(e[s],s,i),null!=r&&(l[l.length]=r);return et.apply([],l)},guid:1,proxy:function(e,n){var i,r,s;return"string"==typeof n&&(i=e[n],n=e,e=i),ot.isFunction(e)?(r=nt.call(arguments,2),s=function(){return e.apply(n||this,r.concat(nt.call(arguments)))},s.guid=e.guid=e.guid||ot.guid++,s):t},access:function(e,n,i,r,s,a,o){var l=0,c=e.length,u=null==i;if("object"===ot.type(i)){s=!0;for(l in i)ot.access(e,n,l,i[l],!0,a,o)}else if(r!==t&&(s=!0,ot.isFunction(r)||(o=!0),u&&(o?(n.call(e,r),n=null):(u=n,n=function(e,t,n){return u.call(ot(e),n)})),n))for(;c>l;l++)n(e[l],i,o?r:r.call(e[l],l,n(e[l],i)));return s?e:u?n.call(e):c?n(e[0],i):a},now:function(){return(new Date).getTime()}}),ot.ready.promise=function(t){if(!W)if(W=ot.Deferred(),"complete"===z.readyState)setTimeout(ot.ready);else if(z.addEventListener)z.addEventListener("DOMContentLoaded",wt,!1),e.addEventListener("load",ot.ready,!1);else{z.attachEvent("onreadystatechange",wt),e.attachEvent("onload",ot.ready);var n=!1;try{n=null==e.frameElement&&z.documentElement}catch(i){}n&&n.doScroll&&!function r(){if(!ot.isReady){try{n.doScroll("left")}catch(e){return setTimeout(r,50)}ot.ready()}}()}return W.promise(t)},ot.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Q["[object "+t+"]"]=t.toLowerCase()}),q=ot(z);var _t={};ot.Callbacks=function(e){e="string"==typeof e?_t[e]||i(e):ot.extend({},e);var n,r,s,a,o,l,c=[],u=!e.once&&[],h=function(t){for(n=e.memory&&t,r=!0,l=a||0,a=0,o=c.length,s=!0;c&&o>l;l++)if(c[l].apply(t[0],t[1])===!1&&e.stopOnFalse){n=!1;break}s=!1,c&&(u?u.length&&h(u.shift()):n?c=[]:d.disable())},d={add:function(){if(c){var t=c.length;!function i(t){ot.each(t,function(t,n){var r=ot.type(n);"function"===r?e.unique&&d.has(n)||c.push(n):n&&n.length&&"string"!==r&&i(n)})}(arguments),s?o=c.length:n&&(a=t,h(n))}return this},remove:function(){return c&&ot.each(arguments,function(e,t){for(var n;(n=ot.inArray(t,c,n))>-1;)c.splice(n,1),s&&(o>=n&&o--,l>=n&&l--)}),this},has:function(e){return ot.inArray(e,c)>-1},empty:function(){return c=[],this},disable:function(){return c=u=n=t,this},disabled:function(){return!c},lock:function(){return u=t,n||d.disable(),this},locked:function(){return!u},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],!c||r&&!u||(s?u.push(t):h(t)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!r}};return d},ot.extend({Deferred:function(e){var t=[["resolve","done",ot.Callbacks("once memory"),"resolved"],["reject","fail",ot.Callbacks("once memory"),"rejected"],["notify","progress",ot.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return ot.Deferred(function(n){ot.each(t,function(t,s){var a=s[0],o=ot.isFunction(e[t])&&e[t];r[s[1]](function(){var e=o&&o.apply(this,arguments);e&&ot.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a+"With"](this===i?n.promise():this,o?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?ot.extend(e,i):i}},r={};return i.pipe=i.then,ot.each(t,function(e,s){var a=s[2],o=s[3];i[s[1]]=a.add,o&&a.add(function(){n=o},t[1^e][2].disable,t[2][2].lock),r[s[0]]=function(){return r[s[0]+"With"](this===r?i:this,arguments),this},r[s[0]+"With"]=a.fireWith}),i.promise(r),e&&e.call(r,r),r},when:function(e){var t,n,i,r=0,s=nt.call(arguments),a=s.length,o=1!==a||e&&ot.isFunction(e.promise)?a:0,l=1===o?e:ot.Deferred(),c=function(e,n,i){return function(r){n[e]=this,i[e]=arguments.length>1?nt.call(arguments):r,i===t?l.notifyWith(n,i):--o||l.resolveWith(n,i)}};if(a>1)for(t=new Array(a),n=new Array(a),i=new Array(a);a>r;r++)s[r]&&ot.isFunction(s[r].promise)?s[r].promise().done(c(r,i,s)).fail(l.reject).progress(c(r,n,t)):--o;return o||l.resolveWith(i,s),l.promise()}}),ot.support=function(){var t,n,i,r,s,a,o,l,c,u,h=z.createElement("div");if(h.setAttribute("className","t"),h.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=h.getElementsByTagName("*"),i=h.getElementsByTagName("a")[0],!n||!i||!n.length)return{};r=z.createElement("select"),s=r.appendChild(z.createElement("option")),a=h.getElementsByTagName("input")[0],i.style.cssText="top:1px;float:left;opacity:.5",t={getSetAttribute:"t"!==h.className,leadingWhitespace:3===h.firstChild.nodeType,tbody:!h.getElementsByTagName("tbody").length,htmlSerialize:!!h.getElementsByTagName("link").length,style:/top/.test(i.getAttribute("style")),hrefNormalized:"/a"===i.getAttribute("href"),opacity:/^0.5/.test(i.style.opacity),cssFloat:!!i.style.cssFloat,checkOn:!!a.value,optSelected:s.selected,enctype:!!z.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==z.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===z.compatMode,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},a.checked=!0,t.noCloneChecked=a.cloneNode(!0).checked,r.disabled=!0,t.optDisabled=!s.disabled;try{delete h.test}catch(d){t.deleteExpando=!1}a=z.createElement("input"),a.setAttribute("value",""),t.input=""===a.getAttribute("value"),a.value="t",a.setAttribute("type","radio"),t.radioValue="t"===a.value,a.setAttribute("checked","t"),a.setAttribute("name","t"),o=z.createDocumentFragment(),o.appendChild(a),t.appendChecked=a.checked,t.checkClone=o.cloneNode(!0).cloneNode(!0).lastChild.checked,h.attachEvent&&(h.attachEvent("onclick",function(){t.noCloneEvent=!1}),h.cloneNode(!0).click());for(u in{submit:!0,change:!0,focusin:!0})h.setAttribute(l="on"+u,"t"),t[u+"Bubbles"]=l in e||h.attributes[l].expando===!1;return h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===h.style.backgroundClip,ot(function(){var n,i,r,s="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",a=z.getElementsByTagName("body")[0];a&&(n=z.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",a.appendChild(n).appendChild(h),h.innerHTML="<table><tr><td></td><td>t</td></tr></table>",r=h.getElementsByTagName("td"),r[0].style.cssText="padding:0;margin:0;border:0;display:none",c=0===r[0].offsetHeight,r[0].style.display="",r[1].style.display="none",t.reliableHiddenOffsets=c&&0===r[0].offsetHeight,h.innerHTML="",h.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",t.boxSizing=4===h.offsetWidth,t.doesNotIncludeMarginInBodyOffset=1!==a.offsetTop,e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(h,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(h,null)||{width:"4px"}).width,i=h.appendChild(z.createElement("div")),i.style.cssText=h.style.cssText=s,i.style.marginRight=i.style.width="0",h.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(i,null)||{}).marginRight)),"undefined"!=typeof h.style.zoom&&(h.innerHTML="",h.style.cssText=s+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===h.offsetWidth,h.style.display="block",h.innerHTML="<div></div>",h.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==h.offsetWidth,a.style.zoom=1),a.removeChild(n),n=h=r=i=null)}),n=r=o=s=i=a=null,t}();var xt=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,kt=/([A-Z])/g;ot.extend({cache:{},expando:"jQuery"+(K+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?ot.cache[e[ot.expando]]:e[ot.expando],!!e&&!o(e)},data:function(e,t,n){return r(e,t,n,!1)},removeData:function(e,t){return s(e,t,!1)},_data:function(e,t,n){return r(e,t,n,!0)},_removeData:function(e,t){return s(e,t,!0)},acceptData:function(e){var t=e.nodeName&&ot.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),ot.fn.extend({data:function(e,n){var i,r,s=this[0],o=0,l=null;if(e===t){if(this.length&&(l=ot.data(s),1===s.nodeType&&!ot._data(s,"parsedAttrs"))){for(i=s.attributes;o<i.length;o++)r=i[o].name,r.indexOf("data-")||(r=ot.camelCase(r.substring(5)),a(s,r,l[r]));ot._data(s,"parsedAttrs",!0)}return l}return"object"==typeof e?this.each(function(){ot.data(this,e)}):ot.access(this,function(n){return n===t?s?a(s,e,ot.data(s,e)):null:void this.each(function(){ot.data(this,e,n)})},null,n,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){ot.removeData(this,e)})}}),ot.extend({queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",i=ot._data(e,t),n&&(!i||ot.isArray(n)?i=ot._data(e,t,ot.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=ot.queue(e,t),i=n.length,r=n.shift(),s=ot._queueHooks(e,t),a=function(){ot.dequeue(e,t)};"inprogress"===r&&(r=n.shift(),i--),s.cur=r,r&&("fx"===t&&n.unshift("inprogress"),delete s.stop,r.call(e,a,s)),!i&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ot._data(e,n)||ot._data(e,n,{empty:ot.Callbacks("once memory").add(function(){ot._removeData(e,t+"queue"),ot._removeData(e,n)})})}}),ot.fn.extend({queue:function(e,n){var i=2;return"string"!=typeof e&&(n=e,e="fx",i--),arguments.length<i?ot.queue(this[0],e):n===t?this:this.each(function(){var t=ot.queue(this,e,n);ot._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&ot.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ot.dequeue(this,e)})},delay:function(e,t){return e=ot.fx?ot.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var i,r=1,s=ot.Deferred(),a=this,o=this.length,l=function(){--r||s.resolveWith(a,[a])};for("string"!=typeof e&&(n=e,e=t),e=e||"fx";o--;)i=ot._data(a[o],e+"queueHooks"),i&&i.empty&&(r++,i.empty.add(l));return l(),s.promise(n)}});var Ct,Tt,St=/[\t\r\n]/g,Dt=/\r/g,Et=/^(?:input|select|textarea|button|object)$/i,Pt=/^(?:a|area)$/i,Mt=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,At=/^(?:checked|selected)$/i,Nt=ot.support.getSetAttribute,Ot=ot.support.input;ot.fn.extend({attr:function(e,t){return ot.access(this,ot.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ot.removeAttr(this,e)})},prop:function(e,t){return ot.access(this,ot.prop,e,t,arguments.length>1)},removeProp:function(e){return e=ot.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,i,r,s,a=0,o=this.length,l="string"==typeof e&&e;if(ot.isFunction(e))return this.each(function(t){ot(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(ct)||[];o>a;a++)if(n=this[a],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(St," "):" ")){for(s=0;r=t[s++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");n.className=ot.trim(i)}return this},removeClass:function(e){var t,n,i,r,s,a=0,o=this.length,l=0===arguments.length||"string"==typeof e&&e;
if(ot.isFunction(e))return this.each(function(t){ot(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(ct)||[];o>a;a++)if(n=this[a],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(St," "):"")){for(s=0;r=t[s++];)for(;i.indexOf(" "+r+" ")>=0;)i=i.replace(" "+r+" "," ");n.className=e?ot.trim(i):""}return this},toggleClass:function(e,t){var n=typeof e,i="boolean"==typeof t;return this.each(ot.isFunction(e)?function(n){ot(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var r,s=0,a=ot(this),o=t,l=e.match(ct)||[];r=l[s++];)o=i?o:!a.hasClass(r),a[o?"addClass":"removeClass"](r);else("undefined"===n||"boolean"===n)&&(this.className&&ot._data(this,"__className__",this.className),this.className=this.className||e===!1?"":ot._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(St," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,i,r,s=this[0];{if(arguments.length)return r=ot.isFunction(e),this.each(function(i){var s,a=ot(this);1===this.nodeType&&(s=r?e.call(this,i,a.val()):e,null==s?s="":"number"==typeof s?s+="":ot.isArray(s)&&(s=ot.map(s,function(e){return null==e?"":e+""})),n=ot.valHooks[this.type]||ot.valHooks[this.nodeName.toLowerCase()],n&&"set"in n&&n.set(this,s,"value")!==t||(this.value=s))});if(s)return n=ot.valHooks[s.type]||ot.valHooks[s.nodeName.toLowerCase()],n&&"get"in n&&(i=n.get(s,"value"))!==t?i:(i=s.value,"string"==typeof i?i.replace(Dt,""):null==i?"":i)}}}),ot.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,s="select-one"===e.type||0>r,a=s?null:[],o=s?r+1:i.length,l=0>r?o:s?r:0;o>l;l++)if(n=i[l],!(!n.selected&&l!==r||(ot.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&ot.nodeName(n.parentNode,"optgroup"))){if(t=ot(n).val(),s)return t;a.push(t)}return a},set:function(e,t){var n=ot.makeArray(t);return ot(e).find("option").each(function(){this.selected=ot.inArray(ot(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attr:function(e,n,i){var r,s,a,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?ot.prop(e,n,i):(a=1!==o||!ot.isXMLDoc(e),a&&(n=n.toLowerCase(),s=ot.attrHooks[n]||(Mt.test(n)?Tt:Ct)),i===t?s&&a&&"get"in s&&null!==(r=s.get(e,n))?r:("undefined"!=typeof e.getAttribute&&(r=e.getAttribute(n)),null==r?t:r):null!==i?s&&a&&"set"in s&&(r=s.set(e,i,n))!==t?r:(e.setAttribute(n,i+""),i):void ot.removeAttr(e,n))},removeAttr:function(e,t){var n,i,r=0,s=t&&t.match(ct);if(s&&1===e.nodeType)for(;n=s[r++];)i=ot.propFix[n]||n,Mt.test(n)?!Nt&&At.test(n)?e[ot.camelCase("default-"+n)]=e[i]=!1:e[i]=!1:ot.attr(e,n,""),e.removeAttribute(Nt?n:i)},attrHooks:{type:{set:function(e,t){if(!ot.support.radioValue&&"radio"===t&&ot.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,i){var r,s,a,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return a=1!==o||!ot.isXMLDoc(e),a&&(n=ot.propFix[n]||n,s=ot.propHooks[n]),i!==t?s&&"set"in s&&(r=s.set(e,i,n))!==t?r:e[n]=i:s&&"get"in s&&null!==(r=s.get(e,n))?r:e[n]},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):Et.test(e.nodeName)||Pt.test(e.nodeName)&&e.href?0:t}}}}),Tt={get:function(e,n){var i=ot.prop(e,n),r="boolean"==typeof i&&e.getAttribute(n),s="boolean"==typeof i?Ot&&Nt?null!=r:At.test(n)?e[ot.camelCase("default-"+n)]:!!r:e.getAttributeNode(n);return s&&s.value!==!1?n.toLowerCase():t},set:function(e,t,n){return t===!1?ot.removeAttr(e,n):Ot&&Nt||!At.test(n)?e.setAttribute(!Nt&&ot.propFix[n]||n,n):e[ot.camelCase("default-"+n)]=e[n]=!0,n}},Ot&&Nt||(ot.attrHooks.value={get:function(e,n){var i=e.getAttributeNode(n);return ot.nodeName(e,"input")?e.defaultValue:i&&i.specified?i.value:t},set:function(e,t,n){return ot.nodeName(e,"input")?void(e.defaultValue=t):Ct&&Ct.set(e,t,n)}}),Nt||(Ct=ot.valHooks.button={get:function(e,n){var i=e.getAttributeNode(n);return i&&("id"===n||"name"===n||"coords"===n?""!==i.value:i.specified)?i.value:t},set:function(e,n,i){var r=e.getAttributeNode(i);return r||e.setAttributeNode(r=e.ownerDocument.createAttribute(i)),r.value=n+="","value"===i||n===e.getAttribute(i)?n:t}},ot.attrHooks.contenteditable={get:Ct.get,set:function(e,t,n){Ct.set(e,""===t?!1:t,n)}},ot.each(["width","height"],function(e,t){ot.attrHooks[t]=ot.extend(ot.attrHooks[t],{set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}})})),ot.support.hrefNormalized||(ot.each(["href","src","width","height"],function(e,n){ot.attrHooks[n]=ot.extend(ot.attrHooks[n],{get:function(e){var i=e.getAttribute(n,2);return null==i?t:i}})}),ot.each(["href","src"],function(e,t){ot.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}})),ot.support.style||(ot.attrHooks.style={get:function(e){return e.style.cssText||t},set:function(e,t){return e.style.cssText=t+""}}),ot.support.optSelected||(ot.propHooks.selected=ot.extend(ot.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),ot.support.enctype||(ot.propFix.enctype="encoding"),ot.support.checkOn||ot.each(["radio","checkbox"],function(){ot.valHooks[this]={get:function(e){return null===e.getAttribute("value")?"on":e.value}}}),ot.each(["radio","checkbox"],function(){ot.valHooks[this]=ot.extend(ot.valHooks[this],{set:function(e,t){return ot.isArray(t)?e.checked=ot.inArray(ot(e).val(),t)>=0:void 0}})});var Ht=/^(?:input|select|textarea)$/i,Lt=/^key/,It=/^(?:mouse|contextmenu)|click/,jt=/^(?:focusinfocus|focusoutblur)$/,Ft=/^([^.]*)(?:\.(.+)|)$/;ot.event={global:{},add:function(e,n,i,r,s){var a,o,l,c,u,h,d,p,f,m,g,v=3!==e.nodeType&&8!==e.nodeType&&ot._data(e);if(v){for(i.handler&&(a=i,i=a.handler,s=a.selector),i.guid||(i.guid=ot.guid++),(c=v.events)||(c=v.events={}),(o=v.handle)||(o=v.handle=function(e){return"undefined"==typeof ot||e&&ot.event.triggered===e.type?t:ot.event.dispatch.apply(o.elem,arguments)},o.elem=e),n=(n||"").match(ct)||[""],u=n.length;u--;)l=Ft.exec(n[u])||[],f=g=l[1],m=(l[2]||"").split(".").sort(),d=ot.event.special[f]||{},f=(s?d.delegateType:d.bindType)||f,d=ot.event.special[f]||{},h=ot.extend({type:f,origType:g,data:r,handler:i,guid:i.guid,selector:s,needsContext:s&&ot.expr.match.needsContext.test(s),namespace:m.join(".")},a),(p=c[f])||(p=c[f]=[],p.delegateCount=0,d.setup&&d.setup.call(e,r,m,o)!==!1||(e.addEventListener?e.addEventListener(f,o,!1):e.attachEvent&&e.attachEvent("on"+f,o))),d.add&&(d.add.call(e,h),h.handler.guid||(h.handler.guid=i.guid)),s?p.splice(p.delegateCount++,0,h):p.push(h),ot.event.global[f]=!0;e=null}},remove:function(e,t,n,i,r){var s,a,o,l,c,u,h,d,p,f,m,g=ot.hasData(e)&&ot._data(e);if(g&&(l=g.events)){for(t=(t||"").match(ct)||[""],c=t.length;c--;)if(o=Ft.exec(t[c])||[],p=m=o[1],f=(o[2]||"").split(".").sort(),p){for(h=ot.event.special[p]||{},p=(i?h.delegateType:h.bindType)||p,d=l[p]||[],o=o[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=s=d.length;s--;)u=d[s],!r&&m!==u.origType||n&&n.guid!==u.guid||o&&!o.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(d.splice(s,1),u.selector&&d.delegateCount--,h.remove&&h.remove.call(e,u));a&&!d.length&&(h.teardown&&h.teardown.call(e,f,g.handle)!==!1||ot.removeEvent(e,p,g.handle),delete l[p])}else for(p in l)ot.event.remove(e,p+t[c],n,i,!0);ot.isEmptyObject(l)&&(delete g.handle,ot._removeData(e,"events"))}},trigger:function(n,i,r,s){var a,o,l,c,u,h,d,p=[r||z],f=n.type||n,m=n.namespace?n.namespace.split("."):[];if(o=l=r=r||z,3!==r.nodeType&&8!==r.nodeType&&!jt.test(f+ot.event.triggered)&&(f.indexOf(".")>=0&&(m=f.split("."),f=m.shift(),m.sort()),u=f.indexOf(":")<0&&"on"+f,n=n[ot.expando]?n:new ot.Event(f,"object"==typeof n&&n),n.isTrigger=!0,n.namespace=m.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=t,n.target||(n.target=r),i=null==i?[n]:ot.makeArray(i,[n]),d=ot.event.special[f]||{},s||!d.trigger||d.trigger.apply(r,i)!==!1)){if(!s&&!d.noBubble&&!ot.isWindow(r)){for(c=d.delegateType||f,jt.test(c+f)||(o=o.parentNode);o;o=o.parentNode)p.push(o),l=o;l===(r.ownerDocument||z)&&p.push(l.defaultView||l.parentWindow||e)}for(a=0;(o=p[a++])&&!n.isPropagationStopped();)n.type=a>1?c:d.bindType||f,h=(ot._data(o,"events")||{})[n.type]&&ot._data(o,"handle"),h&&h.apply(o,i),h=u&&o[u],h&&ot.acceptData(o)&&h.apply&&h.apply(o,i)===!1&&n.preventDefault();if(n.type=f,!(s||n.isDefaultPrevented()||d._default&&d._default.apply(r.ownerDocument,i)!==!1||"click"===f&&ot.nodeName(r,"a")||!ot.acceptData(r)||!u||!r[f]||ot.isWindow(r))){l=r[u],l&&(r[u]=null),ot.event.triggered=f;try{r[f]()}catch(g){}ot.event.triggered=t,l&&(r[u]=l)}return n.result}},dispatch:function(e){e=ot.event.fix(e);var n,i,r,s,a,o=[],l=nt.call(arguments),c=(ot._data(this,"events")||{})[e.type]||[],u=ot.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,e)!==!1){for(o=ot.event.handlers.call(this,e,c),n=0;(s=o[n++])&&!e.isPropagationStopped();)for(e.currentTarget=s.elem,i=0;(a=s.handlers[i++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(a.namespace))&&(e.handleObj=a,e.data=a.data,r=((ot.event.special[a.origType]||{}).handle||a.handler).apply(s.elem,l),r!==t&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,n){var i,r,s,a,o=[],l=n.delegateCount,c=e.target;if(l&&c.nodeType&&(!e.button||"click"!==e.type))for(;c!=this;c=c.parentNode||this)if(c.disabled!==!0||"click"!==e.type){for(r=[],i=0;l>i;i++)a=n[i],s=a.selector+" ",r[s]===t&&(r[s]=a.needsContext?ot(s,this).index(c)>=0:ot.find(s,this,null,[c]).length),r[s]&&r.push(a);r.length&&o.push({elem:c,handlers:r})}return l<n.length&&o.push({elem:this,handlers:n.slice(l)}),o},fix:function(e){if(e[ot.expando])return e;var t,n,i=e,r=ot.event.fixHooks[e.type]||{},s=r.props?this.props.concat(r.props):this.props;for(e=new ot.Event(i),t=s.length;t--;)n=s[t],e[n]=i[n];return e.target||(e.target=i.srcElement||z),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,r.filter?r.filter(e,i):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var i,r,s,a=n.button,o=n.fromElement;return null==e.pageX&&null!=n.clientX&&(i=e.target.ownerDocument||z,r=i.documentElement,s=i.body,e.pageX=n.clientX+(r&&r.scrollLeft||s&&s.scrollLeft||0)-(r&&r.clientLeft||s&&s.clientLeft||0),e.pageY=n.clientY+(r&&r.scrollTop||s&&s.scrollTop||0)-(r&&r.clientTop||s&&s.clientTop||0)),!e.relatedTarget&&o&&(e.relatedTarget=o===e.target?n.toElement:o),e.which||a===t||(e.which=1&a?1:2&a?3:4&a?2:0),e}},special:{load:{noBubble:!0},click:{trigger:function(){return ot.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0}},focus:{trigger:function(){if(this!==z.activeElement&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===z.activeElement&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var r=ot.extend(new ot.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?ot.event.trigger(r,null,t):ot.event.dispatch.call(t,r),r.isDefaultPrevented()&&n.preventDefault()}},ot.removeEvent=z.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var i="on"+t;e.detachEvent&&("undefined"==typeof e[i]&&(e[i]=null),e.detachEvent(i,n))},ot.Event=function(e,t){return this instanceof ot.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?l:c):this.type=e,t&&ot.extend(this,t),this.timeStamp=e&&e.timeStamp||ot.now(),void(this[ot.expando]=!0)):new ot.Event(e,t)},ot.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=l,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=l,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=l,this.stopPropagation()}},ot.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){ot.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,s=e.handleObj;return(!r||r!==i&&!ot.contains(i,r))&&(e.type=s.origType,n=s.handler.apply(this,arguments),e.type=t),n}}}),ot.support.submitBubbles||(ot.event.special.submit={setup:function(){return ot.nodeName(this,"form")?!1:void ot.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,i=ot.nodeName(n,"input")||ot.nodeName(n,"button")?n.form:t;i&&!ot._data(i,"submitBubbles")&&(ot.event.add(i,"submit._submit",function(e){e._submit_bubble=!0}),ot._data(i,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&ot.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return ot.nodeName(this,"form")?!1:void ot.event.remove(this,"._submit")}}),ot.support.changeBubbles||(ot.event.special.change={setup:function(){return Ht.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(ot.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),ot.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),ot.event.simulate("change",this,e,!0)})),!1):void ot.event.add(this,"beforeactivate._change",function(e){var t=e.target;Ht.test(t.nodeName)&&!ot._data(t,"changeBubbles")&&(ot.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||ot.event.simulate("change",this.parentNode,e,!0)}),ot._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return ot.event.remove(this,"._change"),!Ht.test(this.nodeName)}}),ot.support.focusinBubbles||ot.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,i=function(e){ot.event.simulate(t,e.target,ot.event.fix(e),!0)};ot.event.special[t]={setup:function(){0===n++&&z.addEventListener(e,i,!0)},teardown:function(){0===--n&&z.removeEventListener(e,i,!0)}}}),ot.fn.extend({on:function(e,n,i,r,s){var a,o;if("object"==typeof e){"string"!=typeof n&&(i=i||n,n=t);for(o in e)this.on(o,n,i,e[o],s);return this}if(null==i&&null==r?(r=n,i=n=t):null==r&&("string"==typeof n?(r=i,i=t):(r=i,i=n,n=t)),r===!1)r=c;else if(!r)return this;return 1===s&&(a=r,r=function(e){return ot().off(e),a.apply(this,arguments)},r.guid=a.guid||(a.guid=ot.guid++)),this.each(function(){ot.event.add(this,e,r,i,n)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,n,i){var r,s;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,ot(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(s in e)this.off(s,n,e[s]);return this}return(n===!1||"function"==typeof n)&&(i=n,n=t),i===!1&&(i=c),this.each(function(){ot.event.remove(this,e,i,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},trigger:function(e,t){return this.each(function(){ot.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?ot.event.trigger(e,t,n,!0):void 0},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),ot.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){ot.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)},Lt.test(t)&&(ot.event.fixHooks[t]=ot.event.keyHooks),It.test(t)&&(ot.event.fixHooks[t]=ot.event.mouseHooks)}),function(e,t){function n(e){return ft.test(e+"")}function i(){var e,t=[];return e=function(n,i){return t.push(n+=" ")>C.cacheLength&&delete e[t.shift()],e[n]=i}}function r(e){return e[R]=!0,e}function s(e){var t=A.createElement("div");try{return e(t)}catch(n){return!1}finally{t=null}}function a(e,t,n,i){var r,s,a,o,l,c,u,p,f,m;if((t?t.ownerDocument||t:V)!==A&&M(t),t=t||A,n=n||[],!e||"string"!=typeof e)return n;if(1!==(o=t.nodeType)&&9!==o)return[];if(!O&&!i){if(r=mt.exec(e))if(a=r[1]){if(9===o){if(s=t.getElementById(a),!s||!s.parentNode)return n;if(s.id===a)return n.push(s),n}else if(t.ownerDocument&&(s=t.ownerDocument.getElementById(a))&&j(t,s)&&s.id===a)return n.push(s),n}else{if(r[2])return Q.apply(n,Z.call(t.getElementsByTagName(e),0)),n;if((a=r[3])&&U.getByClassName&&t.getElementsByClassName)return Q.apply(n,Z.call(t.getElementsByClassName(a),0)),n}if(U.qsa&&!H.test(e)){if(u=!0,p=R,f=t,m=9===o&&e,1===o&&"object"!==t.nodeName.toLowerCase()){for(c=h(e),(u=t.getAttribute("id"))?p=u.replace(yt,"\\$&"):t.setAttribute("id",p),p="[id='"+p+"'] ",l=c.length;l--;)c[l]=p+d(c[l]);f=pt.test(e)&&t.parentNode||t,m=c.join(",")}if(m)try{return Q.apply(n,Z.call(f.querySelectorAll(m),0)),n}catch(g){}finally{u||t.removeAttribute("id")}}}return w(e.replace(at,"$1"),t,n,i)}function o(e,t){for(var n=e&&t&&e.nextSibling;n;n=n.nextSibling)if(n===t)return-1;return e?1:-1}function l(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function c(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function u(e){return r(function(t){return t=+t,r(function(n,i){for(var r,s=e([],n.length,t),a=s.length;a--;)n[r=s[a]]&&(n[r]=!(i[r]=n[r]))})})}function h(e,t){var n,i,r,s,o,l,c,u=q[e+" "];if(u)return t?0:u.slice(0);for(o=e,l=[],c=C.preFilter;o;){(!n||(i=lt.exec(o)))&&(i&&(o=o.slice(i[0].length)||o),l.push(r=[])),n=!1,(i=ct.exec(o))&&(n=i.shift(),r.push({value:n,type:i[0].replace(at," ")}),o=o.slice(n.length));for(s in C.filter)!(i=dt[s].exec(o))||c[s]&&!(i=c[s](i))||(n=i.shift(),r.push({value:n,type:s,matches:i}),o=o.slice(n.length));if(!n)break}return t?o.length:o?a.error(e):q(e,l).slice(0)}function d(e){for(var t=0,n=e.length,i="";n>t;t++)i+=e[t].value;return i}function p(e,t,n){var i=t.dir,r=n&&"parentNode"===t.dir,s=Y++;return t.first?function(t,n,s){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,s)}:function(t,n,a){var o,l,c,u=$+" "+s;if(a){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,a))return!0}else for(;t=t[i];)if(1===t.nodeType||r)if(c=t[R]||(t[R]={}),(l=c[i])&&l[0]===u){if((o=l[1])===!0||o===k)return o===!0}else if(l=c[i]=[u],l[1]=e(t,n,a)||k,l[1]===!0)return!0}}function f(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function m(e,t,n,i,r){for(var s,a=[],o=0,l=e.length,c=null!=t;l>o;o++)(s=e[o])&&(!n||n(s,i,r))&&(a.push(s),c&&t.push(o));return a}function g(e,t,n,i,s,a){return i&&!i[R]&&(i=g(i)),s&&!s[R]&&(s=g(s,a)),r(function(r,a,o,l){var c,u,h,d=[],p=[],f=a.length,g=r||b(t||"*",o.nodeType?[o]:o,[]),v=!e||!r&&t?g:m(g,d,e,o,l),y=n?s||(r?e:f||i)?[]:a:v;if(n&&n(v,y,o,l),i)for(c=m(y,p),i(c,[],o,l),u=c.length;u--;)(h=c[u])&&(y[p[u]]=!(v[p[u]]=h));if(r){if(s||e){if(s){for(c=[],u=y.length;u--;)(h=y[u])&&c.push(v[u]=h);s(null,y=[],c,l)}for(u=y.length;u--;)(h=y[u])&&(c=s?K.call(r,h):d[u])>-1&&(r[c]=!(a[c]=h))}}else y=m(y===a?y.splice(f,y.length):y),s?s(null,a,y,l):Q.apply(a,y)})}function v(e){for(var t,n,i,r=e.length,s=C.relative[e[0].type],a=s||C.relative[" "],o=s?1:0,l=p(function(e){return e===t},a,!0),c=p(function(e){return K.call(t,e)>-1},a,!0),u=[function(e,n,i){return!s&&(i||n!==P)||((t=n).nodeType?l(e,n,i):c(e,n,i))}];r>o;o++)if(n=C.relative[e[o].type])u=[p(f(u),n)];else{if(n=C.filter[e[o].type].apply(null,e[o].matches),n[R]){for(i=++o;r>i&&!C.relative[e[i].type];i++);return g(o>1&&f(u),o>1&&d(e.slice(0,o-1)).replace(at,"$1"),n,i>o&&v(e.slice(o,i)),r>i&&v(e=e.slice(i)),r>i&&d(e))}u.push(n)}return f(u)}function y(e,t){var n=0,i=t.length>0,s=e.length>0,o=function(r,o,l,c,u){var h,d,p,f=[],g=0,v="0",y=r&&[],b=null!=u,w=P,_=r||s&&C.find.TAG("*",u&&o.parentNode||o),x=$+=null==w?1:Math.E;for(b&&(P=o!==A&&o,k=n);null!=(h=_[v]);v++){if(s&&h){for(d=0;p=e[d];d++)if(p(h,o,l)){c.push(h);break}b&&($=x,k=++n)}i&&((h=!p&&h)&&g--,r&&y.push(h))}if(g+=v,i&&v!==g){for(d=0;p=t[d];d++)p(y,f,o,l);if(r){if(g>0)for(;v--;)y[v]||f[v]||(f[v]=J.call(c));f=m(f)}Q.apply(c,f),b&&!r&&f.length>0&&g+t.length>1&&a.uniqueSort(c)}return b&&($=x,P=w),y};return i?r(o):o}function b(e,t,n){for(var i=0,r=t.length;r>i;i++)a(e,t[i],n);return n}function w(e,t,n,i){var r,s,a,o,l,c=h(e);if(!i&&1===c.length){if(s=c[0]=c[0].slice(0),s.length>2&&"ID"===(a=s[0]).type&&9===t.nodeType&&!O&&C.relative[s[1].type]){if(t=C.find.ID(a.matches[0].replace(wt,_t),t)[0],!t)return n;e=e.slice(s.shift().value.length)}for(r=dt.needsContext.test(e)?-1:s.length-1;r>=0&&(a=s[r],!C.relative[o=a.type]);r--)if((l=C.find[o])&&(i=l(a.matches[0].replace(wt,_t),pt.test(s[0].type)&&t.parentNode||t))){if(s.splice(r,1),e=i.length&&d(s),!e)return Q.apply(n,Z.call(i,0)),n;break}}return D(e,c)(i,t,O,n,pt.test(e)),n}function _(){}var x,k,C,T,S,D,E,P,M,A,N,O,H,L,I,j,F,R="sizzle"+-new Date,V=e.document,U={},$=0,Y=0,B=i(),q=i(),W=i(),z=typeof t,G=1<<31,X=[],J=X.pop,Q=X.push,Z=X.slice,K=X.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},et="[\\x20\\t\\r\\n\\f]",tt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",nt=tt.replace("w","w#"),it="([*^$|!~]?=)",rt="\\["+et+"*("+tt+")"+et+"*(?:"+it+et+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+nt+")|)|)"+et+"*\\]",st=":("+tt+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+rt.replace(3,8)+")*)|.*)\\)|)",at=new RegExp("^"+et+"+|((?:^|[^\\\\])(?:\\\\.)*)"+et+"+$","g"),lt=new RegExp("^"+et+"*,"+et+"*"),ct=new RegExp("^"+et+"*([\\x20\\t\\r\\n\\f>+~])"+et+"*"),ut=new RegExp(st),ht=new RegExp("^"+nt+"$"),dt={ID:new RegExp("^#("+tt+")"),CLASS:new RegExp("^\\.("+tt+")"),NAME:new RegExp("^\\[name=['\"]?("+tt+")['\"]?\\]"),TAG:new RegExp("^("+tt.replace("w","w*")+")"),ATTR:new RegExp("^"+rt),PSEUDO:new RegExp("^"+st),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+et+"*(even|odd|(([+-]|)(\\d*)n|)"+et+"*(?:([+-]|)"+et+"*(\\d+)|))"+et+"*\\)|)","i"),needsContext:new RegExp("^"+et+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+et+"*((?:-\\d)?\\d*)"+et+"*\\)|)(?=[^-]|$)","i")},pt=/[\x20\t\r\n\f]*[+~]/,ft=/\{\s*\[native code\]\s*\}/,mt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,gt=/^(?:input|select|textarea|button)$/i,vt=/^h\d$/i,yt=/'|\\/g,bt=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,wt=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,_t=function(e,t){var n="0x"+t-65536;return n!==n?t:0>n?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)};try{Z.call(N.childNodes,0)[0].nodeType}catch(xt){Z=function(e){for(var t,n=[];t=this[e];e++)n.push(t);return n}}S=a.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},M=a.setDocument=function(e){var i=e?e.ownerDocument||e:V;return i!==A&&9===i.nodeType&&i.documentElement?(A=i,N=i.documentElement,O=S(i),U.tagNameNoComments=s(function(e){return e.appendChild(i.createComment("")),!e.getElementsByTagName("*").length}),U.attributes=s(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return"boolean"!==t&&"string"!==t}),U.getByClassName=s(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",e.getElementsByClassName&&e.getElementsByClassName("e").length?(e.lastChild.className="e",2===e.getElementsByClassName("e").length):!1}),U.getByName=s(function(e){e.id=R+0,e.innerHTML="<a name='"+R+"'></a><div name='"+R+"'></div>",N.insertBefore(e,N.firstChild);var t=i.getElementsByName&&i.getElementsByName(R).length===2+i.getElementsByName(R+0).length;return U.getIdNotName=!i.getElementById(R),N.removeChild(e),t}),C.attrHandle=s(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==z&&"#"===e.firstChild.getAttribute("href")})?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},U.getIdNotName?(C.find.ID=function(e,t){if(typeof t.getElementById!==z&&!O){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},C.filter.ID=function(e){var t=e.replace(wt,_t);return function(e){return e.getAttribute("id")===t}}):(C.find.ID=function(e,n){if(typeof n.getElementById!==z&&!O){var i=n.getElementById(e);return i?i.id===e||typeof i.getAttributeNode!==z&&i.getAttributeNode("id").value===e?[i]:t:[]}},C.filter.ID=function(e){var t=e.replace(wt,_t);return function(e){var n=typeof e.getAttributeNode!==z&&e.getAttributeNode("id");return n&&n.value===t}}),C.find.TAG=U.tagNameNoComments?function(e,t){return typeof t.getElementsByTagName!==z?t.getElementsByTagName(e):void 0}:function(e,t){var n,i=[],r=0,s=t.getElementsByTagName(e);if("*"===e){for(;n=s[r];r++)1===n.nodeType&&i.push(n);return i}return s},C.find.NAME=U.getByName&&function(e,t){return typeof t.getElementsByName!==z?t.getElementsByName(name):void 0},C.find.CLASS=U.getByClassName&&function(e,t){return typeof t.getElementsByClassName===z||O?void 0:t.getElementsByClassName(e)},L=[],H=[":focus"],(U.qsa=n(i.querySelectorAll))&&(s(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||H.push("\\["+et+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||H.push(":checked")}),s(function(e){e.innerHTML="<input type='hidden' i=''/>",e.querySelectorAll("[i^='']").length&&H.push("[*^$]="+et+"*(?:\"\"|'')"),e.querySelectorAll(":enabled").length||H.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),H.push(",.*:")})),(U.matchesSelector=n(I=N.matchesSelector||N.mozMatchesSelector||N.webkitMatchesSelector||N.oMatchesSelector||N.msMatchesSelector))&&s(function(e){U.disconnectedMatch=I.call(e,"div"),I.call(e,"[s!='']:x"),L.push("!=",st)}),H=new RegExp(H.join("|")),L=new RegExp(L.join("|")),j=n(N.contains)||N.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},F=N.compareDocumentPosition?function(e,t){var n;return e===t?(E=!0,0):(n=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t))?1&n||e.parentNode&&11===e.parentNode.nodeType?e===i||j(V,e)?-1:t===i||j(V,t)?1:0:4&n?-1:1:e.compareDocumentPosition?-1:1}:function(e,t){var n,r=0,s=e.parentNode,a=t.parentNode,l=[e],c=[t];if(e===t)return E=!0,0;if(e.sourceIndex&&t.sourceIndex)return(~t.sourceIndex||G)-(j(V,e)&&~e.sourceIndex||G);if(!s||!a)return e===i?-1:t===i?1:s?-1:a?1:0;if(s===a)return o(e,t);for(n=e;n=n.parentNode;)l.unshift(n);for(n=t;n=n.parentNode;)c.unshift(n);for(;l[r]===c[r];)r++;return r?o(l[r],c[r]):l[r]===V?-1:c[r]===V?1:0},E=!1,[0,0].sort(F),U.detectDuplicates=E,A):A},a.matches=function(e,t){return a(e,null,null,t)},a.matchesSelector=function(e,t){if((e.ownerDocument||e)!==A&&M(e),t=t.replace(bt,"='$1']"),!(!U.matchesSelector||O||L&&L.test(t)||H.test(t)))try{var n=I.call(e,t);if(n||U.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(i){}return a(t,A,null,[e]).length>0},a.contains=function(e,t){return(e.ownerDocument||e)!==A&&M(e),j(e,t)},a.attr=function(e,t){var n;return(e.ownerDocument||e)!==A&&M(e),O||(t=t.toLowerCase()),(n=C.attrHandle[t])?n(e):O||U.attributes?e.getAttribute(t):((n=e.getAttributeNode(t))||e.getAttribute(t))&&e[t]===!0?t:n&&n.specified?n.value:null},a.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},a.uniqueSort=function(e){var t,n=[],i=1,r=0;if(E=!U.detectDuplicates,e.sort(F),E){for(;t=e[i];i++)t===e[i-1]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return e},T=a.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=T(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i];i++)n+=T(t);return n},C=a.selectors={cacheLength:50,createPseudo:r,match:dt,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(wt,_t),e[3]=(e[4]||e[5]||"").replace(wt,_t),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||a.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&a.error(e[0]),e},PSEUDO:function(e){var t,n=!e[5]&&e[2];return dt.CHILD.test(e[0])?null:(e[4]?e[2]=e[4]:n&&ut.test(n)&&(t=h(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){return"*"===e?function(){return!0}:(e=e.replace(wt,_t).toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=B[e+" "];return t||(t=new RegExp("(^|"+et+")"+e+"("+et+"|$)"))&&B(e,function(e){return t.test(e.className||typeof e.getAttribute!==z&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(i){var r=a.attr(i,e);return null==r?"!="===t:t?(r+="","="===t?r===n:"!="===t?r!==n:"^="===t?n&&0===r.indexOf(n):"*="===t?n&&r.indexOf(n)>-1:"$="===t?n&&r.substr(r.length-n.length)===n:"~="===t?(" "+r+" ").indexOf(n)>-1:"|="===t?r===n||r.substr(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,i,r){var s="nth"!==e.slice(0,3),a="last"!==e.slice(-4),o="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var c,u,h,d,p,f,m=s!==a?"nextSibling":"previousSibling",g=t.parentNode,v=o&&t.nodeName.toLowerCase(),y=!l&&!o;if(g){if(s){for(;m;){for(h=t;h=h[m];)if(o?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[a?g.firstChild:g.lastChild],a&&y){for(u=g[R]||(g[R]={}),c=u[e]||[],p=c[0]===$&&c[1],d=c[0]===$&&c[2],h=p&&g.childNodes[p];h=++p&&h&&h[m]||(d=p=0)||f.pop();)if(1===h.nodeType&&++d&&h===t){u[e]=[$,p,d];break}}else if(y&&(c=(t[R]||(t[R]={}))[e])&&c[0]===$)d=c[1];else for(;(h=++p&&h&&h[m]||(d=p=0)||f.pop())&&((o?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++d||(y&&((h[R]||(h[R]={}))[e]=[$,d]),h!==t)););return d-=r,d===i||d%i===0&&d/i>=0}}},PSEUDO:function(e,t){var n,i=C.pseudos[e]||C.setFilters[e.toLowerCase()]||a.error("unsupported pseudo: "+e);return i[R]?i(t):i.length>1?(n=[e,e,"",t],C.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,n){for(var r,s=i(e,t),a=s.length;a--;)r=K.call(e,s[a]),e[r]=!(n[r]=s[a])}):function(e){return i(e,0,n)}):i}},pseudos:{not:r(function(e){var t=[],n=[],i=D(e.replace(at,"$1"));
return i[R]?r(function(e,t,n,r){for(var s,a=i(e,null,r,[]),o=e.length;o--;)(s=a[o])&&(e[o]=!(t[o]=s))}):function(e,r,s){return t[0]=e,i(t,null,s,n),!n.pop()}}),has:r(function(e){return function(t){return a(e,t).length>0}}),contains:r(function(e){return function(t){return(t.textContent||t.innerText||T(t)).indexOf(e)>-1}}),lang:r(function(e){return ht.test(e||"")||a.error("unsupported lang: "+e),e=e.replace(wt,_t).toLowerCase(),function(t){var n;do if(n=O?t.getAttribute("xml:lang")||t.getAttribute("lang"):t.lang)return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===N},focus:function(e){return e===A.activeElement&&(!A.hasFocus||A.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!C.pseudos.empty(e)},header:function(e){return vt.test(e.nodeName)},input:function(e){return gt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,n){return[0>n?n+t:n]}),even:u(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:u(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:u(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:u(function(e,t,n){for(var i=0>n?n+t:n;++i<t;)e.push(i);return e})}};for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[x]=l(x);for(x in{submit:!0,reset:!0})C.pseudos[x]=c(x);D=a.compile=function(e,t){var n,i=[],r=[],s=W[e+" "];if(!s){for(t||(t=h(e)),n=t.length;n--;)s=v(t[n]),s[R]?i.push(s):r.push(s);s=W(e,y(r,i))}return s},C.pseudos.nth=C.pseudos.eq,C.filters=_.prototype=C.pseudos,C.setFilters=new _,M(),a.attr=ot.attr,ot.find=a,ot.expr=a.selectors,ot.expr[":"]=ot.expr.pseudos,ot.unique=a.uniqueSort,ot.text=a.getText,ot.isXMLDoc=a.isXML,ot.contains=a.contains}(e);var Rt=/Until$/,Vt=/^(?:parents|prev(?:Until|All))/,Ut=/^.[^:#\[\.,]*$/,$t=ot.expr.match.needsContext,Yt={children:!0,contents:!0,next:!0,prev:!0};ot.fn.extend({find:function(e){var t,n,i;if("string"!=typeof e)return i=this,this.pushStack(ot(e).filter(function(){for(t=0;t<i.length;t++)if(ot.contains(i[t],this))return!0}));for(n=[],t=0;t<this.length;t++)ot.find(e,this[t],n);return n=this.pushStack(ot.unique(n)),n.selector=(this.selector?this.selector+" ":"")+e,n},has:function(e){var t,n=ot(e,this),i=n.length;return this.filter(function(){for(t=0;i>t;t++)if(ot.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(h(this,e,!1))},filter:function(e){return this.pushStack(h(this,e,!0))},is:function(e){return!!e&&("string"==typeof e?$t.test(e)?ot(e,this.context).index(this[0])>=0:ot.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){for(var n,i=0,r=this.length,s=[],a=$t.test(e)||"string"!=typeof e?ot(e,t||this.context):0;r>i;i++)for(n=this[i];n&&n.ownerDocument&&n!==t&&11!==n.nodeType;){if(a?a.index(n)>-1:ot.find.matchesSelector(n,e)){s.push(n);break}n=n.parentNode}return this.pushStack(s.length>1?ot.unique(s):s)},index:function(e){return e?"string"==typeof e?ot.inArray(this[0],ot(e)):ot.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?ot(e,t):ot.makeArray(e&&e.nodeType?[e]:e),i=ot.merge(this.get(),n);return this.pushStack(ot.unique(i))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ot.fn.andSelf=ot.fn.addBack,ot.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ot.dir(e,"parentNode")},parentsUntil:function(e,t,n){return ot.dir(e,"parentNode",n)},next:function(e){return u(e,"nextSibling")},prev:function(e){return u(e,"previousSibling")},nextAll:function(e){return ot.dir(e,"nextSibling")},prevAll:function(e){return ot.dir(e,"previousSibling")},nextUntil:function(e,t,n){return ot.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return ot.dir(e,"previousSibling",n)},siblings:function(e){return ot.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return ot.sibling(e.firstChild)},contents:function(e){return ot.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:ot.merge([],e.childNodes)}},function(e,t){ot.fn[e]=function(n,i){var r=ot.map(this,t,n);return Rt.test(e)||(i=n),i&&"string"==typeof i&&(r=ot.filter(i,r)),r=this.length>1&&!Yt[e]?ot.unique(r):r,this.length>1&&Vt.test(e)&&(r=r.reverse()),this.pushStack(r)}}),ot.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),1===t.length?ot.find.matchesSelector(t[0],e)?[t[0]]:[]:ot.find.matches(e,t)},dir:function(e,n,i){for(var r=[],s=e[n];s&&9!==s.nodeType&&(i===t||1!==s.nodeType||!ot(s).is(i));)1===s.nodeType&&r.push(s),s=s[n];return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var Bt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",qt=/ jQuery\d+="(?:null|\d+)"/g,Wt=new RegExp("<(?:"+Bt+")[\\s/>]","i"),zt=/^\s+/,Gt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Xt=/<([\w:]+)/,Jt=/<tbody/i,Qt=/<|&#?\w+;/,Zt=/<(?:script|style|link)/i,Kt=/^(?:checkbox|radio)$/i,en=/checked\s*(?:[^=]|=\s*.checked.)/i,tn=/^$|\/(?:java|ecma)script/i,nn=/^true\/(.*)/,rn=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,sn={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ot.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},an=d(z),on=an.appendChild(z.createElement("div"));sn.optgroup=sn.option,sn.tbody=sn.tfoot=sn.colgroup=sn.caption=sn.thead,sn.th=sn.td,ot.fn.extend({text:function(e){return ot.access(this,function(e){return e===t?ot.text(this):this.empty().append((this[0]&&this[0].ownerDocument||z).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(ot.isFunction(e))return this.each(function(t){ot(this).wrapAll(e.call(this,t))});if(this[0]){var t=ot(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return this.each(ot.isFunction(e)?function(t){ot(this).wrapInner(e.call(this,t))}:function(){var t=ot(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=ot.isFunction(e);return this.each(function(n){ot(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){ot.nodeName(this,"body")||ot(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.insertBefore(e,this.firstChild)})},before:function(){return this.domManip(arguments,!1,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,!1,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=0;null!=(n=this[i]);i++)(!e||ot.filter(e,[n]).length>0)&&(t||1!==n.nodeType||ot.cleanData(b(n)),n.parentNode&&(t&&ot.contains(n.ownerDocument,n)&&g(b(n,"script")),n.parentNode.removeChild(n)));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&ot.cleanData(b(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&ot.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return ot.clone(this,e,t)})},html:function(e){return ot.access(this,function(e){var n=this[0]||{},i=0,r=this.length;if(e===t)return 1===n.nodeType?n.innerHTML.replace(qt,""):t;if(!("string"!=typeof e||Zt.test(e)||!ot.support.htmlSerialize&&Wt.test(e)||!ot.support.leadingWhitespace&&zt.test(e)||sn[(Xt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Gt,"<$1></$2>");try{for(;r>i;i++)n=this[i]||{},1===n.nodeType&&(ot.cleanData(b(n,!1)),n.innerHTML=e);n=0}catch(s){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){var t=ot.isFunction(e);return t||"string"==typeof e||(e=ot(e).not(this).detach()),this.domManip([e],!0,function(e){var t=this.nextSibling,n=this.parentNode;(n&&1===this.nodeType||11===this.nodeType)&&(ot(this).remove(),t?t.parentNode.insertBefore(e,t):n.appendChild(e))})},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,i){e=et.apply([],e);var r,s,a,o,l,c,u=0,h=this.length,d=this,g=h-1,v=e[0],y=ot.isFunction(v);if(y||!(1>=h||"string"!=typeof v||ot.support.checkClone)&&en.test(v))return this.each(function(r){var s=d.eq(r);y&&(e[0]=v.call(this,r,n?s.html():t)),s.domManip(e,n,i)});if(h&&(r=ot.buildFragment(e,this[0].ownerDocument,!1,this),s=r.firstChild,1===r.childNodes.length&&(r=s),s)){for(n=n&&ot.nodeName(s,"tr"),a=ot.map(b(r,"script"),f),o=a.length;h>u;u++)l=r,u!==g&&(l=ot.clone(l,!0,!0),o&&ot.merge(a,b(l,"script"))),i.call(n&&ot.nodeName(this[u],"table")?p(this[u],"tbody"):this[u],l,u);if(o)for(c=a[a.length-1].ownerDocument,ot.map(a,m),u=0;o>u;u++)l=a[u],tn.test(l.type||"")&&!ot._data(l,"globalEval")&&ot.contains(c,l)&&(l.src?ot.ajax({url:l.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):ot.globalEval((l.text||l.textContent||l.innerHTML||"").replace(rn,"")));r=s=null}return this}}),ot.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ot.fn[e]=function(e){for(var n,i=0,r=[],s=ot(e),a=s.length-1;a>=i;i++)n=i===a?this:this.clone(!0),ot(s[i])[t](n),tt.apply(r,n.get());return this.pushStack(r)}}),ot.extend({clone:function(e,t,n){var i,r,s,a,o,l=ot.contains(e.ownerDocument,e);if(ot.support.html5Clone||ot.isXMLDoc(e)||!Wt.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(on.innerHTML=e.outerHTML,on.removeChild(o=on.firstChild)),!(ot.support.noCloneEvent&&ot.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ot.isXMLDoc(e)))for(i=b(o),r=b(e),a=0;null!=(s=r[a]);++a)i[a]&&y(s,i[a]);if(t)if(n)for(r=r||b(e),i=i||b(o),a=0;null!=(s=r[a]);a++)v(s,i[a]);else v(e,o);return i=b(o,"script"),i.length>0&&g(i,!l&&b(e,"script")),i=r=s=null,o},buildFragment:function(e,t,n,i){for(var r,s,a,o,l,c,u,h=e.length,p=d(t),f=[],m=0;h>m;m++)if(s=e[m],s||0===s)if("object"===ot.type(s))ot.merge(f,s.nodeType?[s]:s);else if(Qt.test(s)){for(o=o||p.appendChild(t.createElement("div")),a=(Xt.exec(s)||["",""])[1].toLowerCase(),l=sn[a]||sn._default,o.innerHTML=l[1]+s.replace(Gt,"<$1></$2>")+l[2],u=l[0];u--;)o=o.lastChild;if(!ot.support.leadingWhitespace&&zt.test(s)&&f.push(t.createTextNode(zt.exec(s)[0])),!ot.support.tbody)for(s="table"!==a||Jt.test(s)?"<table>"!==l[1]||Jt.test(s)?0:o:o.firstChild,u=s&&s.childNodes.length;u--;)ot.nodeName(c=s.childNodes[u],"tbody")&&!c.childNodes.length&&s.removeChild(c);for(ot.merge(f,o.childNodes),o.textContent="";o.firstChild;)o.removeChild(o.firstChild);o=p.lastChild}else f.push(t.createTextNode(s));for(o&&p.removeChild(o),ot.support.appendChecked||ot.grep(b(f,"input"),w),m=0;s=f[m++];)if((!i||-1===ot.inArray(s,i))&&(r=ot.contains(s.ownerDocument,s),o=b(p.appendChild(s),"script"),r&&g(o),n))for(u=0;s=o[u++];)tn.test(s.type||"")&&n.push(s);return o=null,p},cleanData:function(e,t){for(var n,i,r,s,a=0,o=ot.expando,l=ot.cache,c=ot.support.deleteExpando,u=ot.event.special;null!=(r=e[a]);a++)if((t||ot.acceptData(r))&&(i=r[o],n=i&&l[i])){if(n.events)for(s in n.events)u[s]?ot.event.remove(r,s):ot.removeEvent(r,s,n.handle);l[i]&&(delete l[i],c?delete r[o]:"undefined"!=typeof r.removeAttribute?r.removeAttribute(o):r[o]=null,Z.push(i))}}});var ln,cn,un,hn=/alpha\([^)]*\)/i,dn=/opacity\s*=\s*([^)]*)/,pn=/^(top|right|bottom|left)$/,fn=/^(none|table(?!-c[ea]).+)/,mn=/^margin/,gn=new RegExp("^("+lt+")(.*)$","i"),vn=new RegExp("^("+lt+")(?!px)[a-z%]+$","i"),yn=new RegExp("^([+-])=("+lt+")","i"),bn={BODY:"block"},wn={position:"absolute",visibility:"hidden",display:"block"},_n={letterSpacing:0,fontWeight:400},xn=["Top","Right","Bottom","Left"],kn=["Webkit","O","Moz","ms"];ot.fn.extend({css:function(e,n){return ot.access(this,function(e,n,i){var r,s,a={},o=0;if(ot.isArray(n)){for(r=cn(e),s=n.length;s>o;o++)a[n[o]]=ot.css(e,n[o],!1,r);return a}return i!==t?ot.style(e,n,i):ot.css(e,n)},e,n,arguments.length>1)},show:function(){return k(this,!0)},hide:function(){return k(this)},toggle:function(e){var t="boolean"==typeof e;return this.each(function(){(t?e:x(this))?ot(this).show():ot(this).hide()})}}),ot.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=ln(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ot.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,i,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var s,a,o,l=ot.camelCase(n),c=e.style;if(n=ot.cssProps[l]||(ot.cssProps[l]=_(c,l)),o=ot.cssHooks[n]||ot.cssHooks[l],i===t)return o&&"get"in o&&(s=o.get(e,!1,r))!==t?s:c[n];if(a=typeof i,"string"===a&&(s=yn.exec(i))&&(i=(s[1]+1)*s[2]+parseFloat(ot.css(e,n)),a="number"),!(null==i||"number"===a&&isNaN(i)||("number"!==a||ot.cssNumber[l]||(i+="px"),ot.support.clearCloneStyle||""!==i||0!==n.indexOf("background")||(c[n]="inherit"),o&&"set"in o&&(i=o.set(e,i,r))===t)))try{c[n]=i}catch(u){}}},css:function(e,n,i,r){var s,a,o,l=ot.camelCase(n);return n=ot.cssProps[l]||(ot.cssProps[l]=_(e.style,l)),o=ot.cssHooks[n]||ot.cssHooks[l],o&&"get"in o&&(s=o.get(e,!0,i)),s===t&&(s=ln(e,n,r)),"normal"===s&&n in _n&&(s=_n[n]),i?(a=parseFloat(s),i===!0||ot.isNumeric(a)?a||0:s):s},swap:function(e,t,n,i){var r,s,a={};for(s in t)a[s]=e.style[s],e.style[s]=t[s];r=n.apply(e,i||[]);for(s in t)e.style[s]=a[s];return r}}),e.getComputedStyle?(cn=function(t){return e.getComputedStyle(t,null)},ln=function(e,n,i){var r,s,a,o=i||cn(e),l=o?o.getPropertyValue(n)||o[n]:t,c=e.style;return o&&(""!==l||ot.contains(e.ownerDocument,e)||(l=ot.style(e,n)),vn.test(l)&&mn.test(n)&&(r=c.width,s=c.minWidth,a=c.maxWidth,c.minWidth=c.maxWidth=c.width=l,l=o.width,c.width=r,c.minWidth=s,c.maxWidth=a)),l}):z.documentElement.currentStyle&&(cn=function(e){return e.currentStyle},ln=function(e,n,i){var r,s,a,o=i||cn(e),l=o?o[n]:t,c=e.style;return null==l&&c&&c[n]&&(l=c[n]),vn.test(l)&&!pn.test(n)&&(r=c.left,s=e.runtimeStyle,a=s&&s.left,a&&(s.left=e.currentStyle.left),c.left="fontSize"===n?"1em":l,l=c.pixelLeft+"px",c.left=r,a&&(s.left=a)),""===l?"auto":l}),ot.each(["height","width"],function(e,t){ot.cssHooks[t]={get:function(e,n,i){return n?0===e.offsetWidth&&fn.test(ot.css(e,"display"))?ot.swap(e,wn,function(){return S(e,t,i)}):S(e,t,i):void 0},set:function(e,n,i){var r=i&&cn(e);return C(e,n,i?T(e,t,i,ot.support.boxSizing&&"border-box"===ot.css(e,"boxSizing",!1,r),r):0)}}}),ot.support.opacity||(ot.cssHooks.opacity={get:function(e,t){return dn.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,i=e.currentStyle,r=ot.isNumeric(t)?"alpha(opacity="+100*t+")":"",s=i&&i.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===ot.trim(s.replace(hn,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||i&&!i.filter)||(n.filter=hn.test(s)?s.replace(hn,r):s+" "+r)}}),ot(function(){ot.support.reliableMarginRight||(ot.cssHooks.marginRight={get:function(e,t){return t?ot.swap(e,{display:"inline-block"},ln,[e,"marginRight"]):void 0}}),!ot.support.pixelPosition&&ot.fn.position&&ot.each(["top","left"],function(e,t){ot.cssHooks[t]={get:function(e,n){return n?(n=ln(e,t),vn.test(n)?ot(e).position()[t]+"px":n):void 0}}})}),ot.expr&&ot.expr.filters&&(ot.expr.filters.hidden=function(e){return 0===e.offsetWidth&&0===e.offsetHeight||!ot.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||ot.css(e,"display"))},ot.expr.filters.visible=function(e){return!ot.expr.filters.hidden(e)}),ot.each({margin:"",padding:"",border:"Width"},function(e,t){ot.cssHooks[e+t]={expand:function(n){for(var i=0,r={},s="string"==typeof n?n.split(" "):[n];4>i;i++)r[e+xn[i]+t]=s[i]||s[i-2]||s[0];return r}},mn.test(e)||(ot.cssHooks[e+t].set=C)});var Cn=/%20/g,Tn=/\[\]$/,Sn=/\r?\n/g,Dn=/^(?:submit|button|image|reset)$/i,En=/^(?:input|select|textarea|keygen)/i;ot.fn.extend({serialize:function(){return ot.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ot.prop(this,"elements");return e?ot.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ot(this).is(":disabled")&&En.test(this.nodeName)&&!Dn.test(e)&&(this.checked||!Kt.test(e))}).map(function(e,t){var n=ot(this).val();return null==n?null:ot.isArray(n)?ot.map(n,function(e){return{name:t.name,value:e.replace(Sn,"\r\n")}}):{name:t.name,value:n.replace(Sn,"\r\n")}}).get()}}),ot.param=function(e,n){var i,r=[],s=function(e,t){t=ot.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=ot.ajaxSettings&&ot.ajaxSettings.traditional),ot.isArray(e)||e.jquery&&!ot.isPlainObject(e))ot.each(e,function(){s(this.name,this.value)});else for(i in e)P(i,e[i],n,s);return r.join("&").replace(Cn,"+")};var Pn,Mn,An=ot.now(),Nn=/\?/,On=/#.*$/,Hn=/([?&])_=[^&]*/,Ln=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,In=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,jn=/^(?:GET|HEAD)$/,Fn=/^\/\//,Rn=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Vn=ot.fn.load,Un={},$n={},Yn="*/".concat("*");try{Mn=G.href}catch(Bn){Mn=z.createElement("a"),Mn.href="",Mn=Mn.href}Pn=Rn.exec(Mn.toLowerCase())||[],ot.fn.load=function(e,n,i){if("string"!=typeof e&&Vn)return Vn.apply(this,arguments);var r,s,a,o=this,l=e.indexOf(" ");return l>=0&&(r=e.slice(l,e.length),e=e.slice(0,l)),ot.isFunction(n)?(i=n,n=t):n&&"object"==typeof n&&(s="POST"),o.length>0&&ot.ajax({url:e,type:s,dataType:"html",data:n}).done(function(e){a=arguments,o.html(r?ot("<div>").append(ot.parseHTML(e)).find(r):e)}).complete(i&&function(e,t){o.each(i,a||[e.responseText,t,e])}),this},ot.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ot.fn[t]=function(e){return this.on(t,e)}}),ot.each(["get","post"],function(e,n){ot[n]=function(e,i,r,s){return ot.isFunction(i)&&(s=s||r,r=i,i=t),ot.ajax({url:e,type:n,dataType:s,data:i,success:r})}}),ot.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Mn,type:"GET",isLocal:In.test(Pn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Yn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":ot.parseJSON,"text xml":ot.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?N(N(e,ot.ajaxSettings),t):N(ot.ajaxSettings,e)},ajaxPrefilter:M(Un),ajaxTransport:M($n),ajax:function(e,n){function i(e,n,i,o){var c,h,y,b,_,k=n;2!==w&&(w=2,l&&clearTimeout(l),r=t,a=o||"",x.readyState=e>0?4:0,i&&(b=O(d,x,i)),e>=200&&300>e||304===e?(d.ifModified&&(_=x.getResponseHeader("Last-Modified"),_&&(ot.lastModified[s]=_),_=x.getResponseHeader("etag"),_&&(ot.etag[s]=_)),304===e?(c=!0,k="notmodified"):(c=H(d,b),k=c.state,h=c.data,y=c.error,c=!y)):(y=k,(e||!k)&&(k="error",0>e&&(e=0))),x.status=e,x.statusText=(n||k)+"",c?m.resolveWith(p,[h,k,x]):m.rejectWith(p,[x,k,y]),x.statusCode(v),v=t,u&&f.trigger(c?"ajaxSuccess":"ajaxError",[x,d,c?h:y]),g.fireWith(p,[x,k]),u&&(f.trigger("ajaxComplete",[x,d]),--ot.active||ot.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=t),n=n||{};var r,s,a,o,l,c,u,h,d=ot.ajaxSetup({},n),p=d.context||d,f=d.context&&(p.nodeType||p.jquery)?ot(p):ot.event,m=ot.Deferred(),g=ot.Callbacks("once memory"),v=d.statusCode||{},y={},b={},w=0,_="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(2===w){if(!o)for(o={};t=Ln.exec(a);)o[t[1].toLowerCase()]=t[2];t=o[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===w?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return w||(e=b[n]=b[n]||e,y[e]=t),this},overrideMimeType:function(e){return w||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>w)for(t in e)v[t]=[v[t],e[t]];else x.always(e[x.status]);return this},abort:function(e){var t=e||_;return r&&r.abort(t),i(0,t),this}};if(m.promise(x).complete=g.add,x.success=x.done,x.error=x.fail,d.url=((e||d.url||Mn)+"").replace(On,"").replace(Fn,Pn[1]+"//"),d.type=n.method||n.type||d.method||d.type,d.dataTypes=ot.trim(d.dataType||"*").toLowerCase().match(ct)||[""],null==d.crossDomain&&(c=Rn.exec(d.url.toLowerCase()),d.crossDomain=!(!c||c[1]===Pn[1]&&c[2]===Pn[2]&&(c[3]||("http:"===c[1]?80:443))==(Pn[3]||("http:"===Pn[1]?80:443)))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=ot.param(d.data,d.traditional)),A(Un,d,n,x),2===w)return x;u=d.global,u&&0===ot.active++&&ot.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!jn.test(d.type),s=d.url,d.hasContent||(d.data&&(s=d.url+=(Nn.test(s)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=Hn.test(s)?s.replace(Hn,"$1_="+An++):s+(Nn.test(s)?"&":"?")+"_="+An++)),d.ifModified&&(ot.lastModified[s]&&x.setRequestHeader("If-Modified-Since",ot.lastModified[s]),ot.etag[s]&&x.setRequestHeader("If-None-Match",ot.etag[s])),(d.data&&d.hasContent&&d.contentType!==!1||n.contentType)&&x.setRequestHeader("Content-Type",d.contentType),x.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Yn+"; q=0.01":""):d.accepts["*"]);for(h in d.headers)x.setRequestHeader(h,d.headers[h]);if(d.beforeSend&&(d.beforeSend.call(p,x,d)===!1||2===w))return x.abort();_="abort";for(h in{success:1,error:1,complete:1})x[h](d[h]);if(r=A($n,d,n,x)){x.readyState=1,u&&f.trigger("ajaxSend",[x,d]),d.async&&d.timeout>0&&(l=setTimeout(function(){x.abort("timeout")},d.timeout));try{w=1,r.send(y,i)}catch(k){if(!(2>w))throw k;i(-1,k)}}else i(-1,"No Transport");return x},getScript:function(e,n){return ot.get(e,t,n,"script")},getJSON:function(e,t,n){return ot.get(e,t,n,"json")}}),ot.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return ot.globalEval(e),e}}}),ot.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),ot.ajaxTransport("script",function(e){if(e.crossDomain){var n,i=z.head||ot("head")[0]||z.documentElement;return{send:function(t,r){n=z.createElement("script"),n.async=!0,e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,t){(t||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,t||r(200,"success"))},i.insertBefore(n,i.firstChild)},abort:function(){n&&n.onload(t,!0)}}}});var qn=[],Wn=/(=)\?(?=&|$)|\?\?/;ot.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=qn.pop()||ot.expando+"_"+An++;return this[e]=!0,e}}),ot.ajaxPrefilter("json jsonp",function(n,i,r){var s,a,o,l=n.jsonp!==!1&&(Wn.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Wn.test(n.data)&&"data");return l||"jsonp"===n.dataTypes[0]?(s=n.jsonpCallback=ot.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,l?n[l]=n[l].replace(Wn,"$1"+s):n.jsonp!==!1&&(n.url+=(Nn.test(n.url)?"&":"?")+n.jsonp+"="+s),n.converters["script json"]=function(){return o||ot.error(s+" was not called"),o[0]},n.dataTypes[0]="json",a=e[s],e[s]=function(){o=arguments},r.always(function(){e[s]=a,n[s]&&(n.jsonpCallback=i.jsonpCallback,qn.push(s)),o&&ot.isFunction(a)&&a(o[0]),o=a=t}),"script"):void 0});var zn,Gn,Xn=0,Jn=e.ActiveXObject&&function(){var e;for(e in zn)zn[e](t,!0)};ot.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&L()||I()}:L,Gn=ot.ajaxSettings.xhr(),ot.support.cors=!!Gn&&"withCredentials"in Gn,Gn=ot.support.ajax=!!Gn,Gn&&ot.ajaxTransport(function(n){if(!n.crossDomain||ot.support.cors){var i;return{send:function(r,s){var a,o,l=n.xhr();if(n.username?l.open(n.type,n.url,n.async,n.username,n.password):l.open(n.type,n.url,n.async),n.xhrFields)for(o in n.xhrFields)l[o]=n.xhrFields[o];n.mimeType&&l.overrideMimeType&&l.overrideMimeType(n.mimeType),n.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");try{for(o in r)l.setRequestHeader(o,r[o])}catch(c){}l.send(n.hasContent&&n.data||null),i=function(e,r){var o,c,u,h,d;try{if(i&&(r||4===l.readyState))if(i=t,a&&(l.onreadystatechange=ot.noop,Jn&&delete zn[a]),r)4!==l.readyState&&l.abort();else{h={},o=l.status,d=l.responseXML,u=l.getAllResponseHeaders(),d&&d.documentElement&&(h.xml=d),"string"==typeof l.responseText&&(h.text=l.responseText);try{c=l.statusText}catch(p){c=""}o||!n.isLocal||n.crossDomain?1223===o&&(o=204):o=h.text?200:404}}catch(f){r||s(-1,f)}h&&s(o,c,h,u)},n.async?4===l.readyState?setTimeout(i):(a=++Xn,Jn&&(zn||(zn={},ot(e).unload(Jn)),zn[a]=i),l.onreadystatechange=i):i()},abort:function(){i&&i(t,!0)}}}});var Qn,Zn,Kn=/^(?:toggle|show|hide)$/,ei=new RegExp("^(?:([+-])=|)("+lt+")([a-z%]*)$","i"),ti=/queueHooks$/,ni=[U],ii={"*":[function(e,t){var n,i,r=this.createTween(e,t),s=ei.exec(t),a=r.cur(),o=+a||0,l=1,c=20;if(s){if(n=+s[2],i=s[3]||(ot.cssNumber[e]?"":"px"),"px"!==i&&o){o=ot.css(r.elem,e,!0)||n||1;do l=l||".5",o/=l,ot.style(r.elem,e,o+i);while(l!==(l=r.cur()/a)&&1!==l&&--c)}r.unit=i,r.start=o,r.end=s[1]?o+(s[1]+1)*n:n}return r}]};ot.Animation=ot.extend(R,{tweener:function(e,t){ot.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,r=e.length;r>i;i++)n=e[i],ii[n]=ii[n]||[],ii[n].unshift(t)},prefilter:function(e,t){t?ni.unshift(e):ni.push(e)}}),ot.Tween=$,$.prototype={constructor:$,init:function(e,t,n,i,r,s){this.elem=e,this.prop=n,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=s||(ot.cssNumber[n]?"":"px")},cur:function(){var e=$.propHooks[this.prop];return e&&e.get?e.get(this):$.propHooks._default.get(this)},run:function(e){var t,n=$.propHooks[this.prop];return this.pos=t=this.options.duration?ot.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):$.propHooks._default.set(this),this}},$.prototype.init.prototype=$.prototype,$.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=ot.css(e.elem,e.prop,"auto"),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){ot.fx.step[e.prop]?ot.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[ot.cssProps[e.prop]]||ot.cssHooks[e.prop])?ot.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},$.propHooks.scrollTop=$.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ot.each(["toggle","show","hide"],function(e,t){var n=ot.fn[t];ot.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(Y(t,!0),e,i,r)}}),ot.fn.extend({fadeTo:function(e,t,n,i){return this.filter(x).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=ot.isEmptyObject(e),s=ot.speed(t,n,i),a=function(){var t=R(this,ot.extend({},e),s);a.finish=function(){t.stop(!0)},(r||ot._data(this,"finish"))&&t.stop(!0)};return a.finish=a,r||s.queue===!1?this.each(a):this.queue(s.queue,a)},stop:function(e,n,i){var r=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",s=ot.timers,a=ot._data(this);if(n)a[n]&&a[n].stop&&r(a[n]);else for(n in a)a[n]&&a[n].stop&&ti.test(n)&&r(a[n]);for(n=s.length;n--;)s[n].elem!==this||null!=e&&s[n].queue!==e||(s[n].anim.stop(i),t=!1,s.splice(n,1));(t||!i)&&ot.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=ot._data(this),i=n[e+"queue"],r=n[e+"queueHooks"],s=ot.timers,a=i?i.length:0;for(n.finish=!0,ot.queue(this,e,[]),r&&r.cur&&r.cur.finish&&r.cur.finish.call(this),t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;a>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),ot.each({slideDown:Y("show"),slideUp:Y("hide"),slideToggle:Y("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ot.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),ot.speed=function(e,t,n){var i=e&&"object"==typeof e?ot.extend({},e):{complete:n||!n&&t||ot.isFunction(e)&&e,duration:e,easing:n&&t||t&&!ot.isFunction(t)&&t};return i.duration=ot.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in ot.fx.speeds?ot.fx.speeds[i.duration]:ot.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){ot.isFunction(i.old)&&i.old.call(this),i.queue&&ot.dequeue(this,i.queue)},i},ot.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},ot.timers=[],ot.fx=$.prototype.init,ot.fx.tick=function(){var e,n=ot.timers,i=0;for(Qn=ot.now();i<n.length;i++)e=n[i],e()||n[i]!==e||n.splice(i--,1);n.length||ot.fx.stop(),Qn=t},ot.fx.timer=function(e){e()&&ot.timers.push(e)&&ot.fx.start()},ot.fx.interval=13,ot.fx.start=function(){Zn||(Zn=setInterval(ot.fx.tick,ot.fx.interval))},ot.fx.stop=function(){clearInterval(Zn),Zn=null},ot.fx.speeds={slow:600,fast:200,_default:400},ot.fx.step={},ot.expr&&ot.expr.filters&&(ot.expr.filters.animated=function(e){return ot.grep(ot.timers,function(t){return e===t.elem}).length}),ot.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){ot.offset.setOffset(this,e,t)});var n,i,r={top:0,left:0},s=this[0],a=s&&s.ownerDocument;if(a)return n=a.documentElement,ot.contains(n,s)?("undefined"!=typeof s.getBoundingClientRect&&(r=s.getBoundingClientRect()),i=B(a),{top:r.top+(i.pageYOffset||n.scrollTop)-(n.clientTop||0),left:r.left+(i.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):r},ot.offset={setOffset:function(e,t,n){var i=ot.css(e,"position");"static"===i&&(e.style.position="relative");var r,s,a=ot(e),o=a.offset(),l=ot.css(e,"top"),c=ot.css(e,"left"),u=("absolute"===i||"fixed"===i)&&ot.inArray("auto",[l,c])>-1,h={},d={};u?(d=a.position(),r=d.top,s=d.left):(r=parseFloat(l)||0,s=parseFloat(c)||0),ot.isFunction(t)&&(t=t.call(e,n,o)),null!=t.top&&(h.top=t.top-o.top+r),null!=t.left&&(h.left=t.left-o.left+s),"using"in t?t.using.call(e,h):a.css(h)}},ot.fn.extend({position:function(){if(this[0]){var e,t,n={top:0,left:0},i=this[0];return"fixed"===ot.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),ot.nodeName(e[0],"html")||(n=e.offset()),n.top+=ot.css(e[0],"borderTopWidth",!0),n.left+=ot.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-ot.css(i,"marginTop",!0),left:t.left-n.left-ot.css(i,"marginLeft",!0)}
}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||z.documentElement;e&&!ot.nodeName(e,"html")&&"static"===ot.css(e,"position");)e=e.offsetParent;return e||z.documentElement})}}),ot.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var i=/Y/.test(n);ot.fn[e]=function(r){return ot.access(this,function(e,r,s){var a=B(e);return s===t?a?n in a?a[n]:a.document.documentElement[r]:e[r]:void(a?a.scrollTo(i?ot(a).scrollLeft():s,i?s:ot(a).scrollTop()):e[r]=s)},e,r,arguments.length,null)}}),ot.each({Height:"height",Width:"width"},function(e,n){ot.each({padding:"inner"+e,content:n,"":"outer"+e},function(i,r){ot.fn[r]=function(r,s){var a=arguments.length&&(i||"boolean"!=typeof r),o=i||(r===!0||s===!0?"margin":"border");return ot.access(this,function(n,i,r){var s;return ot.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(s=n.documentElement,Math.max(n.body["scroll"+e],s["scroll"+e],n.body["offset"+e],s["offset"+e],s["client"+e])):r===t?ot.css(n,i,o):ot.style(n,i,r,o)},n,a?r:t,a,null)}})}),e.jQuery=e.$=ot,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return ot})}(window),function(){var e=this,t=e._,n={},i=Array.prototype,r=Object.prototype,s=Function.prototype,a=i.push,o=i.slice,l=i.concat,c=r.toString,u=r.hasOwnProperty,h=i.forEach,d=i.map,p=i.reduce,f=i.reduceRight,m=i.filter,g=i.every,v=i.some,y=i.indexOf,b=i.lastIndexOf,w=Array.isArray,_=Object.keys,x=s.bind,k=function(e){return e instanceof k?e:this instanceof k?void(this._wrapped=e):new k(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=k),exports._=k):e._=k,k.VERSION="1.4.4";var C=k.each=k.forEach=function(e,t,i){if(null!=e)if(h&&e.forEach===h)e.forEach(t,i);else if(e.length===+e.length){for(var r=0,s=e.length;s>r;r++)if(t.call(i,e[r],r,e)===n)return}else for(var a in e)if(k.has(e,a)&&t.call(i,e[a],a,e)===n)return};k.map=k.collect=function(e,t,n){var i=[];return null==e?i:d&&e.map===d?e.map(t,n):(C(e,function(e,r,s){i[i.length]=t.call(n,e,r,s)}),i)};var T="Reduce of empty array with no initial value";k.reduce=k.foldl=k.inject=function(e,t,n,i){var r=arguments.length>2;if(null==e&&(e=[]),p&&e.reduce===p)return i&&(t=k.bind(t,i)),r?e.reduce(t,n):e.reduce(t);if(C(e,function(e,s,a){r?n=t.call(i,n,e,s,a):(n=e,r=!0)}),!r)throw new TypeError(T);return n},k.reduceRight=k.foldr=function(e,t,n,i){var r=arguments.length>2;if(null==e&&(e=[]),f&&e.reduceRight===f)return i&&(t=k.bind(t,i)),r?e.reduceRight(t,n):e.reduceRight(t);var s=e.length;if(s!==+s){var a=k.keys(e);s=a.length}if(C(e,function(o,l,c){l=a?a[--s]:--s,r?n=t.call(i,n,e[l],l,c):(n=e[l],r=!0)}),!r)throw new TypeError(T);return n},k.find=k.detect=function(e,t,n){var i;return S(e,function(e,r,s){return t.call(n,e,r,s)?(i=e,!0):void 0}),i},k.filter=k.select=function(e,t,n){var i=[];return null==e?i:m&&e.filter===m?e.filter(t,n):(C(e,function(e,r,s){t.call(n,e,r,s)&&(i[i.length]=e)}),i)},k.reject=function(e,t,n){return k.filter(e,function(e,i,r){return!t.call(n,e,i,r)},n)},k.every=k.all=function(e,t,i){t||(t=k.identity);var r=!0;return null==e?r:g&&e.every===g?e.every(t,i):(C(e,function(e,s,a){return(r=r&&t.call(i,e,s,a))?void 0:n}),!!r)};var S=k.some=k.any=function(e,t,i){t||(t=k.identity);var r=!1;return null==e?r:v&&e.some===v?e.some(t,i):(C(e,function(e,s,a){return r||(r=t.call(i,e,s,a))?n:void 0}),!!r)};k.contains=k.include=function(e,t){return null==e?!1:y&&e.indexOf===y?-1!=e.indexOf(t):S(e,function(e){return e===t})},k.invoke=function(e,t){var n=o.call(arguments,2),i=k.isFunction(t);return k.map(e,function(e){return(i?t:e[t]).apply(e,n)})},k.pluck=function(e,t){return k.map(e,function(e){return e[t]})},k.where=function(e,t,n){return k.isEmpty(t)?n?null:[]:k[n?"find":"filter"](e,function(e){for(var n in t)if(t[n]!==e[n])return!1;return!0})},k.findWhere=function(e,t){return k.where(e,t,!0)},k.max=function(e,t,n){if(!t&&k.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);if(!t&&k.isEmpty(e))return-1/0;var i={computed:-1/0,value:-1/0};return C(e,function(e,r,s){var a=t?t.call(n,e,r,s):e;a>=i.computed&&(i={value:e,computed:a})}),i.value},k.min=function(e,t,n){if(!t&&k.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);if(!t&&k.isEmpty(e))return 1/0;var i={computed:1/0,value:1/0};return C(e,function(e,r,s){var a=t?t.call(n,e,r,s):e;a<i.computed&&(i={value:e,computed:a})}),i.value},k.shuffle=function(e){var t,n=0,i=[];return C(e,function(e){t=k.random(n++),i[n-1]=i[t],i[t]=e}),i};var D=function(e){return k.isFunction(e)?e:function(t){return t[e]}};k.sortBy=function(e,t,n){var i=D(t);return k.pluck(k.map(e,function(e,t,r){return{value:e,index:t,criteria:i.call(n,e,t,r)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return e.index<t.index?-1:1}),"value")};var E=function(e,t,n,i){var r={},s=D(t||k.identity);return C(e,function(t,a){var o=s.call(n,t,a,e);i(r,o,t)}),r};k.groupBy=function(e,t,n){return E(e,t,n,function(e,t,n){(k.has(e,t)?e[t]:e[t]=[]).push(n)})},k.countBy=function(e,t,n){return E(e,t,n,function(e,t){k.has(e,t)||(e[t]=0),e[t]++})},k.sortedIndex=function(e,t,n,i){n=null==n?k.identity:D(n);for(var r=n.call(i,t),s=0,a=e.length;a>s;){var o=s+a>>>1;n.call(i,e[o])<r?s=o+1:a=o}return s},k.toArray=function(e){return e?k.isArray(e)?o.call(e):e.length===+e.length?k.map(e,k.identity):k.values(e):[]},k.size=function(e){return null==e?0:e.length===+e.length?e.length:k.keys(e).length},k.first=k.head=k.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:o.call(e,0,t)},k.initial=function(e,t,n){return o.call(e,0,e.length-(null==t||n?1:t))},k.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:o.call(e,Math.max(e.length-t,0))},k.rest=k.tail=k.drop=function(e,t,n){return o.call(e,null==t||n?1:t)},k.compact=function(e){return k.filter(e,k.identity)};var P=function(e,t,n){return C(e,function(e){k.isArray(e)?t?a.apply(n,e):P(e,t,n):n.push(e)}),n};k.flatten=function(e,t){return P(e,t,[])},k.without=function(e){return k.difference(e,o.call(arguments,1))},k.uniq=k.unique=function(e,t,n,i){k.isFunction(t)&&(i=n,n=t,t=!1);var r=n?k.map(e,n,i):e,s=[],a=[];return C(r,function(n,i){(t?i&&a[a.length-1]===n:k.contains(a,n))||(a.push(n),s.push(e[i]))}),s},k.union=function(){return k.uniq(l.apply(i,arguments))},k.intersection=function(e){var t=o.call(arguments,1);return k.filter(k.uniq(e),function(e){return k.every(t,function(t){return k.indexOf(t,e)>=0})})},k.difference=function(e){var t=l.apply(i,o.call(arguments,1));return k.filter(e,function(e){return!k.contains(t,e)})},k.zip=function(){for(var e=o.call(arguments),t=k.max(k.pluck(e,"length")),n=new Array(t),i=0;t>i;i++)n[i]=k.pluck(e,""+i);return n},k.object=function(e,t){if(null==e)return{};for(var n={},i=0,r=e.length;r>i;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n},k.indexOf=function(e,t,n){if(null==e)return-1;var i=0,r=e.length;if(n){if("number"!=typeof n)return i=k.sortedIndex(e,t),e[i]===t?i:-1;i=0>n?Math.max(0,r+n):n}if(y&&e.indexOf===y)return e.indexOf(t,n);for(;r>i;i++)if(e[i]===t)return i;return-1},k.lastIndexOf=function(e,t,n){if(null==e)return-1;var i=null!=n;if(b&&e.lastIndexOf===b)return i?e.lastIndexOf(t,n):e.lastIndexOf(t);for(var r=i?n:e.length;r--;)if(e[r]===t)return r;return-1},k.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;for(var i=Math.max(Math.ceil((t-e)/n),0),r=0,s=new Array(i);i>r;)s[r++]=e,e+=n;return s},k.bind=function(e,t){if(e.bind===x&&x)return x.apply(e,o.call(arguments,1));var n=o.call(arguments,2);return function(){return e.apply(t,n.concat(o.call(arguments)))}},k.partial=function(e){var t=o.call(arguments,1);return function(){return e.apply(this,t.concat(o.call(arguments)))}},k.bindAll=function(e){var t=o.call(arguments,1);return 0===t.length&&(t=k.functions(e)),C(t,function(t){e[t]=k.bind(e[t],e)}),e},k.memoize=function(e,t){var n={};return t||(t=k.identity),function(){var i=t.apply(this,arguments);return k.has(n,i)?n[i]:n[i]=e.apply(this,arguments)}},k.delay=function(e,t){var n=o.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},k.defer=function(e){return k.delay.apply(k,[e,1].concat(o.call(arguments,1)))},k.throttle=function(e,t){var n,i,r,s,a=0,o=function(){a=new Date,r=null,s=e.apply(n,i)};return function(){var l=new Date,c=t-(l-a);return n=this,i=arguments,0>=c?(clearTimeout(r),r=null,a=l,s=e.apply(n,i)):r||(r=setTimeout(o,c)),s}},k.debounce=function(e,t,n){var i,r;return function(){var s=this,a=arguments,o=function(){i=null,n||(r=e.apply(s,a))},l=n&&!i;return clearTimeout(i),i=setTimeout(o,t),l&&(r=e.apply(s,a)),r}},k.once=function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}},k.wrap=function(e,t){return function(){var n=[e];return a.apply(n,arguments),t.apply(this,n)}},k.compose=function(){var e=arguments;return function(){for(var t=arguments,n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},k.after=function(e,t){return 0>=e?t():function(){return--e<1?t.apply(this,arguments):void 0}},k.keys=_||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)k.has(e,n)&&(t[t.length]=n);return t},k.values=function(e){var t=[];for(var n in e)k.has(e,n)&&t.push(e[n]);return t},k.pairs=function(e){var t=[];for(var n in e)k.has(e,n)&&t.push([n,e[n]]);return t},k.invert=function(e){var t={};for(var n in e)k.has(e,n)&&(t[e[n]]=n);return t},k.functions=k.methods=function(e){var t=[];for(var n in e)k.isFunction(e[n])&&t.push(n);return t.sort()},k.extend=function(e){return C(o.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},k.pick=function(e){var t={},n=l.apply(i,o.call(arguments,1));return C(n,function(n){n in e&&(t[n]=e[n])}),t},k.omit=function(e){var t={},n=l.apply(i,o.call(arguments,1));for(var r in e)k.contains(n,r)||(t[r]=e[r]);return t},k.defaults=function(e){return C(o.call(arguments,1),function(t){if(t)for(var n in t)null==e[n]&&(e[n]=t[n])}),e},k.clone=function(e){return k.isObject(e)?k.isArray(e)?e.slice():k.extend({},e):e},k.tap=function(e,t){return t(e),e};var M=function(e,t,n,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof k&&(e=e._wrapped),t instanceof k&&(t=t._wrapped);var r=c.call(e);if(r!=c.call(t))return!1;switch(r){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var s=n.length;s--;)if(n[s]==e)return i[s]==t;n.push(e),i.push(t);var a=0,o=!0;if("[object Array]"==r){if(a=e.length,o=a==t.length)for(;a--&&(o=M(e[a],t[a],n,i)););}else{var l=e.constructor,u=t.constructor;if(l!==u&&!(k.isFunction(l)&&l instanceof l&&k.isFunction(u)&&u instanceof u))return!1;for(var h in e)if(k.has(e,h)&&(a++,!(o=k.has(t,h)&&M(e[h],t[h],n,i))))break;if(o){for(h in t)if(k.has(t,h)&&!a--)break;o=!a}}return n.pop(),i.pop(),o};k.isEqual=function(e,t){return M(e,t,[],[])},k.isEmpty=function(e){if(null==e)return!0;if(k.isArray(e)||k.isString(e))return 0===e.length;for(var t in e)if(k.has(e,t))return!1;return!0},k.isElement=function(e){return!(!e||1!==e.nodeType)},k.isArray=w||function(e){return"[object Array]"==c.call(e)},k.isObject=function(e){return e===Object(e)},C(["Arguments","Function","String","Number","Date","RegExp"],function(e){k["is"+e]=function(t){return c.call(t)=="[object "+e+"]"}}),k.isArguments(arguments)||(k.isArguments=function(e){return!(!e||!k.has(e,"callee"))}),"function"!=typeof/./&&(k.isFunction=function(e){return"function"==typeof e}),k.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},k.isNaN=function(e){return k.isNumber(e)&&e!=+e},k.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==c.call(e)},k.isNull=function(e){return null===e},k.isUndefined=function(e){return void 0===e},k.has=function(e,t){return u.call(e,t)},k.noConflict=function(){return e._=t,this},k.identity=function(e){return e},k.times=function(e,t,n){for(var i=Array(e),r=0;e>r;r++)i[r]=t.call(n,r);return i},k.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))};var A={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};A.unescape=k.invert(A.escape);var N={escape:new RegExp("["+k.keys(A.escape).join("")+"]","g"),unescape:new RegExp("("+k.keys(A.unescape).join("|")+")","g")};k.each(["escape","unescape"],function(e){k[e]=function(t){return null==t?"":(""+t).replace(N[e],function(t){return A[e][t]})}}),k.result=function(e,t){if(null==e)return null;var n=e[t];return k.isFunction(n)?n.call(e):n},k.mixin=function(e){C(k.functions(e),function(t){var n=k[t]=e[t];k.prototype[t]=function(){var e=[this._wrapped];return a.apply(e,arguments),j.call(this,n.apply(k,e))}})};var O=0;k.uniqueId=function(e){var t=++O+"";return e?e+t:t},k.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var H=/(.)^/,L={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},I=/\\|'|\r|\n|\t|\u2028|\u2029/g;k.template=function(e,t,n){var i;n=k.defaults({},n,k.templateSettings);var r=new RegExp([(n.escape||H).source,(n.interpolate||H).source,(n.evaluate||H).source].join("|")+"|$","g"),s=0,a="__p+='";e.replace(r,function(t,n,i,r,o){return a+=e.slice(s,o).replace(I,function(e){return"\\"+L[e]}),n&&(a+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),i&&(a+="'+\n((__t=("+i+"))==null?'':__t)+\n'"),r&&(a+="';\n"+r+"\n__p+='"),s=o+t.length,t}),a+="';\n",n.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{i=new Function(n.variable||"obj","_",a)}catch(o){throw o.source=a,o}if(t)return i(t,k);var l=function(e){return i.call(this,e,k)};return l.source="function("+(n.variable||"obj")+"){\n"+a+"}",l},k.chain=function(e){return k(e).chain()};var j=function(e){return this._chain?k(e).chain():e};k.mixin(k),C(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=i[e];k.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!=e&&"splice"!=e||0!==n.length||delete n[0],j.call(this,n)}}),C(["concat","join","slice"],function(e){var t=i[e];k.prototype[e]=function(){return j.call(this,t.apply(this._wrapped,arguments))}}),k.extend(k.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),define("underscore",function(e){return function(){var t;return t||e._}}(this)),function(){var e,t=this,n=t.Backbone,i=[],r=i.push,s=i.slice,a=i.splice;e="undefined"!=typeof exports?exports:t.Backbone={},e.VERSION="1.0.0";var o=t._;o||"undefined"==typeof require||(o=require("underscore")),e.$=t.jQuery||t.Zepto||t.ender||t.$,e.noConflict=function(){return t.Backbone=n,this},e.emulateHTTP=!1,e.emulateJSON=!1;var l=e.Events={on:function(e,t,n){if(!u(this,"on",e,[t,n])||!t)return this;this._events||(this._events={});var i=this._events[e]||(this._events[e]=[]);return i.push({callback:t,context:n,ctx:n||this}),this},once:function(e,t,n){if(!u(this,"once",e,[t,n])||!t)return this;var i=this,r=o.once(function(){i.off(e,r),t.apply(this,arguments)});return r._callback=t,this.on(e,r,n)},off:function(e,t,n){var i,r,s,a,l,c,h,d;if(!this._events||!u(this,"off",e,[t,n]))return this;if(!e&&!t&&!n)return this._events={},this;for(a=e?[e]:o.keys(this._events),l=0,c=a.length;c>l;l++)if(e=a[l],s=this._events[e]){if(this._events[e]=i=[],t||n)for(h=0,d=s.length;d>h;h++)r=s[h],(t&&t!==r.callback&&t!==r.callback._callback||n&&n!==r.context)&&i.push(r);i.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;var t=s.call(arguments,1);if(!u(this,"trigger",e,t))return this;var n=this._events[e],i=this._events.all;return n&&h(n,t),i&&h(i,arguments),this},stopListening:function(e,t,n){var i=this._listeners;if(!i)return this;var r=!t&&!n;"object"==typeof t&&(n=this),e&&((i={})[e._listenerId]=e);for(var s in i)i[s].off(t,n,this),r&&delete this._listeners[s];return this}},c=/\s+/,u=function(e,t,n,i){if(!n)return!0;if("object"==typeof n){for(var r in n)e[t].apply(e,[r,n[r]].concat(i));return!1}if(c.test(n)){for(var s=n.split(c),a=0,o=s.length;o>a;a++)e[t].apply(e,[s[a]].concat(i));return!1}return!0},h=function(e,t){var n,i=-1,r=e.length,s=t[0],a=t[1],o=t[2];switch(t.length){case 0:for(;++i<r;)(n=e[i]).callback.call(n.ctx);return;case 1:for(;++i<r;)(n=e[i]).callback.call(n.ctx,s);return;case 2:for(;++i<r;)(n=e[i]).callback.call(n.ctx,s,a);return;case 3:for(;++i<r;)(n=e[i]).callback.call(n.ctx,s,a,o);return;default:for(;++i<r;)(n=e[i]).callback.apply(n.ctx,t)}},d={listenTo:"on",listenToOnce:"once"};o.each(d,function(e,t){l[t]=function(t,n,i){var r=this._listeners||(this._listeners={}),s=t._listenerId||(t._listenerId=o.uniqueId("l"));return r[s]=t,"object"==typeof n&&(i=this),t[e](n,i,this),this}}),l.bind=l.on,l.unbind=l.off,o.extend(e,l);var p=e.Model=function(e,t){var n,i=e||{};t||(t={}),this.cid=o.uniqueId("c"),this.attributes={},o.extend(this,o.pick(t,f)),t.parse&&(i=this.parse(i,t)||{}),(n=o.result(this,"defaults"))&&(i=o.defaults({},i,n)),this.set(i,t),this.changed={},this.initialize.apply(this,arguments)},f=["url","urlRoot","collection"];o.extend(p.prototype,l,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return o.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return o.escape(this.get(e))},has:function(e){return null!=this.get(e)},set:function(e,t,n){var i,r,s,a,l,c,u,h;if(null==e)return this;if("object"==typeof e?(r=e,n=t):(r={})[e]=t,n||(n={}),!this._validate(r,n))return!1;s=n.unset,l=n.silent,a=[],c=this._changing,this._changing=!0,c||(this._previousAttributes=o.clone(this.attributes),this.changed={}),h=this.attributes,u=this._previousAttributes,this.idAttribute in r&&(this.id=r[this.idAttribute]);for(i in r)t=r[i],o.isEqual(h[i],t)||a.push(i),o.isEqual(u[i],t)?delete this.changed[i]:this.changed[i]=t,s?delete h[i]:h[i]=t;if(!l){a.length&&(this._pending=!0);for(var d=0,p=a.length;p>d;d++)this.trigger("change:"+a[d],this,h[a[d]],n)}if(c)return this;if(!l)for(;this._pending;)this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,o.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var n in this.attributes)t[n]=void 0;return this.set(t,o.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!o.isEmpty(this.changed):o.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?o.clone(this.changed):!1;var t,n=!1,i=this._changing?this._previousAttributes:this.attributes;for(var r in e)o.isEqual(i[r],t=e[r])||((n||(n={}))[r]=t);return n},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return o.clone(this._previousAttributes)},fetch:function(e){e=e?o.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=this,n=e.success;return e.success=function(i){return t.set(t.parse(i,e),e)?(n&&n(t,i,e),void t.trigger("sync",t,i,e)):!1},j(this,e),this.sync("read",this,e)},save:function(e,t,n){var i,r,s,a=this.attributes;if(null==e||"object"==typeof e?(i=e,n=t):(i={})[e]=t,!(!i||n&&n.wait||this.set(i,n)))return!1;if(n=o.extend({validate:!0},n),!this._validate(i,n))return!1;i&&n.wait&&(this.attributes=o.extend({},a,i)),void 0===n.parse&&(n.parse=!0);var l=this,c=n.success;return n.success=function(e){l.attributes=a;var t=l.parse(e,n);return n.wait&&(t=o.extend(i||{},t)),o.isObject(t)&&!l.set(t,n)?!1:(c&&c(l,e,n),void l.trigger("sync",l,e,n))},j(this,n),r=this.isNew()?"create":n.patch?"patch":"update","patch"===r&&(n.attrs=i),s=this.sync(r,this,n),i&&n.wait&&(this.attributes=a),s},destroy:function(e){e=e?o.clone(e):{};var t=this,n=e.success,i=function(){t.trigger("destroy",t,t.collection,e)};if(e.success=function(r){(e.wait||t.isNew())&&i(),n&&n(t,r,e),t.isNew()||t.trigger("sync",t,r,e)},this.isNew())return e.success(),!1;j(this,e);var r=this.sync("delete",this,e);return e.wait||i(),r},url:function(){var e=o.result(this,"urlRoot")||o.result(this.collection,"url")||I();return this.isNew()?e:e+("/"===e.charAt(e.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(e){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(e){return this._validate({},o.extend(e||{},{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=o.extend({},this.attributes,e);var n=this.validationError=this.validate(e,t)||null;return n?(this.trigger("invalid",this,n,o.extend(t||{},{validationError:n})),!1):!0}});var m=["keys","values","pairs","invert","pick","omit"];o.each(m,function(e){p.prototype[e]=function(){var t=s.call(arguments);return t.unshift(this.attributes),o[e].apply(o,t)}});var g=e.Collection=function(e,t){t||(t={}),t.url&&(this.url=t.url),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,o.extend({silent:!0},t))},v={add:!0,remove:!0,merge:!0},y={add:!0,merge:!1,remove:!1};o.extend(g.prototype,l,{model:p,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return e.sync.apply(this,arguments)},add:function(e,t){return this.set(e,o.defaults(t||{},y))},remove:function(e,t){e=o.isArray(e)?e.slice():[e],t||(t={});var n,i,r,s;for(n=0,i=e.length;i>n;n++)s=this.get(e[n]),s&&(delete this._byId[s.id],delete this._byId[s.cid],r=this.indexOf(s),this.models.splice(r,1),this.length--,t.silent||(t.index=r,s.trigger("remove",s,this,t)),this._removeReference(s));return this},set:function(e,t){t=o.defaults(t||{},v),t.parse&&(e=this.parse(e,t)),o.isArray(e)||(e=e?[e]:[]);var n,i,s,l,c,u=t.at,h=this.comparator&&null==u&&t.sort!==!1,d=o.isString(this.comparator)?this.comparator:null,p=[],f=[],m={};for(n=0,i=e.length;i>n;n++)(s=this._prepareModel(e[n],t))&&((l=this.get(s))?(t.remove&&(m[l.cid]=!0),t.merge&&(l.set(s.attributes,t),h&&!c&&l.hasChanged(d)&&(c=!0))):t.add&&(p.push(s),s.on("all",this._onModelEvent,this),this._byId[s.cid]=s,null!=s.id&&(this._byId[s.id]=s)));if(t.remove){for(n=0,i=this.length;i>n;++n)m[(s=this.models[n]).cid]||f.push(s);f.length&&this.remove(f,t)}if(p.length&&(h&&(c=!0),this.length+=p.length,null!=u?a.apply(this.models,[u,0].concat(p)):r.apply(this.models,p)),c&&this.sort({silent:!0}),t.silent)return this;for(n=0,i=p.length;i>n;n++)(s=p[n]).trigger("add",s,this,t);return c&&this.trigger("sort",this,t),this},reset:function(e,t){t||(t={});for(var n=0,i=this.models.length;i>n;n++)this._removeReference(this.models[n]);return t.previousModels=this.models,this._reset(),this.add(e,o.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),this},push:function(e,t){return e=this._prepareModel(e,t),this.add(e,o.extend({at:this.length},t)),e},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return e=this._prepareModel(e,t),this.add(e,o.extend({at:0},t)),e},shift:function(e){var t=this.at(0);return this.remove(t,e),t},slice:function(e,t){return this.models.slice(e,t)},get:function(e){return null==e?void 0:this._byId[null!=e.id?e.id:e.cid||e]},at:function(e){return this.models[e]},where:function(e,t){return o.isEmpty(e)?t?void 0:[]:this[t?"find":"filter"](function(t){for(var n in e)if(e[n]!==t.get(n))return!1;return!0})},findWhere:function(e){return this.where(e,!0)},sort:function(e){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return e||(e={}),o.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(o.bind(this.comparator,this)),e.silent||this.trigger("sort",this,e),this},sortedIndex:function(e,t,n){t||(t=this.comparator);var i=o.isFunction(t)?t:function(e){return e.get(t)};return o.sortedIndex(this.models,e,i,n)},pluck:function(e){return o.invoke(this.models,"get",e)},fetch:function(e){e=e?o.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=e.success,n=this;return e.success=function(i){var r=e.reset?"reset":"set";n[r](i,e),t&&t(n,i,e),n.trigger("sync",n,i,e)},j(this,e),this.sync("read",this,e)},create:function(e,t){if(t=t?o.clone(t):{},!(e=this._prepareModel(e,t)))return!1;t.wait||this.add(e,t);var n=this,i=t.success;return t.success=function(r){t.wait&&n.add(e,t),i&&i(e,r,t)},e.save(null,t),e},parse:function(e){return e},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(e instanceof p)return e.collection||(e.collection=this),e;t||(t={}),t.collection=this;var n=new this.model(e,t);return n._validate(e,t)?n:(this.trigger("invalid",this,e,t),!1)},_removeReference:function(e){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,i){("add"!==e&&"remove"!==e||n===this)&&("destroy"===e&&this.remove(t,i),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],null!=t.id&&(this._byId[t.id]=t)),this.trigger.apply(this,arguments))}});var b=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","indexOf","shuffle","lastIndexOf","isEmpty","chain"];o.each(b,function(e){g.prototype[e]=function(){var t=s.call(arguments);return t.unshift(this.models),o[e].apply(o,t)}});var w=["groupBy","countBy","sortBy"];o.each(w,function(e){g.prototype[e]=function(t,n){var i=o.isFunction(t)?t:function(e){return e.get(t)};return o[e](this.models,i,n)}});var _=e.View=function(e){this.cid=o.uniqueId("view"),this._configure(e||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},x=/^(\S+)\s*(.*)$/,k=["model","collection","el","id","attributes","className","tagName","events"];o.extend(_.prototype,l,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(t,n){return this.$el&&this.undelegateEvents(),this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0],n!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(!e&&!(e=o.result(this,"events")))return this;this.undelegateEvents();for(var t in e){var n=e[t];if(o.isFunction(n)||(n=this[e[t]]),n){var i=t.match(x),r=i[1],s=i[2];n=o.bind(n,this),r+=".delegateEvents"+this.cid,""===s?this.$el.on(r,n):this.$el.on(r,s,n)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_configure:function(e){this.options&&(e=o.extend({},o.result(this,"options"),e)),o.extend(this,o.pick(e,k)),this.options=e},_ensureElement:function(){if(this.el)this.setElement(o.result(this,"el"),!1);else{var t=o.extend({},o.result(this,"attributes"));this.id&&(t.id=o.result(this,"id")),this.className&&(t["class"]=o.result(this,"className"));var n=e.$("<"+o.result(this,"tagName")+">").attr(t);this.setElement(n,!1)}}}),e.sync=function(t,n,i){var r=C[t];o.defaults(i||(i={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var s={type:r,dataType:"json"};if(i.url||(s.url=o.result(n,"url")||I()),null!=i.data||!n||"create"!==t&&"update"!==t&&"patch"!==t||(s.contentType="application/json",s.data=JSON.stringify(i.attrs||n.toJSON(i))),i.emulateJSON&&(s.contentType="application/x-www-form-urlencoded",s.data=s.data?{model:s.data}:{}),i.emulateHTTP&&("PUT"===r||"DELETE"===r||"PATCH"===r)){s.type="POST",i.emulateJSON&&(s.data._method=r);var a=i.beforeSend;i.beforeSend=function(e){return e.setRequestHeader("X-HTTP-Method-Override",r),a?a.apply(this,arguments):void 0}}"GET"===s.type||i.emulateJSON||(s.processData=!1),"PATCH"!==s.type||!window.ActiveXObject||window.external&&window.external.msActiveXFilteringEnabled||(s.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var l=i.xhr=e.ajax(o.extend(s,i));return n.trigger("request",n,l,i),l};var C={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var T=e.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},S=/\((.*?)\)/g,D=/(\(\?)?:\w+/g,E=/\*\w+/g,P=/[\-{}\[\]+?.,\\\^$|#\s]/g;o.extend(T.prototype,l,{initialize:function(){},route:function(t,n,i){o.isRegExp(t)||(t=this._routeToRegExp(t)),o.isFunction(n)&&(i=n,n=""),i||(i=this[n]);var r=this;return e.history.route(t,function(s){var a=r._extractParameters(t,s);i&&i.apply(r,a),r.trigger.apply(r,["route:"+n].concat(a)),r.trigger("route",n,a),e.history.trigger("route",r,n,a)}),this},navigate:function(t,n){return e.history.navigate(t,n),this},_bindRoutes:function(){if(this.routes){this.routes=o.result(this,"routes");for(var e,t=o.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(P,"\\$&").replace(S,"(?:$1)?").replace(D,function(e,t){return t?e:"([^/]+)"}).replace(E,"(.*?)"),new RegExp("^"+e+"$")},_extractParameters:function(e,t){var n=e.exec(t).slice(1);return o.map(n,function(e){return e?decodeURIComponent(e):null})}});var M=e.History=function(){this.handlers=[],o.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},A=/^[#\/]|\s+$/g,N=/^\/+|\/+$/g,O=/msie [\w.]+/,H=/\/$/;M.started=!1,o.extend(M.prototype,l,{interval:50,getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getFragment:function(e,t){if(null==e)if(this._hasPushState||!this._wantsHashChange||t){e=this.location.pathname;var n=this.root.replace(H,"");e.indexOf(n)||(e=e.substr(n.length))}else e=this.getHash();return e.replace(A,"")},start:function(t){if(M.started)throw new Error("Backbone.history has already been started");M.started=!0,this.options=o.extend({},{root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var n=this.getFragment(),i=document.documentMode,r=O.exec(navigator.userAgent.toLowerCase())&&(!i||7>=i);this.root=("/"+this.root+"/").replace(N,"/"),r&&this._wantsHashChange&&(this.iframe=e.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(n)),this._hasPushState?e.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!r?e.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=n;var s=this.location,a=s.pathname.replace(/[^\/]$/,"$&/")===this.root;return this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!a?(this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0):(this._wantsPushState&&this._hasPushState&&a&&s.hash&&(this.fragment=this.getHash().replace(A,""),this.history.replaceState({},document.title,this.root+this.fragment+s.search)),this.options.silent?void 0:this.loadUrl())},stop:function(){e.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),M.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(){var e=this.getFragment();return e===this.fragment&&this.iframe&&(e=this.getFragment(this.getHash(this.iframe))),e===this.fragment?!1:(this.iframe&&this.navigate(e),void(this.loadUrl()||this.loadUrl(this.getHash())))
},loadUrl:function(e){var t=this.fragment=this.getFragment(e),n=o.any(this.handlers,function(e){return e.route.test(t)?(e.callback(t),!0):void 0});return n},navigate:function(e,t){if(!M.started)return!1;if(t&&t!==!0||(t={trigger:t}),e=this.getFragment(e||""),this.fragment!==e){this.fragment=e;var n=this.root+e;if(this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,t.replace))}t.trigger&&this.loadUrl(e)}},_updateHash:function(e,t,n){if(n){var i=e.href.replace(/(javascript:|#).*$/,"");e.replace(i+"#"+t)}else e.hash="#"+t}}),e.history=new M;var L=function(e,t){var n,i=this;n=e&&o.has(e,"constructor")?e.constructor:function(){return i.apply(this,arguments)},o.extend(n,i,t);var r=function(){this.constructor=n};return r.prototype=i.prototype,n.prototype=new r,e&&o.extend(n.prototype,e),n.__super__=i.prototype,n};p.extend=g.extend=T.extend=_.extend=M.extend=L;var I=function(){throw new Error('A "url" property or function must be specified')},j=function(e,t){var n=t.error;t.error=function(i){n&&n(e,i,t),e.trigger("error",e,i,t)}}}.call(this),define("backbone",["jquery","underscore"],function(e){return function(){var t;return t||e.Backbone}}(this));var Handlebars={};!function(e,t){e.VERSION="1.0.0",e.COMPILER_REVISION=4,e.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"},e.helpers={},e.partials={};var n=Object.prototype.toString,i="[object Function]",r="[object Object]";e.registerHelper=function(t,i,s){if(n.call(t)===r){if(s||i)throw new e.Exception("Arg not supported with multiple helpers");e.Utils.extend(this.helpers,t)}else s&&(i.not=s),this.helpers[t]=i},e.registerPartial=function(t,i){n.call(t)===r?e.Utils.extend(this.partials,t):this.partials[t]=i},e.registerHelper("helperMissing",function(e){if(2===arguments.length)return t;throw new Error("Missing helper: '"+e+"'")}),e.registerHelper("blockHelperMissing",function(t,r){var s=r.inverse||function(){},a=r.fn,o=n.call(t);return o===i&&(t=t.call(this)),t===!0?a(this):t===!1||null==t?s(this):"[object Array]"===o?t.length>0?e.helpers.each(t,r):s(this):a(t)}),e.K=function(){},e.createFrame=Object.create||function(t){e.K.prototype=t;var n=new e.K;return e.K.prototype=null,n},e.logger={DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,methodMap:{0:"debug",1:"info",2:"warn",3:"error"},log:function(t,n){if(e.logger.level<=t){var i=e.logger.methodMap[t];"undefined"!=typeof console&&console[i]&&console[i].call(console,n)}}},e.log=function(t,n){e.logger.log(t,n)},e.registerHelper("each",function(t,r){var s,a=r.fn,o=r.inverse,l=0,c="",u=n.call(t);if(u===i&&(t=t.call(this)),r.data&&(s=e.createFrame(r.data)),t&&"object"==typeof t)if(t instanceof Array)for(var h=t.length;h>l;l++)s&&(s.index=l),c+=a(t[l],{data:s});else for(var d in t)t.hasOwnProperty(d)&&(s&&(s.key=d),c+=a(t[d],{data:s}),l++);return 0===l&&(c=o(this)),c}),e.registerHelper("if",function(t,r){var s=n.call(t);return s===i&&(t=t.call(this)),!t||e.Utils.isEmpty(t)?r.inverse(this):r.fn(this)}),e.registerHelper("unless",function(t,n){return e.helpers["if"].call(this,t,{fn:n.inverse,inverse:n.fn})}),e.registerHelper("with",function(t,r){var s=n.call(t);return s===i&&(t=t.call(this)),e.Utils.isEmpty(t)?void 0:r.fn(t)}),e.registerHelper("log",function(t,n){var i=n.data&&null!=n.data.level?parseInt(n.data.level,10):1;e.log(i,t)});var s=function(){function e(){this.yy={}}var t={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,simpleInverse:6,statements:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,inMustache:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,CLOSE_UNESCAPED:24,OPEN_PARTIAL:25,partialName:26,params:27,hash:28,dataName:29,param:30,STRING:31,INTEGER:32,BOOLEAN:33,hashSegments:34,hashSegment:35,ID:36,EQUALS:37,DATA:38,pathSegments:39,SEP:40,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"CLOSE_UNESCAPED",25:"OPEN_PARTIAL",31:"STRING",32:"INTEGER",33:"BOOLEAN",36:"ID",37:"EQUALS",38:"DATA",40:"SEP"},productions_:[0,[3,2],[4,2],[4,3],[4,2],[4,1],[4,1],[4,0],[7,1],[7,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,3],[13,4],[6,2],[17,3],[17,2],[17,2],[17,1],[17,1],[27,2],[27,1],[30,1],[30,1],[30,1],[30,1],[30,1],[28,1],[34,2],[34,1],[35,3],[35,3],[35,3],[35,3],[35,3],[26,1],[26,1],[26,1],[29,2],[21,1],[39,3],[39,1]],performAction:function(e,t,n,i,r,s){var a=s.length-1;switch(r){case 1:return s[a-1];case 2:this.$=new i.ProgramNode([],s[a]);break;case 3:this.$=new i.ProgramNode(s[a-2],s[a]);break;case 4:this.$=new i.ProgramNode(s[a-1],[]);break;case 5:this.$=new i.ProgramNode(s[a]);break;case 6:this.$=new i.ProgramNode([],[]);break;case 7:this.$=new i.ProgramNode([]);break;case 8:this.$=[s[a]];break;case 9:s[a-1].push(s[a]),this.$=s[a-1];break;case 10:this.$=new i.BlockNode(s[a-2],s[a-1].inverse,s[a-1],s[a]);break;case 11:this.$=new i.BlockNode(s[a-2],s[a-1],s[a-1].inverse,s[a]);break;case 12:this.$=s[a];break;case 13:this.$=s[a];break;case 14:this.$=new i.ContentNode(s[a]);break;case 15:this.$=new i.CommentNode(s[a]);break;case 16:this.$=new i.MustacheNode(s[a-1][0],s[a-1][1]);break;case 17:this.$=new i.MustacheNode(s[a-1][0],s[a-1][1]);break;case 18:this.$=s[a-1];break;case 19:this.$=new i.MustacheNode(s[a-1][0],s[a-1][1],"&"===s[a-2][2]);break;case 20:this.$=new i.MustacheNode(s[a-1][0],s[a-1][1],!0);break;case 21:this.$=new i.PartialNode(s[a-1]);break;case 22:this.$=new i.PartialNode(s[a-2],s[a-1]);break;case 23:break;case 24:this.$=[[s[a-2]].concat(s[a-1]),s[a]];break;case 25:this.$=[[s[a-1]].concat(s[a]),null];break;case 26:this.$=[[s[a-1]],s[a]];break;case 27:this.$=[[s[a]],null];break;case 28:this.$=[[s[a]],null];break;case 29:s[a-1].push(s[a]),this.$=s[a-1];break;case 30:this.$=[s[a]];break;case 31:this.$=s[a];break;case 32:this.$=new i.StringNode(s[a]);break;case 33:this.$=new i.IntegerNode(s[a]);break;case 34:this.$=new i.BooleanNode(s[a]);break;case 35:this.$=s[a];break;case 36:this.$=new i.HashNode(s[a]);break;case 37:s[a-1].push(s[a]),this.$=s[a-1];break;case 38:this.$=[s[a]];break;case 39:this.$=[s[a-2],s[a]];break;case 40:this.$=[s[a-2],new i.StringNode(s[a])];break;case 41:this.$=[s[a-2],new i.IntegerNode(s[a])];break;case 42:this.$=[s[a-2],new i.BooleanNode(s[a])];break;case 43:this.$=[s[a-2],s[a]];break;case 44:this.$=new i.PartialNameNode(s[a]);break;case 45:this.$=new i.PartialNameNode(new i.StringNode(s[a]));break;case 46:this.$=new i.PartialNameNode(new i.IntegerNode(s[a]));break;case 47:this.$=new i.DataNode(s[a]);break;case 48:this.$=new i.IdNode(s[a]);break;case 49:s[a-2].push({part:s[a],separator:s[a-1]}),this.$=s[a-2];break;case 50:this.$=[{part:s[a]}]}},table:[{3:1,4:2,5:[2,7],6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],22:[1,14],23:[1,15],25:[1,16]},{1:[3]},{5:[1,17]},{5:[2,6],7:18,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,6],22:[1,14],23:[1,15],25:[1,16]},{5:[2,5],6:20,8:21,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,5],22:[1,14],23:[1,15],25:[1,16]},{17:23,18:[1,22],21:24,29:25,36:[1,28],38:[1,27],39:26},{5:[2,8],14:[2,8],15:[2,8],16:[2,8],19:[2,8],20:[2,8],22:[2,8],23:[2,8],25:[2,8]},{4:29,6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,7],22:[1,14],23:[1,15],25:[1,16]},{4:30,6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,7],22:[1,14],23:[1,15],25:[1,16]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],25:[2,12]},{5:[2,13],14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],25:[2,13]},{5:[2,14],14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],25:[2,14]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],25:[2,15]},{17:31,21:24,29:25,36:[1,28],38:[1,27],39:26},{17:32,21:24,29:25,36:[1,28],38:[1,27],39:26},{17:33,21:24,29:25,36:[1,28],38:[1,27],39:26},{21:35,26:34,31:[1,36],32:[1,37],36:[1,28],39:26},{1:[2,1]},{5:[2,2],8:21,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,2],22:[1,14],23:[1,15],25:[1,16]},{17:23,21:24,29:25,36:[1,28],38:[1,27],39:26},{5:[2,4],7:38,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,4],22:[1,14],23:[1,15],25:[1,16]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],25:[2,9]},{5:[2,23],14:[2,23],15:[2,23],16:[2,23],19:[2,23],20:[2,23],22:[2,23],23:[2,23],25:[2,23]},{18:[1,39]},{18:[2,27],21:44,24:[2,27],27:40,28:41,29:48,30:42,31:[1,45],32:[1,46],33:[1,47],34:43,35:49,36:[1,50],38:[1,27],39:26},{18:[2,28],24:[2,28]},{18:[2,48],24:[2,48],31:[2,48],32:[2,48],33:[2,48],36:[2,48],38:[2,48],40:[1,51]},{21:52,36:[1,28],39:26},{18:[2,50],24:[2,50],31:[2,50],32:[2,50],33:[2,50],36:[2,50],38:[2,50],40:[2,50]},{10:53,20:[1,54]},{10:55,20:[1,54]},{18:[1,56]},{18:[1,57]},{24:[1,58]},{18:[1,59],21:60,36:[1,28],39:26},{18:[2,44],36:[2,44]},{18:[2,45],36:[2,45]},{18:[2,46],36:[2,46]},{5:[2,3],8:21,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,3],22:[1,14],23:[1,15],25:[1,16]},{14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],25:[2,17]},{18:[2,25],21:44,24:[2,25],28:61,29:48,30:62,31:[1,45],32:[1,46],33:[1,47],34:43,35:49,36:[1,50],38:[1,27],39:26},{18:[2,26],24:[2,26]},{18:[2,30],24:[2,30],31:[2,30],32:[2,30],33:[2,30],36:[2,30],38:[2,30]},{18:[2,36],24:[2,36],35:63,36:[1,64]},{18:[2,31],24:[2,31],31:[2,31],32:[2,31],33:[2,31],36:[2,31],38:[2,31]},{18:[2,32],24:[2,32],31:[2,32],32:[2,32],33:[2,32],36:[2,32],38:[2,32]},{18:[2,33],24:[2,33],31:[2,33],32:[2,33],33:[2,33],36:[2,33],38:[2,33]},{18:[2,34],24:[2,34],31:[2,34],32:[2,34],33:[2,34],36:[2,34],38:[2,34]},{18:[2,35],24:[2,35],31:[2,35],32:[2,35],33:[2,35],36:[2,35],38:[2,35]},{18:[2,38],24:[2,38],36:[2,38]},{18:[2,50],24:[2,50],31:[2,50],32:[2,50],33:[2,50],36:[2,50],37:[1,65],38:[2,50],40:[2,50]},{36:[1,66]},{18:[2,47],24:[2,47],31:[2,47],32:[2,47],33:[2,47],36:[2,47],38:[2,47]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],25:[2,10]},{21:67,36:[1,28],39:26},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],25:[2,11]},{14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],25:[2,16]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],25:[2,19]},{5:[2,20],14:[2,20],15:[2,20],16:[2,20],19:[2,20],20:[2,20],22:[2,20],23:[2,20],25:[2,20]},{5:[2,21],14:[2,21],15:[2,21],16:[2,21],19:[2,21],20:[2,21],22:[2,21],23:[2,21],25:[2,21]},{18:[1,68]},{18:[2,24],24:[2,24]},{18:[2,29],24:[2,29],31:[2,29],32:[2,29],33:[2,29],36:[2,29],38:[2,29]},{18:[2,37],24:[2,37],36:[2,37]},{37:[1,65]},{21:69,29:73,31:[1,70],32:[1,71],33:[1,72],36:[1,28],38:[1,27],39:26},{18:[2,49],24:[2,49],31:[2,49],32:[2,49],33:[2,49],36:[2,49],38:[2,49],40:[2,49]},{18:[1,74]},{5:[2,22],14:[2,22],15:[2,22],16:[2,22],19:[2,22],20:[2,22],22:[2,22],23:[2,22],25:[2,22]},{18:[2,39],24:[2,39],36:[2,39]},{18:[2,40],24:[2,40],36:[2,40]},{18:[2,41],24:[2,41],36:[2,41]},{18:[2,42],24:[2,42],36:[2,42]},{18:[2,43],24:[2,43],36:[2,43]},{5:[2,18],14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],25:[2,18]}],defaultActions:{17:[2,1]},parseError:function(e){throw new Error(e)},parse:function(e){function t(){var e;return e=n.lexer.lex()||1,"number"!=typeof e&&(e=n.symbols_[e]||e),e}var n=this,i=[0],r=[null],s=[],a=this.table,o="",l=0,c=0,u=0;this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var h=this.lexer.yylloc;s.push(h);var d=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var p,f,m,g,v,y,b,w,_,x={};;){if(m=i[i.length-1],this.defaultActions[m]?g=this.defaultActions[m]:((null===p||"undefined"==typeof p)&&(p=t()),g=a[m]&&a[m][p]),"undefined"==typeof g||!g.length||!g[0]){var k="";if(!u){_=[];for(y in a[m])this.terminals_[y]&&y>2&&_.push("'"+this.terminals_[y]+"'");k=this.lexer.showPosition?"Parse error on line "+(l+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+_.join(", ")+", got '"+(this.terminals_[p]||p)+"'":"Parse error on line "+(l+1)+": Unexpected "+(1==p?"end of input":"'"+(this.terminals_[p]||p)+"'"),this.parseError(k,{text:this.lexer.match,token:this.terminals_[p]||p,line:this.lexer.yylineno,loc:h,expected:_})}}if(g[0]instanceof Array&&g.length>1)throw new Error("Parse Error: multiple actions possible at state: "+m+", token: "+p);switch(g[0]){case 1:i.push(p),r.push(this.lexer.yytext),s.push(this.lexer.yylloc),i.push(g[1]),p=null,f?(p=f,f=null):(c=this.lexer.yyleng,o=this.lexer.yytext,l=this.lexer.yylineno,h=this.lexer.yylloc,u>0&&u--);break;case 2:if(b=this.productions_[g[1]][1],x.$=r[r.length-b],x._$={first_line:s[s.length-(b||1)].first_line,last_line:s[s.length-1].last_line,first_column:s[s.length-(b||1)].first_column,last_column:s[s.length-1].last_column},d&&(x._$.range=[s[s.length-(b||1)].range[0],s[s.length-1].range[1]]),v=this.performAction.call(x,o,c,l,this.yy,g[1],r,s),"undefined"!=typeof v)return v;b&&(i=i.slice(0,-1*b*2),r=r.slice(0,-1*b),s=s.slice(0,-1*b)),i.push(this.productions_[g[1]][0]),r.push(x.$),s.push(x._$),w=a[i[i.length-2]][i[i.length-1]],i.push(w);break;case 3:return!0}}return!0}},n=function(){var e={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e;var t=e.match(/(?:\r\n?|\n).*/g);return t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t-1),this.offset-=t;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===i.length?this.yylloc.first_column:0)+i[i.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-t]),this},more:function(){return this._more=!0,this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var e,t,n,i,r;this._more||(this.yytext="",this.match="");for(var s=this._currentRules(),a=0;a<s.length&&(n=this._input.match(this.rules[s[a]]),!n||t&&!(n[0].length>t[0].length)||(t=n,i=a,this.options.flex));a++);return t?(r=t[0].match(/(?:\r\n?|\n).*/g),r&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,s[i],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),e?e:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return"undefined"!=typeof e?e:this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(e){this.begin(e)}};return e.options={},e.performAction=function(e,t,n,i){switch(n){case 0:return t.yytext="\\",14;case 1:if("\\"!==t.yytext.slice(-1)&&this.begin("mu"),"\\"===t.yytext.slice(-1)&&(t.yytext=t.yytext.substr(0,t.yyleng-1),this.begin("emu")),t.yytext)return 14;break;case 2:return 14;case 3:return"\\"!==t.yytext.slice(-1)&&this.popState(),"\\"===t.yytext.slice(-1)&&(t.yytext=t.yytext.substr(0,t.yyleng-1)),14;case 4:return t.yytext=t.yytext.substr(0,t.yyleng-4),this.popState(),15;case 5:return 25;case 6:return 16;case 7:return 20;case 8:return 19;case 9:return 19;case 10:return 23;case 11:return 22;case 12:this.popState(),this.begin("com");break;case 13:return t.yytext=t.yytext.substr(3,t.yyleng-5),this.popState(),15;case 14:return 22;case 15:return 37;case 16:return 36;case 17:return 36;case 18:return 40;case 19:break;case 20:return this.popState(),24;case 21:return this.popState(),18;case 22:return t.yytext=t.yytext.substr(1,t.yyleng-2).replace(/\\"/g,'"'),31;case 23:return t.yytext=t.yytext.substr(1,t.yyleng-2).replace(/\\'/g,"'"),31;case 24:return 38;case 25:return 33;case 26:return 33;case 27:return 32;case 28:return 36;case 29:return t.yytext=t.yytext.substr(1,t.yyleng-2),36;case 30:return"INVALID";case 31:return 5}},e.rules=[/^(?:\\\\(?=(\{\{)))/,/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|$)))/,/^(?:[\s\S]*?--\}\})/,/^(?:\{\{>)/,/^(?:\{\{#)/,/^(?:\{\{\/)/,/^(?:\{\{\^)/,/^(?:\{\{\s*else\b)/,/^(?:\{\{\{)/,/^(?:\{\{&)/,/^(?:\{\{!--)/,/^(?:\{\{![\s\S]*?\}\})/,/^(?:\{\{)/,/^(?:=)/,/^(?:\.(?=[}\/ ]))/,/^(?:\.\.)/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}\}\})/,/^(?:\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=[}\s]))/,/^(?:false(?=[}\s]))/,/^(?:-?[0-9]+(?=[}\s]))/,/^(?:[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.]))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/],e.conditions={mu:{rules:[5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],inclusive:!1},emu:{rules:[3],inclusive:!1},com:{rules:[4],inclusive:!1},INITIAL:{rules:[0,1,2,31],inclusive:!0}},e}();return t.lexer=n,e.prototype=t,t.Parser=e,new e}();e.Parser=s,e.parse=function(t){return t.constructor===e.AST.ProgramNode?t:(e.Parser.yy=e.AST,e.Parser.parse(t))},e.AST={},e.AST.ProgramNode=function(t,n){this.type="program",this.statements=t,n&&(this.inverse=new e.AST.ProgramNode(n))},e.AST.MustacheNode=function(e,t,n){this.type="mustache",this.escaped=!n,this.hash=t;var i=this.id=e[0],r=this.params=e.slice(1),s=this.eligibleHelper=i.isSimple;this.isHelper=s&&(r.length||t)},e.AST.PartialNode=function(e,t){this.type="partial",this.partialName=e,this.context=t},e.AST.BlockNode=function(t,n,i,r){var s=function(t,n){if(t.original!==n.original)throw new e.Exception(t.original+" doesn't match "+n.original)};s(t.id,r),this.type="block",this.mustache=t,this.program=n,this.inverse=i,this.inverse&&!this.program&&(this.isInverse=!0)},e.AST.ContentNode=function(e){this.type="content",this.string=e},e.AST.HashNode=function(e){this.type="hash",this.pairs=e},e.AST.IdNode=function(t){this.type="ID";for(var n="",i=[],r=0,s=0,a=t.length;a>s;s++){var o=t[s].part;if(n+=(t[s].separator||"")+o,".."===o||"."===o||"this"===o){if(i.length>0)throw new e.Exception("Invalid path: "+n);".."===o?r++:this.isScoped=!0}else i.push(o)}this.original=n,this.parts=i,this.string=i.join("."),this.depth=r,this.isSimple=1===t.length&&!this.isScoped&&0===r,this.stringModeValue=this.string},e.AST.PartialNameNode=function(e){this.type="PARTIAL_NAME",this.name=e.original},e.AST.DataNode=function(e){this.type="DATA",this.id=e},e.AST.StringNode=function(e){this.type="STRING",this.original=this.string=this.stringModeValue=e},e.AST.IntegerNode=function(e){this.type="INTEGER",this.original=this.integer=e,this.stringModeValue=Number(e)},e.AST.BooleanNode=function(e){this.type="BOOLEAN",this.bool=e,this.stringModeValue="true"===e},e.AST.CommentNode=function(e){this.type="comment",this.comment=e};var a=["description","fileName","lineNumber","message","name","number","stack"];e.Exception=function(){for(var e=Error.prototype.constructor.apply(this,arguments),t=0;t<a.length;t++)this[a[t]]=e[a[t]]},e.Exception.prototype=new Error,e.SafeString=function(e){this.string=e},e.SafeString.prototype.toString=function(){return this.string.toString()};var o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},l=/[&<>"'`]/g,c=/[&<>"'`]/,u=function(e){return o[e]||"&amp;"};e.Utils={extend:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},escapeExpression:function(t){return t instanceof e.SafeString?t.toString():null==t||t===!1?"":(t=t.toString(),c.test(t)?t.replace(l,u):t)},isEmpty:function(e){return e||0===e?"[object Array]"===n.call(e)&&0===e.length?!0:!1:!0}};var h=e.Compiler=function(){},d=e.JavaScriptCompiler=function(){};h.prototype={compiler:h,disassemble:function(){for(var e,t,n,i=this.opcodes,r=[],s=0,a=i.length;a>s;s++)if(e=i[s],"DECLARE"===e.opcode)r.push("DECLARE "+e.name+"="+e.value);else{t=[];for(var o=0;o<e.args.length;o++)n=e.args[o],"string"==typeof n&&(n='"'+n.replace("\n","\\n")+'"'),t.push(n);r.push(e.opcode+" "+t.join(" "))}return r.join("\n")},equals:function(e){var t=this.opcodes.length;if(e.opcodes.length!==t)return!1;for(var n=0;t>n;n++){var i=this.opcodes[n],r=e.opcodes[n];if(i.opcode!==r.opcode||i.args.length!==r.args.length)return!1;for(var s=0;s<i.args.length;s++)if(i.args[s]!==r.args[s])return!1}if(t=this.children.length,e.children.length!==t)return!1;for(n=0;t>n;n++)if(!this.children[n].equals(e.children[n]))return!1;return!0},guid:0,compile:function(e,t){this.children=[],this.depths={list:[]},this.options=t;var n=this.options.knownHelpers;if(this.options.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0},n)for(var i in n)this.options.knownHelpers[i]=n[i];return this.program(e)},accept:function(e){return this[e.type](e)},program:function(e){var t,n=e.statements;this.opcodes=[];for(var i=0,r=n.length;r>i;i++)t=n[i],this[t.type](t);return this.isSimple=1===r,this.depths.list=this.depths.list.sort(function(e,t){return e-t}),this},compileProgram:function(e){var t,n=(new this.compiler).compile(e,this.options),i=this.guid++;this.usePartial=this.usePartial||n.usePartial,this.children[i]=n;for(var r=0,s=n.depths.list.length;s>r;r++)t=n.depths.list[r],2>t||this.addDepth(t-1);return i},block:function(e){var t=e.mustache,n=e.program,i=e.inverse;n&&(n=this.compileProgram(n)),i&&(i=this.compileProgram(i));var r=this.classifyMustache(t);"helper"===r?this.helperMustache(t,n,i):"simple"===r?(this.simpleMustache(t),this.opcode("pushProgram",n),this.opcode("pushProgram",i),this.opcode("emptyHash"),this.opcode("blockValue")):(this.ambiguousMustache(t,n,i),this.opcode("pushProgram",n),this.opcode("pushProgram",i),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},hash:function(e){var t,n,i=e.pairs;this.opcode("pushHash");for(var r=0,s=i.length;s>r;r++)t=i[r],n=t[1],this.options.stringParams?(n.depth&&this.addDepth(n.depth),this.opcode("getContext",n.depth||0),this.opcode("pushStringParam",n.stringModeValue,n.type)):this.accept(n),this.opcode("assignToHash",t[0]);this.opcode("popHash")},partial:function(e){var t=e.partialName;this.usePartial=!0,e.context?this.ID(e.context):this.opcode("push","depth0"),this.opcode("invokePartial",t.name),this.opcode("append")},content:function(e){this.opcode("appendContent",e.string)},mustache:function(e){var t=this.options,n=this.classifyMustache(e);"simple"===n?this.simpleMustache(e):"helper"===n?this.helperMustache(e):this.ambiguousMustache(e),this.opcode(e.escaped&&!t.noEscape?"appendEscaped":"append")},ambiguousMustache:function(e,t,n){var i=e.id,r=i.parts[0],s=null!=t||null!=n;this.opcode("getContext",i.depth),this.opcode("pushProgram",t),this.opcode("pushProgram",n),this.opcode("invokeAmbiguous",r,s)},simpleMustache:function(e){var t=e.id;"DATA"===t.type?this.DATA(t):t.parts.length?this.ID(t):(this.addDepth(t.depth),this.opcode("getContext",t.depth),this.opcode("pushContext")),this.opcode("resolvePossibleLambda")},helperMustache:function(e,t,n){var i=this.setupFullMustacheParams(e,t,n),r=e.id.parts[0];if(this.options.knownHelpers[r])this.opcode("invokeKnownHelper",i.length,r);else{if(this.options.knownHelpersOnly)throw new Error("You specified knownHelpersOnly, but used the unknown helper "+r);this.opcode("invokeHelper",i.length,r)}},ID:function(e){this.addDepth(e.depth),this.opcode("getContext",e.depth);var t=e.parts[0];t?this.opcode("lookupOnContext",e.parts[0]):this.opcode("pushContext");for(var n=1,i=e.parts.length;i>n;n++)this.opcode("lookup",e.parts[n])},DATA:function(t){if(this.options.data=!0,t.id.isScoped||t.id.depth)throw new e.Exception("Scoped data references are not supported: "+t.original);this.opcode("lookupData");for(var n=t.id.parts,i=0,r=n.length;r>i;i++)this.opcode("lookup",n[i])},STRING:function(e){this.opcode("pushString",e.string)},INTEGER:function(e){this.opcode("pushLiteral",e.integer)},BOOLEAN:function(e){this.opcode("pushLiteral",e.bool)},comment:function(){},opcode:function(e){this.opcodes.push({opcode:e,args:[].slice.call(arguments,1)})},declare:function(e,t){this.opcodes.push({opcode:"DECLARE",name:e,value:t})},addDepth:function(e){if(isNaN(e))throw new Error("EWOT");0!==e&&(this.depths[e]||(this.depths[e]=!0,this.depths.list.push(e)))},classifyMustache:function(e){var t=e.isHelper,n=e.eligibleHelper,i=this.options;if(n&&!t){var r=e.id.parts[0];i.knownHelpers[r]?t=!0:i.knownHelpersOnly&&(n=!1)}return t?"helper":n?"ambiguous":"simple"},pushParams:function(e){for(var t,n=e.length;n--;)t=e[n],this.options.stringParams?(t.depth&&this.addDepth(t.depth),this.opcode("getContext",t.depth||0),this.opcode("pushStringParam",t.stringModeValue,t.type)):this[t.type](t)},setupMustacheParams:function(e){var t=e.params;return this.pushParams(t),e.hash?this.hash(e.hash):this.opcode("emptyHash"),t},setupFullMustacheParams:function(e,t,n){var i=e.params;return this.pushParams(i),this.opcode("pushProgram",t),this.opcode("pushProgram",n),e.hash?this.hash(e.hash):this.opcode("emptyHash"),i}};var p=function(e){this.value=e};d.prototype={nameLookup:function(e,t){return/^[0-9]+$/.test(t)?e+"["+t+"]":d.isValidJavaScriptVariableName(t)?e+"."+t:e+"['"+t+"']"},appendToBuffer:function(e){return this.environment.isSimple?"return "+e+";":{appendToBuffer:!0,content:e,toString:function(){return"buffer += "+e+";"}}},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(t,n,i,r){this.environment=t,this.options=n||{},e.log(e.logger.DEBUG,this.environment.disassemble()+"\n\n"),this.name=this.environment.name,this.isChild=!!i,this.context=i||{programs:[],environments:[],aliases:{}},this.preamble(),this.stackSlot=0,this.stackVars=[],this.registers={list:[]},this.compileStack=[],this.inlineStack=[],this.compileChildren(t,n);var s,a=t.opcodes;for(this.i=0,v=a.length;this.i<v;this.i++)s=a[this.i],"DECLARE"===s.opcode?this[s.name]=s.value:this[s.opcode].apply(this,s.args);return this.createFunctionContext(r)},nextOpcode:function(){var e=this.environment.opcodes;return e[this.i+1]},eat:function(){this.i=this.i+1},preamble:function(){var e=[];if(this.isChild)e.push("");else{var t=this.namespace,n="helpers = this.merge(helpers, "+t+".helpers);";this.environment.usePartial&&(n=n+" partials = this.merge(partials, "+t+".partials);"),this.options.data&&(n+=" data = data || {};"),e.push(n)}e.push(this.environment.isSimple?"":", buffer = "+this.initializeBuffer()),this.lastContext=0,this.source=e},createFunctionContext:function(t){var n=this.stackVars.concat(this.registers.list);if(n.length>0&&(this.source[1]=this.source[1]+", "+n.join(", ")),!this.isChild)for(var i in this.context.aliases)this.context.aliases.hasOwnProperty(i)&&(this.source[1]=this.source[1]+", "+i+"="+this.context.aliases[i]);this.source[1]&&(this.source[1]="var "+this.source[1].substring(2)+";"),this.isChild||(this.source[1]+="\n"+this.context.programs.join("\n")+"\n"),this.environment.isSimple||this.source.push("return buffer;");for(var r=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"],s=0,a=this.environment.depths.list.length;a>s;s++)r.push("depth"+this.environment.depths.list[s]);var o=this.mergeSource();if(!this.isChild){var l=e.COMPILER_REVISION,c=e.REVISION_CHANGES[l];o="this.compilerInfo = ["+l+",'"+c+"'];\n"+o}if(t)return r.push(o),Function.apply(this,r);var u="function "+(this.name||"")+"("+r.join(",")+") {\n  "+o+"}";return e.log(e.logger.DEBUG,u+"\n\n"),u},mergeSource:function(){for(var e,n="",i=0,r=this.source.length;r>i;i++){var s=this.source[i];s.appendToBuffer?e=e?e+"\n    + "+s.content:s.content:(e&&(n+="buffer += "+e+";\n  ",e=t),n+=s+"\n  ")}return n},blockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var e=["depth0"];this.setupParams(0,e),this.replaceStack(function(t){return e.splice(1,0,t),"blockHelperMissing.call("+e.join(", ")+")"})},ambiguousBlockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var e=["depth0"];this.setupParams(0,e);var t=this.topStack();e.splice(1,0,t),e[e.length-1]="options",this.source.push("if (!"+this.lastHelper+") { "+t+" = blockHelperMissing.call("+e.join(", ")+"); }")},appendContent:function(e){this.source.push(this.appendToBuffer(this.quotedString(e)))},append:function(){this.flushInline();var e=this.popStack();this.source.push("if("+e+" || "+e+" === 0) { "+this.appendToBuffer(e)+" }"),this.environment.isSimple&&this.source.push("else { "+this.appendToBuffer("''")+" }")},appendEscaped:function(){this.context.aliases.escapeExpression="this.escapeExpression",this.source.push(this.appendToBuffer("escapeExpression("+this.popStack()+")"))},getContext:function(e){this.lastContext!==e&&(this.lastContext=e)},lookupOnContext:function(e){this.push(this.nameLookup("depth"+this.lastContext,e,"context"))},pushContext:function(){this.pushStackLiteral("depth"+this.lastContext)},resolvePossibleLambda:function(){this.context.aliases.functionType='"function"',this.replaceStack(function(e){return"typeof "+e+" === functionType ? "+e+".apply(depth0) : "+e})},lookup:function(e){this.replaceStack(function(t){return t+" == null || "+t+" === false ? "+t+" : "+this.nameLookup(t,e,"context")})},lookupData:function(){this.push("data")},pushStringParam:function(e,t){this.pushStackLiteral("depth"+this.lastContext),this.pushString(t),"string"==typeof e?this.pushString(e):this.pushStackLiteral(e)},emptyHash:function(){this.pushStackLiteral("{}"),this.options.stringParams&&(this.register("hashTypes","{}"),this.register("hashContexts","{}"))},pushHash:function(){this.hash={values:[],types:[],contexts:[]}},popHash:function(){var e=this.hash;this.hash=t,this.options.stringParams&&(this.register("hashContexts","{"+e.contexts.join(",")+"}"),this.register("hashTypes","{"+e.types.join(",")+"}")),this.push("{\n    "+e.values.join(",\n    ")+"\n  }")
},pushString:function(e){this.pushStackLiteral(this.quotedString(e))},push:function(e){return this.inlineStack.push(e),e},pushLiteral:function(e){this.pushStackLiteral(e)},pushProgram:function(e){this.pushStackLiteral(null!=e?this.programExpression(e):null)},invokeHelper:function(e,t){this.context.aliases.helperMissing="helpers.helperMissing";var n=this.lastHelper=this.setupHelper(e,t,!0),i=this.nameLookup("depth"+this.lastContext,t,"context");this.push(n.name+" || "+i),this.replaceStack(function(e){return e+" ? "+e+".call("+n.callParams+") : helperMissing.call("+n.helperMissingParams+")"})},invokeKnownHelper:function(e,t){var n=this.setupHelper(e,t);this.push(n.name+".call("+n.callParams+")")},invokeAmbiguous:function(e,t){this.context.aliases.functionType='"function"',this.pushStackLiteral("{}");var n=this.setupHelper(0,e,t),i=this.lastHelper=this.nameLookup("helpers",e,"helper"),r=this.nameLookup("depth"+this.lastContext,e,"context"),s=this.nextStack();this.source.push("if ("+s+" = "+i+") { "+s+" = "+s+".call("+n.callParams+"); }"),this.source.push("else { "+s+" = "+r+"; "+s+" = typeof "+s+" === functionType ? "+s+".apply(depth0) : "+s+"; }")},invokePartial:function(e){var t=[this.nameLookup("partials",e,"partial"),"'"+e+"'",this.popStack(),"helpers","partials"];this.options.data&&t.push("data"),this.context.aliases.self="this",this.push("self.invokePartial("+t.join(", ")+")")},assignToHash:function(e){var t,n,i=this.popStack();this.options.stringParams&&(n=this.popStack(),t=this.popStack());var r=this.hash;t&&r.contexts.push("'"+e+"': "+t),n&&r.types.push("'"+e+"': "+n),r.values.push("'"+e+"': ("+i+")")},compiler:d,compileChildren:function(e,t){for(var n,i,r=e.children,s=0,a=r.length;a>s;s++){n=r[s],i=new this.compiler;var o=this.matchExistingProgram(n);null==o?(this.context.programs.push(""),o=this.context.programs.length,n.index=o,n.name="program"+o,this.context.programs[o]=i.compile(n,t,this.context),this.context.environments[o]=n):(n.index=o,n.name="program"+o)}},matchExistingProgram:function(e){for(var t=0,n=this.context.environments.length;n>t;t++){var i=this.context.environments[t];if(i&&i.equals(e))return t}},programExpression:function(e){if(this.context.aliases.self="this",null==e)return"self.noop";for(var t,n=this.environment.children[e],i=n.depths.list,r=[n.index,n.name,"data"],s=0,a=i.length;a>s;s++)t=i[s],r.push(1===t?"depth0":"depth"+(t-1));return(0===i.length?"self.program(":"self.programWithDepth(")+r.join(", ")+")"},register:function(e,t){this.useRegister(e),this.source.push(e+" = "+t+";")},useRegister:function(e){this.registers[e]||(this.registers[e]=!0,this.registers.list.push(e))},pushStackLiteral:function(e){return this.push(new p(e))},pushStack:function(e){this.flushInline();var t=this.incrStack();return e&&this.source.push(t+" = "+e+";"),this.compileStack.push(t),t},replaceStack:function(e){var t,n="",i=this.isInline();if(i){var r=this.popStack(!0);if(r instanceof p)t=r.value;else{var s=this.stackSlot?this.topStackName():this.incrStack();n="("+this.push(s)+" = "+r+"),",t=this.topStack()}}else t=this.topStack();var a=e.call(this,t);return i?((this.inlineStack.length||this.compileStack.length)&&this.popStack(),this.push("("+n+a+")")):(/^stack/.test(t)||(t=this.nextStack()),this.source.push(t+" = ("+n+a+");")),t},nextStack:function(){return this.pushStack()},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var e=this.inlineStack;if(e.length){this.inlineStack=[];for(var t=0,n=e.length;n>t;t++){var i=e[t];i instanceof p?this.compileStack.push(i):this.pushStack(i)}}},isInline:function(){return this.inlineStack.length},popStack:function(e){var t=this.isInline(),n=(t?this.inlineStack:this.compileStack).pop();return!e&&n instanceof p?n.value:(t||this.stackSlot--,n)},topStack:function(e){var t=this.isInline()?this.inlineStack:this.compileStack,n=t[t.length-1];return!e&&n instanceof p?n.value:n},quotedString:function(e){return'"'+e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},setupHelper:function(e,t,n){var i=[];this.setupParams(e,i,n);var r=this.nameLookup("helpers",t,"helper");return{params:i,name:r,callParams:["depth0"].concat(i).join(", "),helperMissingParams:n&&["depth0",this.quotedString(t)].concat(i).join(", ")}},setupParams:function(e,t,n){var i,r,s,a=[],o=[],l=[];a.push("hash:"+this.popStack()),r=this.popStack(),s=this.popStack(),(s||r)&&(s||(this.context.aliases.self="this",s="self.noop"),r||(this.context.aliases.self="this",r="self.noop"),a.push("inverse:"+r),a.push("fn:"+s));for(var c=0;e>c;c++)i=this.popStack(),t.push(i),this.options.stringParams&&(l.push(this.popStack()),o.push(this.popStack()));return this.options.stringParams&&(a.push("contexts:["+o.join(",")+"]"),a.push("types:["+l.join(",")+"]"),a.push("hashContexts:hashContexts"),a.push("hashTypes:hashTypes")),this.options.data&&a.push("data:data"),a="{"+a.join(",")+"}",n?(this.register("options",a),t.push("options")):t.push(a),t.join(", ")}};for(var f="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" "),m=d.RESERVED_WORDS={},g=0,v=f.length;v>g;g++)m[f[g]]=!0;d.isValidJavaScriptVariableName=function(e){return!d.RESERVED_WORDS[e]&&/^[a-zA-Z_$][0-9a-zA-Z_$]+$/.test(e)?!0:!1},e.precompile=function(t,n){if(null==t||"string"!=typeof t&&t.constructor!==e.AST.ProgramNode)throw new e.Exception("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+t);n=n||{},"data"in n||(n.data=!0);var i=e.parse(t),r=(new h).compile(i,n);return(new d).compile(r,n)},e.compile=function(n,i){function r(){var r=e.parse(n),s=(new h).compile(r,i),a=(new d).compile(s,i,t,!0);return e.template(a)}if(null==n||"string"!=typeof n&&n.constructor!==e.AST.ProgramNode)throw new e.Exception("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+n);i=i||{},"data"in i||(i.data=!0);var s;return function(e,t){return s||(s=r()),s.call(this,e,t)}},e.VM={template:function(t){var n={escapeExpression:e.Utils.escapeExpression,invokePartial:e.VM.invokePartial,programs:[],program:function(t,n,i){var r=this.programs[t];return i?r=e.VM.program(t,n,i):r||(r=this.programs[t]=e.VM.program(t,n)),r},merge:function(t,n){var i=t||n;return t&&n&&(i={},e.Utils.extend(i,n),e.Utils.extend(i,t)),i},programWithDepth:e.VM.programWithDepth,noop:e.VM.noop,compilerInfo:null};return function(i,r){r=r||{};var s=t.call(n,e,i,r.helpers,r.partials,r.data),a=n.compilerInfo||[],o=a[0]||1,l=e.COMPILER_REVISION;if(o!==l){if(l>o){var c=e.REVISION_CHANGES[l],u=e.REVISION_CHANGES[o];throw"Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+c+") or downgrade your runtime to an older version ("+u+")."}throw"Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+a[1]+")."}return s}},programWithDepth:function(e,t,n){var i=Array.prototype.slice.call(arguments,3),r=function(e,r){return r=r||{},t.apply(this,[e,r.data||n].concat(i))};return r.program=e,r.depth=i.length,r},program:function(e,t,n){var i=function(e,i){return i=i||{},t(e,i.data||n)};return i.program=e,i.depth=0,i},noop:function(){return""},invokePartial:function(n,i,r,s,a,o){var l={helpers:s,partials:a,data:o};if(n===t)throw new e.Exception("The partial "+i+" could not be found");if(n instanceof Function)return n(r,l);if(e.compile)return a[i]=e.compile(n,{data:o!==t}),a[i](r,l);throw new e.Exception("The partial "+i+" could not be compiled when running in runtime-only mode")}},e.template=e.VM.template}(Handlebars),define("handlebars",function(e){return function(){var t;return t||e.Handlebars}}(this)),function(){function e(){this.helpers&&_.each(this.helpers,function(e,t){var n=this;this.helpers[t]=function(){var t=_.toArray(arguments),i=_.last(t);return i.context=this,e.apply(n,t)}},this)}function t(e){return'Error "'+e+'". For more information visit http://thoraxjs.org/error-codes.html#'+e}function n(e,t){var n=e.extend;e.extend=function(){var e=n.apply(this,arguments);return e.prototype.name&&(t[e.prototype.name]=e),e}}function i(e,t,n,i){var r,s=e[t];if(_.indexOf(n,".")>=0){var a=n.split(/\./);n=a.pop(),_.each(a,function(e){s=s[e]})}if(s&&(r=s[n]),r||i)return r;throw new Error(t+": "+n+" does not exist.")}function r(e,t){var n;if(_.isString(this[e])?n=at.Util.getViewClass(this[e],!0):this.name&&!_.isFunction(this[e])&&(n=at.Util.getViewClass(this.name+(t.extension||""),!0)),n&&!_.isFunction(this[e])&&(this[e]=n),t.required&&!_.isFunction(this[e]))throw new Error("View "+(this.name||this.cid)+" requires: "+e)}function s(e,t){var n;if(_.isString(this[e])?n=at.Util.getTemplate(this[e],!0):this.name&&!_.isFunction(this[e])&&(n=at.Util.getTemplate(this.name+(t.extension||""),!0)),!n&&"template"===e&&this._defaultTemplate&&(n=this._defaultTemplate),n&&!_.isFunction(this[e])&&(this[e]=n),t.required&&!_.isFunction(this[e]))throw new Error("View "+(this.name||this.cid)+" requires: "+e)}function a(e,t,n){return e&&e[t]?_.isFunction(e[t])?e[t].call(n||e):e[t]:null}function o(e){_.each(ot,function(t){e[t.name]||(e[t.name]=[])})}function l(e){_.each(ot,function(t){e[t.name]=[]})}function c(e,t,n,i){var r=[];_.has(e,t)&&r.push(e);var s=e;if(n)for(;s=s.__parent__;)_.has(s,t)&&r.push(s);else for(s=s.constructor;s;)s.prototype&&_.has(s.prototype,t)&&r.push(s.prototype),s=s.__super__&&s.__super__.constructor;for(var o=r.length;o--;)_.each(a(r[o],t,e),i)}function u(e,t,n,i){if(_.isObject(n)){var r=ot[t];if(r&&r.event)return e&&e.listenTo&&e[t]&&e[t].cid?d(e,n,i,t):d(e["_"+t+"Events"],n,i),!0}}function h(e,t,n,i,r){function s(){if(e.el)a.apply(r,arguments);else{if(o)throw new Error("destroyed-event:"+e.name+":"+n);o++}}var a=S(i,e),o=0;s._callback=a._callback||a,s._thoraxBind=!0,e.listenTo(t,n,s)}function d(e,t,n,i){function r(t,r){i?h(e,e[i],r,t,n||e):e.push([r,t,n])}_.each(t,function(e,t){_.isArray(e)?_.each(e,function(e){r(e,t)}):r(e,t)})}function p(e){if(!e||!e.data)throw new Error(t("handlebars-no-data"));return e.data}function f(e){e.tag&&(e.tagName=e.tag,delete e.tag),e["class"]&&(e.className=e["class"],delete e["class"])}function m(e){ht.push.apply(ht,e),ct=new RegExp("^(nested\\s+)?("+ht.join("|")+")(?:\\s|$)")}function g(e,t){return function(n){var i=$(n.target).view({helper:!1});i&&i.cid===t&&(n.originalContext=this,e(n))}}function v(e,t){function n(){try{r.apply(s,arguments)}catch(t){at.onException("thorax-exception: "+(s.name||s.cid)+":"+e,t)}}e+=t.originalName;var i=t.handler,r=_.isFunction(i)?i:this[i];if(!r)throw new Error('Event "'+i+'" does not exist '+(this.name||this.cid)+":"+e);var s=t.context||this;return n._callback=r,n._thoraxBind=!0,n}function y(e,t,n){var i={originalName:e,handler:_.isString(t)?this[t]:t};if(e.match(ct)){var r=ut.exec(e);i.nested=!!r[1],i.name=r[2],i.type="DOM",i.selector=r[3]}else i.name=e,i.type="view";return i.context=n,i}function b(e){for(;e._helperName&&"view"!==e._helperName;)e=e.parent;return e}function w(e){var t=_.pick(e,"fn","inverse","hash","data");return t.data=_.omit(e.data,"cid","view","yield"),t}function x(e,t){function n(e,t){return _.every(e,function(e,n){return t[n]===e})}return e._helperName!==t._helperName?!1:(e=e._helperOptions,t=t._helperOptions,e.args.length===t.args.length&&n(e.args,t.args)&&_.isEqual(_.keys(e.options),_.keys(t.options))&&_.every(e.options,function(i,r){if("data"===r||"hash"===r)return n(e.options[r],t.options[r]);if("fn"===r||"inverse"===r){if(t.options[r]===i)return!0;var s=t.options[r]||{};return i&&_.has(i,"program")&&!i.depth&&s.program===i.program}return t.options[r]===i}))}function k(e,t){function n(n,i){var r=this[e],s=a(this,t.$el);return n===r?this:(r&&this.unbindDataObject(r),n?(this[e]=n,t.loading&&t.loading.call(this),this.bindDataObject(e,n,_.extend({},this.options,i)),s&&s.attr(t.cidAttrName,n.cid),n.trigger("set",n,r)):(this[e]=!1,t.change&&t.change.call(this,!1),s&&s.removeAttr(t.cidAttrName)),this.trigger("change:data-object",e,n,r),this)}t=ot[e]=_.defaults({name:"_"+e+"Events",event:!0},t),t.ctor=function(){if(this[e]){var n=this[e];this[e]=null,this[t.set](n)}},at.View.prototype[t.set]=n}function C(e,t,n){var i=this;c(n,"_"+e+"Events",!0,function(e){h(i,t,e[0],e[1],e[2]||i)})}function T(e,t){e.load?e.load(function(){t&&t.success&&t.success(e)},t):e.fetch(t)}function S(e,t){return _.isFunction(e)?e:t[e]}function D(e,t){if(!t||!t.serializing){var n=this.getObjectOptions(e)||{};this.conditionalRender(n.render)}}function E(e){var t=this.getObjectOptions(e)||void 0;this.shouldRender(t&&t.render)&&this.renderCollection&&this.renderCollection()}function P(e){var t=this.getObjectOptions(e)||void 0;this.shouldRender(t&&t.render)&&this.ensureRendered()}function M(){this.itemFilter&&this.collection.forEach(A,this)}function A(e){var t=this.getCollectionElement();this.itemFilter&&t.find("["+mt+'="'+e.cid+'"]')[N.call(this,e)?"show":"hide"]()}function N(e){return this.itemFilter(e,this.collection.indexOf(e))}function O(){var e=this.getCollectionElement();this.emptyClass&&e.removeClass(this.emptyClass),e.removeAttr(wt),e.empty()}function H(){var e=this.getCollectionElement();this.emptyClass&&e.addClass(this.emptyClass),e.attr(wt,!0),this.appendEmpty()}function L(e,t){return _.each(e,function(n,i){return _.isObject(n)?L(n,t):void(t(n,i,e)===!1&&delete e[i])}),e}function I(){R.call(this),this.model&&this.model.previousAttributes&&this.model.set(this.model.previousAttributes(),{silent:!0})}function j(e,t,n){var i=0;$("select,input,textarea",t.root||e.el).each(function(){(t.children||e===$(this).view({helper:!1}))&&"button"!==this.type&&"cancel"!==this.type&&"submit"!==this.type&&this.name&&(n(this,i),++i)})}function F(e,t,n,i){for(var r,s=e,a=t.split("["),o=n.mode,l=0;l<a.length-1;++l){if(r=a[l].replace("]",""),!s[r]){if("serialize"!==o)return i(void 0,r);s[r]={}}s=s[r]}r=a[a.length-1].replace("]",""),i(s,r)}function R(){this.$("form").removeAttr("data-submit-wait")}function V(e){var t=e.getObjectOptions(e.model)||{};return t.populate===!0?{}:t.populate}function U(e,t){t=t||{},t.target=this,this.trigger(e,t),_.each(this.children,function(n){n.trigger(e,t)})}function Y(){++this._renderCount,this.$el.attr(Ct,this.cid)}function B(){if(!this.$("["+Ct+'="'+this.cid+'"]')[0])throw new Error("No layout element found in "+(this.name||this.cid))}function q(){return this.$("["+Ct+'="'+this.cid+'"]')[0]||this.el[0]||this.el}function W(e){return function(){var t=_.toArray(arguments);t.unshift(e),this.parent.trigger.apply(this.parent,t)}}function z(e){var t=b(this);if(!this[e]){var n=t[e];n&&(this[e]=n)}}function G(e){var t=$(this),n=t.view({helper:!1}),i=t.attr(St),r=t.attr(Dt),s=!1;i&&(s=n[i].call(n,e)),r&&n.trigger(r,e),"A"===this.tagName&&s===!1&&e.preventDefault()}function X(){J(),Et=at._fastClickEventName||"click",$(document).on(Et,Pt,G)}function J(){Et&&$(document).off(Et,Pt,G)}function Q(e,t){function n(){r!==Backbone.history.getFragment()&&(s=!0,a.cancel(),t&&t())}function i(){Backbone.history.off("route",n),s||e.apply(this,arguments)}var r=Backbone.history.getFragment(),s=!1;Backbone.history.on("route",n);var a=_.bind(i,this);return a.cancel=function(){Backbone.history.off("route",n)},a}function Z(e,t,n){if(this.isPopulated())return _.defer(e,this);2===arguments.length&&!_.isFunction(t)&&_.isObject(t)&&(n=t,t=!1);var i=this,r=!1,s=Q(_.bind(e,i),function(){r=!0,i._request&&(i._aborted=!0,i._request.abort()),t&&t.call(i,!1)});this.fetch(_.defaults({success:s,error:function(){s.cancel(),!r&&t&&t.apply(i,[!0].concat(_.toArray(arguments)))}},n))}function K(e,n){if(e.resetQueue)this.fetchQueue=void 0;else if(this.fetchQueue){var i=(this.fetchQueue[0]||{}).reset;if(i!==e.reset)throw new Error(t("mixed-fetch"))}return this.fetchQueue?void this.fetchQueue.push(e):(this.fetchQueue=[e],e=_.defaults({success:et(this,this.fetchQueue,"success"),error:et(this,this.fetchQueue,"error"),complete:et(this,this.fetchQueue,"complete")},e),n&&n.call(this,e),e)}function et(e,t,n){return function(){var i=arguments;_.each(t,function(e){e[n]&&e[n].apply(this,i)},this),e.fetchQueue===t&&(e.fetchQueue=void 0)}}function tt(){this.render()}$.fn.forEach||($.fn.forEach=function(e,t){$.fn.each.call(this,function(n){e.call(t||this,this,n)})});var nt="data-view-name",it="data-view-cid",rt="data-view-helper",st={};Handlebars.templates||(Handlebars.templates={});var at=this.Thorax={templatePathPrefix:"",Views:{},onException:function(e,t){throw t},templates:Handlebars.templates};at.View=Backbone.View.extend({constructor:function(){var e=Backbone.View.apply(this,arguments);return _.each(ot,function(t){t.ctor&&t.ctor.call(this,e)},this),e},_configure:function(t){var n=this;this._referenceCount=0,this._objectOptionsByCid={},this._boundDataObjectsByCid={},_.each(ot,function(e){n[e.name]=[]}),st[this.cid]=this,this.children={},this._renderCount=0,_.extend(this,t||{}),e.call(this),_.each(ot,function(e){e.configure&&e.configure.call(this)},this),this.trigger("configure")},setElement:function(){var e=Backbone.View.prototype.setElement.apply(this,arguments);return this.name&&this.$el.attr(nt,this.name),this.$el.attr(it,this.cid),e},_addChild:function(e){return this.children[e.cid]?e:(e.retain(),this.children[e.cid]=e,e.parent&&e.parent!==this&&!e._helperOptions&&e.parent._removeChild(e),e.parent=this,this.trigger("child",e),e)},_removeChild:function(e){return delete this.children[e.cid],e.parent=null,e.release(),e},_destroy:function(){_.each(this._boundDataObjectsByCid,this.unbindDataObject,this),this.trigger("destroyed"),delete st[this.cid],_.each(this.children,function(e){this._removeChild(e)},this),this.el&&(this.undelegateEvents(),this.remove(),this.off()),this.el=this.$el=void 0,this.parent=void 0,this.model=this.collection=this._collection=void 0,this._helperOptions=void 0},render:function(e){if(this.el){if(this._rendering)throw new Error(t("nested-render"));this._previousHelpers=_.filter(this.children,function(e){return e._helperOptions});var n={};_.each(this.children,function(e,t){e._helperOptions||(n[t]=e)}),this.children=n,this.trigger("before:rendered"),this._rendering=!0;try{!_.isUndefined(e)&&(_.isElement(e)||at.Util.is$(e)||e&&e.el||_.isString(e)||_.isFunction(e))?_.isFunction(e)&&(e=this.renderTemplate(e)):(s.call(this,"template",{required:!0}),e=this.renderTemplate(this.template)),_.each(this._previousHelpers,function(e){this._removeChild(e)},this),this._previousHelpers=void 0,this.html(e&&e.el||e&&e.string||e),++this._renderCount,this.trigger("rendered")}finally{this._rendering=!1}return e}},context:function(){return _.extend({},this.model&&this.model.attributes||{})},_getContext:function(){return _.extend({},this,a(this,"context")||{})},_getData:function(e){return{view:this,cid:_.uniqueId("t"),"yield":function(){return e.fn&&e.fn(e)}}},renderTemplate:function(e,t,n){var i;return t=t||this._getContext(),i=_.isFunction(e)?e:at.Util.getTemplate(e,n),i?i(t,{helpers:this.helpers,data:this._getData(t)}):""},ensureRendered:function(){!this._renderCount&&this.render()},shouldRender:function(e){return e||null==e&&this._renderCount},conditionalRender:function(e){this.shouldRender(e)&&this.render()},appendTo:function(e){this.ensureRendered(),$(e).append(this.el),this.trigger("ready",{target:this})},html:function(e){if(_.isUndefined(e))return this.el.innerHTML;this.trigger("before:append");var t=this._replaceHTML(e);return this.trigger("append"),t},release:function(){--this._referenceCount,this._referenceCount<=0&&this._destroy()},retain:function(e){++this._referenceCount,e&&this.listenTo(e,"destroyed",e.release)},_replaceHTML:function(e){return this.el.innerHTML="",this.$el.append(e)},_anchorClick:function(e){var t=$(e.currentTarget),n=t.attr("href");return n&&("#"===n[0]||"/"===n[0]&&"/"!==n[1])?(Backbone.history.navigate(n,{trigger:!0}),!1):!0}}),at.View.extend=function(){o(this);var e=Backbone.View.extend.apply(this,arguments);return e.__parent__=this,l(e),e},n(at.View,at.Views),$.fn.view=function(e){e=_.defaults(e||{},{helper:!0});var t="["+it+"]";e.helper||(t+=":not(["+rt+"])");var n=$(this).closest(t);return n&&st[n.attr(it)]||!1};var ot={};at.Util={getViewInstance:function(e,t){var n=at.Util.getViewClass(e,!0);return n?new n(t||{}):e},getViewClass:function(e,t){return _.isString(e)?i(at,"Views",e,t):_.isFunction(e)?e:!1},getTemplate:function(e,t){var n,i=at.templatePathPrefix;if(i&&e.substr(0,i.length)!==i&&(e=i+e),e=e.replace(/\.handlebars$/,""),n=Handlebars.templates[e],n||(e+=".handlebars",n=Handlebars.templates[e]),!n&&!t)throw new Error("templates: "+e+" does not exist.");return n},is$:function(e){return _.isObject(e)&&"length"in e},expandToken:function(e,t){function n(e,t){if(e.match(/^("|')/)&&e.match(/("|')$/))return e.replace(/(^("|')|('|")$)/g,"");for(var n=e.split("."),i=n.length,r=0;t&&i>r;r++)"this"!==n[r]&&(t=t[n[r]]);return t}if(e&&e.indexOf&&e.indexOf("{{")>=0){for(var i,r=/(?:\{?[^{]+)|(?:\{\{([^}]+)\}\})/g,s=[];i=r.exec(e);)if(i[1]){var a=i[1].split(/\s+/);if(a.length>1){var o=a.shift();a=_.map(a,function(e){return n(e,t)}),s.push(Handlebars.helpers[o]?Handlebars.helpers[o].apply(t,a):i[0])}else s.push(n(a[0],t))}else s.push(i[0]);e=s.join("")}return e},tag:function(e,t,n){var i=_.omit(e,"tagName"),r=e.tagName||"div";return"<"+r+" "+_.map(i,function(e,t){if(_.isUndefined(e)||"expand-tokens"===t)return"";var i=e;return n&&(i=at.Util.expandToken(e,n)),("className"===t?"class":t)+'="'+Handlebars.Utils.escapeExpression(i)+'"'}).join(" ")+">"+(_.isUndefined(t)?"":t)+"</"+r+">"}},at.Mixins={},_.extend(at.View,{mixin:function(e){at.Mixins[e](this)},registerMixin:function(e,t,n){at.Mixins[e]=function(e){var i=!!e.cid;n&&_.extend(i?e:e.prototype,n),i?t.call(e):e.on("configure",t)}}}),at.View.prototype.mixin=function(e){at.Mixins[e](this)};var lt=at.View.prototype.on;ot.event={name:"_events",configure:function(){var e=this;c(this.constructor,"_events",!0,function(t){e.on.apply(e,t)}),c(this,"events",!1,function(t,n){e.on(n,t,e)})}},_.extend(at.View,{on:function(e,t){return o(this),u(this,e,t)?this:(_.isObject(e)?_.each(e,function(e,t){this.on(t,e)},this):_.isArray(t)?_.each(t,function(t){this._events.push([e,t])},this):this._events.push([e,t]),this)}}),_.extend(at.View.prototype,{on:function(e,t,n){return u(this,e,t,n)?this:(_.isObject(e)&&arguments.length<3?_.each(e,function(e,n){this.on(n,e,t||this)},this):_.each(_.isArray(t)?t:[t],function(t){var i=y.call(this,e,t,n||this);"DOM"!==i.type||this._eventsDelegated?this._addEvent(i):(this._eventsToDelegate||(this._eventsToDelegate=[]),this._eventsToDelegate.push(i))},this),this)},delegateEvents:function(e){this.undelegateEvents(),e&&(_.isFunction(e)&&(e=e.call(this)),this._eventsToDelegate=[],this.on(e)),this._eventsToDelegate&&_.each(this._eventsToDelegate,this._addEvent,this),this._eventsDelegated=!0},_addEvent:function(e){if(e.handler._thoraxBind)return lt.call(this,e.name,e.handler,e.context||this);var t=v.call(this,e.type+"-event:",e);if("view"===e.type)e.context&&e.context!==this&&e.context instanceof at.View?h(e.context,this,e.name,t,e.context):lt.call(this,e.name,t,e.context||this);else{e.nested||(t=g(t,this.cid));var n=e.name+".delegateEvents"+this.cid;e.selector?this.$el.on(n,e.selector,t):this.$el.on(n,t)}}}),at.View.prototype.bind=at.View.prototype.on,at.View.on("ready",function(e){function t(t){t._isReady||t.trigger("ready",e)}this._isReady||(this._isReady=!0,_.each(this.children,t),this.on("child",t))});var ct,ut=/^(nested\s+)?(\S+)(?:\s+(.+))?/,ht=[];m(["mousedown","mouseup","mousemove","mouseover","mouseout","touchstart","touchend","touchmove","click","dblclick","keyup","keydown","keypress","submit","change","focus","blur"]);var dt="data-view-tmp",pt={},ft={_ensureElement:function(){at.View.prototype._ensureElement.apply(this,arguments),this.$el.attr(rt,this._helperName)},_getContext:function(){return this.parent._getContext.apply(this.parent,arguments)}};at.HelperView=at.View.extend(ft),Handlebars.registerViewHelper=function(e,t,n){2===arguments.length&&(t.factory?n=t.callback:(n=t,t=at.HelperView));var i=t.attributeWhiteList;Handlebars.registerHelper(e,function(){var r=_.toArray(arguments),s=r.pop(),a=p(s).view,o=s.hash["expand-tokens"];o&&(delete s.hash["expand-tokens"],_.each(s.hash,function(e,t){s.hash[t]=at.Util.expandToken(e,this)},this));var l={inverse:s.inverse,options:s.hash,declaringView:a,parent:b(a),_helperName:e,_helperOptions:{options:w(s),args:_.clone(r)}};f(s.hash);var c=_.clone(s.hash);i&&_.each(i,function(e,t){delete c[t],_.isUndefined(s.hash[t])||(l[e]=s.hash[t])}),c.tagName&&(l.tagName=c.tagName),l.attributes=function(){var e=t.prototype&&t.prototype.attributes||{};return _.isFunction(e)&&(e=e.apply(this,arguments)),_.extend(e,_.omit(c,["tagName"])),e.className&&(e["class"]=e.className,delete e.className),e},s.fn?l.template=s.fn:t&&t.prototype&&!t.prototype.template&&(l.template=Handlebars.VM.noop);var u=_.find(a._previousHelpers,function(e){return x(l,e)});if(u)a._previousHelpers=_.without(a._previousHelpers,u),a.children[u.cid]=u;else{if(t.factory){if(u=t.factory(r,l),!u)return"";u._helperName=l._helperName,u._helperOptions=l._helperOptions}else u=new t(l);a._previousHelpers=_.without(a._previousHelpers,u),r.push(u),a._addChild(u),a.trigger.apply(a,["helper",e].concat(r)),a.trigger.apply(a,["helper:"+e].concat(r)),n&&n.apply(this,r)}return c[dt]=u.cid,t.modifyHTMLAttributes&&t.modifyHTMLAttributes(c,u),new Handlebars.SafeString(at.Util.tag(c,"",o?this:null))});var r=Handlebars.helpers[e];return r},at.View.on("append",function(e,t){(e||this.$el).find("["+dt+"]").forEach(function(e){var n=e.getAttribute(dt),i=this.children[n];i&&(pt[n]?(i.render(pt[n]),delete pt[n]):i.ensureRendered(),$(e).replaceWith(i.el),t&&t(i.el))},this)}),_.extend(at.View.prototype,{getObjectOptions:function(e){return e&&this._objectOptionsByCid[e.cid]},bindDataObject:function(e,t,n){if(this._boundDataObjectsByCid[t.cid])return!1;this._boundDataObjectsByCid[t.cid]=t;var n=this._modifyDataObjectOptions(t,_.extend({},ot[e].defaultOptions,n));this._objectOptionsByCid[t.cid]=n,C.call(this,e,t,this.constructor),C.call(this,e,t,this);var i=ot[e];return i.bindCallback&&i.bindCallback.call(this,t,n),t.shouldFetch&&t.shouldFetch(n)?T(t,n):ot[e].change&&ot[e].change.call(this,t,n),!0},unbindDataObject:function(e){return this._boundDataObjectsByCid[e.cid]?(delete this._boundDataObjectsByCid[e.cid],this.stopListening(e),delete this._objectOptionsByCid[e.cid],!0):!1},_modifyDataObjectOptions:function(e,t){return t}});var mt="data-model-cid";at.Model=Backbone.Model.extend({isEmpty:function(){return!this.isPopulated()},isPopulated:function(){var e=_.clone(this.attributes),t=a(this,"defaults")||{};for(var n in t){if(e[n]!=t[n])return!0;delete e[n]}var i=_.keys(e);return i.length>1||1===i.length&&i[0]!==this.idAttribute},shouldFetch:function(e){var t;try{t=a(this,"url")}catch(n){t=!1}return e.fetch&&!!t&&!this.isPopulated()}}),at.Models={},n(at.Model,at.Models),k("model",{set:"setModel",defaultOptions:{render:void 0,fetch:!0,success:!1,invalid:!0},change:D,$el:"$el",cidAttrName:mt}),at.View.on({model:{invalid:function(e,t){this.getObjectOptions(e).invalid&&this.trigger("invalid",t,e)},error:function(e,t){this.trigger("error",t,e)},change:function(e,t){ot.model.change.call(this,e,t)}}}),$.fn.model=function(e){var t=$(this),n=t.closest("["+mt+"]"),i=n&&n.attr(mt);if(i){var e=e||t.view();if(e&&e.model&&e.model.cid===i)return e.model||!1;var r=t.collection(e);if(r)return r.get(i)}return!1};var gt=Backbone.Collection.prototype.fetch,vt=Backbone.Collection.prototype.set,yt=at.View.prototype._replaceHTML,bt="data-collection-cid",wt="data-collection-empty",_t="data-collection-element",xt=1;at.Collection=Backbone.Collection.extend({model:at.Model||Backbone.Model,initialize:function(){return this.cid=_.uniqueId("collection"),Backbone.Collection.prototype.initialize.apply(this,arguments)},isEmpty:function(){return this.length>0?!1:0===this.length&&this.isPopulated()},isPopulated:function(){return this._fetched||this.length>0||!this.length&&!a(this,"url")},shouldFetch:function(e){return e.fetch&&!!a(this,"url")&&!this.isPopulated()},fetch:function(e){e=e||{};var t=e.success;return e.success=function(e,n){e._fetched=!0,t&&t(e,n)},gt.apply(this,arguments)},set:function(e,t){return this._fetched=!!e,vt.call(this,e,t)}}),_.extend(at.View.prototype,{getCollectionViews:function(e){return _.filter(this.children,function(t){return t instanceof at.CollectionView?!e||t.collection===e:!1})},updateFilter:function(e){_.invoke(this.getCollectionViews(e),"updateFilter")}}),at.Collections={},n(at.Collection,at.Collections),k("collection",{set:"setCollection",bindCallback:P,defaultOptions:{render:void 0,fetch:!0,success:!1,invalid:!0,change:!0},change:E,$el:"getCollectionElement",cidAttrName:bt}),at.CollectionView=at.View.extend({_defaultTemplate:Handlebars.VM.noop,_collectionSelector:"["+_t+"]",_replaceHTML:function(e){if(!(this.collection&&this.getObjectOptions(this.collection)&&this._renderCount))return yt.call(this,e);var t,n=this.getCollectionElement();t=yt.call(this,e),n.attr("data-view-cid")||this.getCollectionElement().replaceWith(n)},render:function(){var e=this.shouldRender();at.View.prototype.render.apply(this,arguments),e||this.renderCollection()},appendItem:function(e,t,n){if(e){var i,r=this.getCollectionElement();if(n=_.defaults(n||{},{filter:!0}),t&&t.el&&(t=r.children().indexOf(t.el)+1),e.el||_.isString(e)?(i=e,e=!1):(t=t||this.collection.indexOf(e)||0,i=this.renderItem(e,t)),i){i.cid&&(i.ensureRendered(),this._addChild(i)),_.isString(i)&&!i.match(/^\s*</m)&&(i="<div>"+i+"</div>");var s=i.$el||$($.trim(i)).filter(function(){return this.nodeType===xt});e&&s.attr(mt,e.cid);var a=t>0?this.collection.at(t-1):!1;if(a){var o=r.children("["+mt+'="'+a.cid+'"]').last();o.after(s)}else r.prepend(s);this.trigger("append",null,function(t){t.setAttribute(mt,e.cid)}),n.silent||this.trigger("rendered:item",this,this.collection,e,s,t),n.filter&&A.call(this,e)}return i}},updateItem:function(e){var t=this.getCollectionElement(),n=t.find("["+mt+'="'+e.cid+'"]');n.attr(it)||(this.removeItem(n),this.appendItem(e))},removeItem:function(e){var t=e;if(e.cid){var n=this.getCollectionElement();t=n.find("["+mt+'="'+e.cid+'"]')}if(!t.length)return!1;t.remove();var i=t.attr(it),r=this.children[i];return r&&this._removeChild(r),!0},renderCollection:function(){this.collection?(this.collection.isEmpty()?H.call(this):(O.call(this),this.collection.forEach(function(e,t){this.appendItem(e,t)},this)),this.trigger("rendered:collection",this,this.collection)):H.call(this)},emptyClass:"empty",renderEmpty:function(){if(this.emptyView||r.call(this,"emptyView",{extension:"-empty"}),this.emptyTemplate||this.emptyView||s.call(this,"emptyTemplate",{extension:"-empty",required:!1}),this.emptyView){var e={};this.emptyTemplate&&(e.template=this.emptyTemplate);var t=at.Util.getViewInstance(this.emptyView,e);return t.ensureRendered(),t}return this.emptyTemplate&&this.renderTemplate(this.emptyTemplate)},renderItem:function(e,t){if(this.itemView||r.call(this,"itemView",{extension:"-item",required:!1}),this.itemTemplate||this.itemView||s.call(this,"itemTemplate",{extension:"-item",required:!this.itemView}),this.itemView){var n={model:e};return this.itemTemplate&&(n.template=this.itemTemplate),at.Util.getViewInstance(this.itemView,n)}return this.renderTemplate(this.itemTemplate,this.itemContext(e,t))},itemContext:function(e){return e.attributes},appendEmpty:function(){var e=this.getCollectionElement();
e.empty();var t=this.renderEmpty();t&&this.appendItem(t,0,{silent:!0,filter:!1}),this.trigger("rendered:empty",this,this.collection)},getCollectionElement:function(){var e=this.$(this._collectionSelector);return 0===e.length?this.$el:e},updateFilter:function(){M.call(this)}}),at.CollectionView.on({collection:{reset:E,sort:E,change:function(e){var t=this.getObjectOptions(this.collection);t&&t.change&&this.updateItem(e),A.call(this,e)},add:function(e){var t=this.getCollectionElement();if(1===this.collection.length&&t.length&&O.call(this),t.length){var n=this.collection.indexOf(e);this.appendItem(e,n)}},remove:function(e){var t=this.getCollectionElement();this.removeItem(e),0===this.collection.length&&t.length&&H.call(this)}}}),at.View.on({collection:{invalid:function(e,t){this.getObjectOptions(e).invalid&&this.trigger("invalid",t,e)},error:function(e,t){this.trigger("error",t,e)}}}),$.fn.collection=function(e){if(e&&e.collection)return e.collection;var t=$(this),n=t.closest("["+bt+"]"),i=n&&n.attr(bt);return i&&(e=t.view())?e.collection:!1},ot.model.defaultOptions.populate=!0;var kt=ot.model.change;ot.model.change=function(e,t){if(this._isChanging=!0,kt.apply(this,arguments),this._isChanging=!1,!t||!t.serializing){var n=V(this);this._renderCount&&n&&this.populate(!n.context&&this.model.attributes,n)}},_.extend(at.View.prototype,{serialize:function(){for(var e,t,n,i=0;i<arguments.length;++i)_.isFunction(arguments[i])?e=arguments[i]:_.isObject(arguments[i])&&("stopPropagation"in arguments[i]&&"preventDefault"in arguments[i]?n=arguments[i]:t=arguments[i]);if(!n||this._preventDuplicateSubmission(n)){t=_.extend({set:!0,validate:!0,children:!0},t||{});var r=t.attributes||{},s=this,a=[];if(j(this,t,function(e){var n=s._getInputValue(e,t,a);_.isUndefined(n)||F(r,e.name,{mode:"serialize"},function(e,t){e[t]?_.isArray(e[t])?e[t].push(n):e[t]=[e[t],n]:e[t]=n})}),t._silent||this.trigger("serialize",r,t),t.validate){var o=this.validateInput(r);if(o&&o.length&&(a=a.concat(o)),this.trigger("validate",r,a,t),a.length)return void this.trigger("invalid",a)}return t.set&&this.model&&!this.model.set(r,{silent:t.silent,serializing:!0})?!1:(e&&e.call(this,r,_.bind(R,this)),r)}},_preventDuplicateSubmission:function(e,t){e.preventDefault();var n=$(e.target);return"form"!==(e.target.tagName||"").toLowerCase()&&(n=$(e.target).closest("form")),n.attr("data-submit-wait")?!1:(n.attr("data-submit-wait","true"),t&&t.call(this,e),!0)},populate:function(e,t){t=_.extend({children:!0},t||{});var n,e=e||this._getContext();j(this,t,function(t){F(e,t.name,{mode:"populate"},function(e,i){if(n=e&&e[i],!_.isUndefined(n)){var r="checkbox"===t.type||"radio"===t.type;r&&_.isBoolean(n)?t.checked=n:r?t.checked=n==t.value:t.value=n}})}),++this._populateCount,t._silent||this.trigger("populate",e)},validateInput:function(){},_getInputValue:function(e){if("checkbox"!==e.type&&"radio"!==e.type){if(e.multiple===!0){var t=[];return $("option",e).each(function(){this.selected&&t.push(this.value)}),t}return e.value}return e.checked?e.getAttribute("value")||!0:void 0},_populateCount:0}),at.View.on({"before:rendered":function(){if(this._renderCount&&(this.model&&this.model.cid)===this._formModelCid){var e=this.getObjectOptions(this.model);this.previousFormData=L(this.serialize(_.extend({set:!1,validate:!1,_silent:!0},e)),function(e){return""!==e&&null!=e})}},rendered:function(){var e=V(this);!e||this._isChanging||this._populateCount||this.populate(!e.context&&this.model.attributes,e),this.previousFormData&&this.populate(this.previousFormData,_.extend({_silent:!0},e)),this._formModelCid=this.model&&this.model.cid,this.previousFormData=null}}),at.View.on({invalid:I,error:I,deactivated:function(){this.$el&&R.call(this)}});var Ct="data-layout-cid";at.LayoutView=at.View.extend({_defaultTemplate:Handlebars.VM.noop,render:function(){var e=at.View.prototype.render.apply(this,arguments);return this.template===Handlebars.VM.noop?Y.call(this):B.call(this),e},setView:function(e,t){t=_.extend({scroll:!0},t||{}),_.isString(e)&&(e=new(at.Util.registryGet(at,"Views",e,!1))),this.ensureRendered();var n,i,r,s=this._view;return e===s?!1:(this.trigger("change:view:start",e,s,t),i=_.bind(function(){s&&(s.$el&&s.$el.remove(),U.call(s,"deactivated",t),this._removeChild(s))},this),n=_.bind(function(){if(e){e.ensureRendered(),U.call(this,"activated",t),e.trigger("activated",t),this._view=e;var n=q.call(this);this._view.appendTo(n),this._addChild(e)}else this._view=void 0},this),r=_.bind(function(){this.trigger("change:view:end",e,s,t)},this),t.transition?t.transition(e,s,n,i,r):(i(),n(),r()),e)},getView:function(){return this._view}}),Handlebars.registerHelper("layout-element",function(e){var n=p(e).view;if(!n.getView)throw new Error(t("layout-element-helper"));return e.hash[Ct]=n.cid,f(e.hash),new Handlebars.SafeString(at.Util.tag.call(this,e.hash,"",this))}),at.CollectionHelperView=at.CollectionView.extend({events:{"rendered:item":W("rendered:item"),"rendered:collection":W("rendered:collection"),"rendered:empty":W("rendered:empty")},getCollectionElement:function(){return this.$el},constructor:function(e){e.options["item-template"]&&(e.itemTemplate=at.Util.getTemplate(e.options["item-template"])),e.options["empty-template"]&&(e.emptyTemplate=at.Util.getTemplate(e.options["empty-template"])),!e.itemTemplate&&e.template&&e.template!==Handlebars.VM.noop&&(e.itemTemplate=e.template,e.template=Handlebars.VM.noop),!e.emptyTemplate&&e.inverse&&e.inverse!==Handlebars.VM.noop&&(e.emptyTemplate=e.inverse,e.inverse=Handlebars.VM.noop);var t=_.isFunction(e.itemContext),n=_.isFunction(e.itemFilter),i=at.HelperView.call(this,e);return t?this.itemContext=_.bind(this.itemContext,this.parent):_.isString(this.itemContext)&&(this.itemContext=_.bind(this.parent[this.itemContext],this.parent)),n?this.itemFilter=_.bind(this.itemFilter,this.parent):_.isString(this.itemFilter)&&(this.itemFilter=_.bind(this.parent[this.itemFilter],this.parent)),this.parent.name&&(this.emptyView||this.parent.renderEmpty||(this.emptyView=at.Util.getViewClass(this.parent.name+"-empty",!0)),this.emptyTemplate||this.parent.renderEmpty||(this.emptyTemplate=at.Util.getTemplate(this.parent.name+"-empty",!0)),this.itemView||this.parent.renderItem||(this.itemView=at.Util.getViewClass(this.parent.name+"-item",!0)),this.itemTemplate||this.parent.renderItem||(this.itemTemplate=at.Util.getTemplate(this.parent.name+"-item",!!this.itemView))),i},setAsPrimaryCollectionHelper:function(){_.each(Tt,function(e){z.call(this,e)},this);var e=this;_.each(["itemFilter","itemContext","renderItem","renderEmpty"],function(t){e.parent[t]&&(e[t]=function(){return e.parent[t].apply(e.parent,arguments)})})}}),_.extend(at.CollectionHelperView.prototype,ft),at.CollectionHelperView.attributeWhiteList={"item-context":"itemContext","item-filter":"itemFilter","item-template":"itemTemplate","empty-template":"emptyTemplate","item-view":"itemView","empty-view":"emptyView","empty-class":"emptyClass"};var Tt=["itemTemplate","itemView","emptyTemplate","emptyView"];Handlebars.registerViewHelper("collection",at.CollectionHelperView,function(e,t){1===arguments.length&&(t=e,e=t.parent.collection,e&&t.setAsPrimaryCollectionHelper(),t.$el.attr(_t,"true"),t.listenTo(t.parent,"change:data-object",function(e,n){"collection"===e&&(t.setAsPrimaryCollectionHelper(),t.setCollection(n))})),e&&t.setCollection(e)}),Handlebars.registerHelper("collection-element",function(e){if(!p(e).view.renderCollection)throw new Error(t("collection-element-helper"));var n=e.hash;return f(n),n.tagName=n.tagName||"div",n[_t]=!0,new Handlebars.SafeString(at.Util.tag.call(this,n,"",this))}),Handlebars.registerHelper("empty",function(e,t){1===arguments.length&&(t=e);var n=p(t).view;return 1===arguments.length&&(e=n.model),n._emptyListeners||(n._emptyListeners={}),e&&!n._emptyListeners[e.cid]&&e.models&&"length"in e&&(n._emptyListeners[e.cid]=!0,n.listenTo(e,"remove",function(){0===e.length&&n.render()}),n.listenTo(e,"add",function(){1===e.length&&n.render()}),n.listenTo(e,"reset",function(){n.render()})),!e||e.isEmpty()?t.fn(this):t.inverse(this)}),Handlebars.registerHelper("template",function(e,t){var n=_.extend({fn:t&&t.fn},this,t?t.hash:{}),i=p(t).view.renderTemplate(e,n);return new Handlebars.SafeString(i)}),Handlebars.registerHelper("yield",function(e){return p(e).yield&&e.data.yield()}),Handlebars.registerHelper("url",function(e){var t;if(arguments.length>2)t=_.map(_.head(arguments,arguments.length-1),encodeURIComponent).join("/");else{var n=arguments[1],i=n&&n.hash||n;t=i&&i["expand-tokens"]?at.Util.expandToken(e,this):e}if(Backbone.history._hasPushState){var r=Backbone.history.options.root;return"/"===r&&"/"===t.substr(0,1)?t:r+t}return"#"+t}),Handlebars.registerViewHelper("view",{factory:function(e,t){var n=e.length>=1?e[0]:at.View;return at.Util.getViewInstance(n,t.options)},modifyHTMLAttributes:function(e,t){e.tagName=t.el.tagName.toLowerCase()},callback:function(e){var n=arguments[arguments.length-1],i=n._helperOptions.options,r=n.cid;if(!_.isString(e)&&i.hash&&_.keys(i.hash).length>0)throw new Error(t("view-helper-hash-args"));i.fn&&(pt[r]=i.fn)}});var St="data-call-method",Dt="data-trigger-event";Handlebars.registerHelper("button",function(e,n){1===arguments.length&&(n=e,e=n.hash.method);var i=n.hash,r=i["expand-tokens"];if(delete i["expand-tokens"],!e&&!n.hash.trigger)throw new Error(t("button-trigger"));return f(i),i.tagName=i.tagName||"button",i.trigger&&(i[Dt]=i.trigger),delete i.trigger,e&&(i[St]=e),new Handlebars.SafeString(at.Util.tag(i,n.fn?n.fn(this):"",r?this:null))}),Handlebars.registerHelper("link",function(){var e=_.toArray(arguments),n=e.pop(),i=n.hash,r=0===e.length?[i.href]:e,s=i["expand-tokens"];if(delete i["expand-tokens"],!r[0]&&""!==r[0])throw new Error(t("link-href"));return f(i),r.push(n),i.href=Handlebars.helpers.url.apply(this,r),i.tagName=i.tagName||"a",i.trigger&&(i[Dt]=n.hash.trigger),delete i.trigger,i[St]="_anchorClick",new Handlebars.SafeString(at.Util.tag(i,n.fn?n.fn(this):"",s?this:null))});var Et,Pt="["+St+"], ["+Dt+"]";$(document).ready(function(){at._fastClickEventName||X()});var Mt="data-element-tmp";Handlebars.registerHelper("element",function(e,t){f(t.hash);var n=_.uniqueId("element"),i=p(t).view;return t.hash[Mt]=n,i._elementsByCid||(i._elementsByCid={}),i._elementsByCid[n]=e,new Handlebars.SafeString(at.Util.tag(t.hash))}),at.View.on("append",function(e,t){(e||this.$el).find("["+Mt+"]").forEach(function(e){var n=$(e),i=n.attr(Mt),r=this._elementsByCid[i];_.isFunction(r)&&(r=r.call(this)),n.replaceWith(r),t&&t(r)},this)}),Handlebars.registerHelper("super",function(e){var n=p(e).view,i=n.constructor&&n.constructor.__super__;if(i){var r=i.template;if(!r){if(!i.name)throw new Error(t("super-parent"));r=i.name}return _.isString(r)&&(r=at.Util.getTemplate(r,!1)),new Handlebars.SafeString(r(this,e))}return""});var At,Nt="load:start",Ot="load:end";at.setRootObject=function(e){At=e},at.loadHandler=function(e,t,n){var i=_.uniqueId("load");return function(r,s,a){function o(){if(!c.timeout||c.run){var t=void 0!==l._loadingTimeoutDuration?l._loadingTimeoutDuration:at.View.prototype._loadingTimeoutDuration;c.timeout=setTimeout(function(){try{c.events.length&&(c.run=!0,e.call(l,c.message,c.background,c))}catch(t){at.onException("loadStart",t)}},1e3*t)}}var l=n||this;l._loadInfo=l._loadInfo||{};var c=l._loadInfo[i];c?(clearTimeout(c.endTimeout),c.message=r,!s&&c.background&&(c.background=!1,o())):(c=l._loadInfo[i]=_.extend({isLoading:function(){return c.events.length},cid:i,events:[],timeout:0,message:r,background:!!s},Backbone.Events),o()),_.indexOf(c.events,a)>=0||(c.events.push(a),a.on(Ot,function u(){var e=l._loadingTimeoutEndDuration;void 0===e&&(e=at.View.prototype._loadingTimeoutEndDuration);var n=c.events,r=_.indexOf(n,a);r>=0&&!a.isLoading()&&(n.splice(r,1),_.indexOf(n,a)<0&&a.off(Ot,u)),n.length||(clearTimeout(c.endTimeout),c.endTimeout=setTimeout(function(){try{n.length||(c.run&&(t&&t.call(l,c.background,c),c.trigger(Ot,c)),clearTimeout(c.timeout),c=l._loadInfo[i]=void 0)}catch(e){at.onException("loadEnd",e)}},1e3*e))}))}},at.forwardLoadEvents=function(e,t,n){function i(r,s,a){n&&e.off(Nt,i),t.trigger(Nt,r,s,a)}return e.on(Nt,i),{off:function(){e.off(Nt,i)}}},at.mixinLoadable=function(e,t){_.extend(e,{_loadingClassName:"loading",_loadingTimeoutDuration:.33,_loadingTimeoutEndDuration:.1,onLoadStart:function(e,n,i){var r=t?this.parent:this;r&&r.el&&(r.nonBlockingLoad||n||!At||At===this||At.trigger(Nt,e,n,i),r._isLoading=!0,$(r.el).addClass(r._loadingClassName),r.trigger("change:load-state","start",n))},onLoadEnd:function(){var e=t?this.parent:this;e&&e.el&&(e._isLoading=!1,$(e.el).removeClass(e._loadingClassName),e.trigger("change:load-state","end"))}})},at.mixinLoadableEvents=function(e,t){_.extend(e,{_loadCount:0,isLoading:function(){return this._loadCount>0},loadStart:function(e,n){this._loadCount++;var i=t?this.parent:this;i.trigger(Nt,e,n,i)},loadEnd:function(){this._loadCount--;var e=t?this.parent:this;e.trigger(Ot,e)}})},at.mixinLoadable(at.View.prototype),at.mixinLoadableEvents(at.View.prototype),at.HelperView&&(at.mixinLoadable(at.HelperView.prototype,!0),at.mixinLoadableEvents(at.HelperView.prototype,!0)),at.CollectionHelperView&&(at.mixinLoadable(at.CollectionHelperView.prototype,!0),at.mixinLoadableEvents(at.CollectionHelperView.prototype,!0)),at.sync=function(e,t,n){var i=this,r=n.complete;return n.complete=function(){i._request=void 0,i._aborted=!1,r&&r.apply(this,arguments)},this._request=Backbone.sync.apply(this,arguments),this._request};var Ht=[];at.Model&&Ht.push(at.Model),at.Collection&&Ht.push(at.Collection),_.each(Ht,function(e){var t=e.prototype.fetch;at.mixinLoadableEvents(e.prototype,!1),_.extend(e.prototype,{sync:at.sync,fetch:function(n){function i(e){var t=n[e];n[e]=function(){r.loadEnd(),t&&t.apply(this,arguments)}}if(n=n||{},e===at.Collection&&(_.find(["reset","remove","add","update"],function(e){return!_.isUndefined(n[e])})||(n.reset=!0)),!n.loadTriggered){var r=this;i("success"),i("error"),r.loadStart(void 0,n.background)}return K.call(this,n||{},t)},load:function(e,t,n){2!==arguments.length||_.isFunction(t)||(n=t,t=!1),n=n||{},n.background||this.isPopulated()||!At||(this.isLoading()?At.trigger(Nt,n.message,n.background,this):at.forwardLoadEvents(this,At,!0)),Z.call(this,e,t,n)}})}),at.Util.bindToRoute=Q,at.View.prototype._modifyDataObjectOptions=function(e,t){return t.ignoreErrors=this.ignoreFetchError,t.background=this.nonBlockingLoad,t},at.HelperView.prototype._modifyDataObjectOptions=at.CollectionHelperView.prototype._modifyDataObjectOptions=function(e,t){return t.ignoreErrors=this.parent.ignoreFetchError,t.background=this.parent.nonBlockingLoad,t},ot.collection.loading=function(){var e=this.loadingView,t=this.loadingTemplate,n=this.loadingPlacement;if(e||t){var i=at.loadHandler(_.bind(function(){var i;if(0===this.collection.length&&this.$el.empty(),e){var r=at.Util.getViewInstance(e);this._addChild(r),t?r.render(t):r.render(),i=r}else i=this.renderTemplate(t);var s=n?n.call(this):this.collection.length;this.appendItem(i,s),this.$el.children().eq(s).attr("data-loading-element",this.collection.cid)},this),_.bind(function(){this.$el.find('[data-loading-element="'+this.collection.cid+'"]').remove()},this),this.collection);this.listenTo(this.collection,"load:start",i)}},at.CollectionHelperView&&_.extend(at.CollectionHelperView.attributeWhiteList,{"loading-template":"loadingTemplate","loading-view":"loadingView","loading-placement":"loadingPlacement"}),at.View.on({"load:start":at.loadHandler(function(e,t,n){this.onLoadStart(e,t,n)},function(e,t){this.onLoadEnd(t)}),collection:{"load:start":function(e,t,n){this.trigger(Nt,e,t,n)}},model:{"load:start":function(e,t,n){this.trigger(Nt,e,t,n)}}}),Handlebars.registerHelper("loading",function(e){var t=p(e).view;return t.off("change:load-state",tt,t),t.on("change:load-state",tt,t),t._isLoading?e.fn(this):e.inverse(this)});var Lt=/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());Lt&&(at.View.on("before:append",function(){this._renderCount>0&&(_.each(this._elementsByCid,function(e){$(e).detach()}),_.each(this.children,function(e){e.$el.detach()}))}),at.CollectionView.prototype._replaceHTML=function(e){if(!this.getObjectOptions(this.collection)||!this._renderCount)return yt.call(this,e);var t,n=this.getCollectionElement().clone(!0,!0);t=yt.call(this,e),n.attr("data-view-cid")||this.getCollectionElement().replaceWith(n)})}(),define("thorax",["handlebars","backbone"],function(e){return function(){var t;return t||e.Thorax}}(this)),define("anim-view",["underscore","thorax"],function(e,t){return AnimView=window.AnimView=t.View.extend({template:null,wasRendered:!1,render:function(n){return console.log("Rendering "+this.getViewName()+" ID "+this.cid+" - render inherited from base class(AnimView)"),n=n||{},n.page===!0&&this.$el.addClass("page"),e.isFunction(this.beforeRender)&&this.beforeRender(),console.debug("*!*!*! Thorax.View rendering taking over!*!* for view "+this.name),t.View.prototype.render.apply(this,arguments),console.debug("Finshed"),e.isFunction(this.afterRender)&&this.afterRender(),this.wasRendered||(this.wasRendered=!0),this},conservativeRender:function(){return e.isFunction(this.beforeRender)&&this.beforeRender(),e.isFunction(this.afterRender)&&this.afterRender(),this},transitionIn:function(t,n){var i=this,r=t.toggleIn||"",s=function(){i.$el.toggleClass(r).show().addClass(i.animateIn+" animated"),i.$el.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd animationend",function(){i.$el.removeClass(i.animateIn+" animated"),e.isFunction(n)&&(n(),console.debug("Callback triggered on event transitionend for TransitionIn"))})};e.delay(s,0)},transitionOut:function(t,n){var i=this,r=t.toggleOut||"";i.$el.toggleClass(r).addClass(i.animateOut+" animated"),i.$el.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd animationend",function(){i.$el.removeClass(i.animateOut+" animated").hide(),e.isFunction(n)&&(n(),console.debug("Callback triggered on event transitionend for TransitionOut"),console.debug("---------------------------"))})},hasRendered:function(){return this.wasRendered},getViewName:function(){return this.name},getModuleName:function(){return this.name.split("/").shift()},getFileName:function(){return this.name.split("/").pop()+".js"},getFullPath:function(){return"/js/views/"+this.name+".js"},onRemove:function(){e.isFunction(this.onClose)&&this.onClose(),e.isFunction(this.remove)&&(t.View.prototype.remove.apply(this,arguments),this.model&&this.model.unbind(),this.collection&&this.collection.unbind(),this.remove())},triggerLifecycleEvent:function(t,n){n=n||{},n.target=this,this.trigger(t,n),e.each(this.children,function(e){e.trigger(t,n)})}})}),define("hbs",["handlebars"],function(e){var t={},n=".hbs";return{load:function(i,r,s,a){var o=a.hbs&&a.hbs.templateExtension?a.hbs.templateExtension:n;if(a.isBuild){var l=nodeRequire("fs"),c=a.dirBaseUrl+"/"+i+o;t[i]=l.readFileSync(c).toString(),s()}else r(["text!"+i+o],function(t){s(e.compile(t))})},write:function(n,i,r){var s=e.precompile(t[i]);r("define('hbs!"+i+"', ['handlebars'], function(Handlebars){ \nreturn Handlebars.template("+s.toString()+");\n});\n")}}}),define("hbs!templates/root",["handlebars"],function(e){return e.template(function(e,t,n,i,r){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{},'<aside id="settings"></aside> \n\n<div id="home"></div>\n\n<div id="map"></div>'})}),define("views/root",["underscore","anim-view","hbs!templates/root"],function(e,t,n){var i,r=t.extend({el:"body",template:n,"goto":function(t,n){var n=n||{},i=this.currentPage||null,r=t;remove=e.bind(function(){i&&(console.debug("RootView.goto.remove() was triggered w/ context view"),console.debug(this.name+" is removing: "+i.name),i.$el&&i.$el.remove(),i.triggerLifecycleEvent("deactivated",n),this._removeChild(i))},this),n.page===!0?(i&&i.transitionOut(n,function(){"home"==i.getViewName()||1==i.$el.data("view-persist")?(console.debug("Previous view "+i.getViewName()+"'s data-view-persist is true - not removing!"),e.isFunction(i.beforeNextViewLoads)&&i.beforeNextViewLoads()):(e.isFunction(i.beforeRemove)&&i.beforeRemove(),remove(),e.isFunction(i.afterRemove)&&i.afterRemove())}),r.hasRendered()?r.conservativeRender():(r.render({page:!0}),this.$el.append(r.$el)),r.transitionIn(n)):(i&&("home/home"==i.$el.data("view-name")||1==i.$el.data("view-persist")?e.isFunction(i.beforeNextViewLoads)&&i.beforeNextViewLoads():(e.isFunction(i.beforeRemove)&&i.beforeRemove(),remove(),e.isFunction(i.afterRemove)&&i.afterRemove())),r.render({page:!0}),this.$el.append(r.$el)),this.currentPage=r}});return r.getInstance=function(e){return i||(i=window.Application=new r({name:"root",el:"body"}),i.appendTo(e||document.body)),i},r}),function(e){function t(e){for(var t in e)if(void 0!==c[e[t]])return!0;return!1}function n(e,t){return/touch/.test(e.type)?(e.originalEvent||e).changedTouches[0]["page"+t]:e["page"+t]}function i(t,n,i){var r=t;return"object"==typeof n?t.each(function(){this.id||(this.id="mobiscroll"+ ++s),o[this.id]&&o[this.id].destroy(),new e.mobiscroll.classes[n.component||"Scroller"](this,n)}):("string"==typeof n&&t.each(function(){var e;return(e=o[this.id])&&e[n]&&(e=e[n].apply(this,Array.prototype.slice.call(i,1)),void 0!==e)?(r=e,!1):void 0}),r)}function r(e){if("touchstart"==e.type)a[e.target]=!0;else if(a[e.target])return delete a[e.target],!1;return!0}var s=+new Date,a={},o={},l=e.extend,c=document.createElement("modernizr").style,u=t(["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"]),h=t(["flex","msFlex","WebkitBoxDirection"]),d=function(){var e,n=["Webkit","Moz","O","ms"];for(e in n)if(t([n[e]+"Transform"]))return"-"+n[e].toLowerCase()+"-";return""}(),p=d.replace(/^\-/,"").replace(/\-$/,"").replace("moz","Moz");e.fn.mobiscroll=function(t){return l(this,e.mobiscroll.components),i(this,t,arguments)},e.mobiscroll=e.mobiscroll||{util:{prefix:d,jsPrefix:p,has3d:u,hasFlex:h,getCoord:n,testTouch:r},presets:{},themes:{},i18n:{},instances:o,classes:{},components:{},defaults:{},userdef:{},setDefaults:function(e){l(this.userdef,e)},presetShort:function(e,t){this.components[e]=function(n){return i(this,l(n,{component:t,preset:e}),arguments)}}},e.scroller=e.scroller||e.mobiscroll,e.fn.scroller=e.fn.scroller||e.fn.mobiscroll}(jQuery),function(e){function t(){a=!0,setTimeout(function(){a=!1},300)}function n(e,t,n){return Math.max(t,Math.min(e,n))}function i(t){var n={values:[],keys:[]};return e.each(t,function(e,t){n.keys.push(e),n.values.push(t)}),n}e.mobiscroll.classes.Scroller=function(u,f){function m(t){!testTouch(t)||s||et||kt||C(this)||(t.preventDefault(),s=!0,nt="clickpick"!=Dt.mode,ut=e(".dw-ul",this),S(ut),ot=(it=void 0!==Pt[ht])?P(ut):Mt[ht],rt=getCoord(t,"Y"),st=new Date,at=rt,A(ut,ht,ot,.001),nt&&ut.closest(".dwwl").addClass("dwa"),"mousedown"!==t.type)||e(document).on("mousemove",g).on("mouseup",v)}function g(e){nt&&(e.preventDefault(),e.stopPropagation(),at=getCoord(e,"Y"),A(ut,ht,n(ot+(rt-at)/ft,lt-1,ct+1))),rt!==at&&(it=!0)}function v(t){var i,r=new Date-st,a=n(ot+(rt-at)/ft,lt-1,ct+1),o=ut.offset().top;if(d&&300>r?(r=(at-rt)/r,i=r*r/Dt.speedUnit,0>at-rt&&(i=-i)):i=at-rt,r=Math.round(ot-i/ft),!i&&!it){var o=Math.floor((at-o)/ft),l=e(e(".dw-li",ut)[o]);i=nt,!1!==H("onValueTap",[l])?r=o:i=!0,i&&(l.addClass("dw-hl"),setTimeout(function(){l.removeClass("dw-hl")},200))}nt&&L(ut,r,0,!0,Math.round(a)),"mouseup"===t.type&&e(document).off("mousemove",g).off("mouseup",v),s=!1,ut=null}function y(t){kt&&kt.removeClass("dwb-a"),kt=e(this),!kt.hasClass("dwb-d")&&!kt.hasClass("dwb-nhl")&&kt.addClass("dwb-a"),kt.hasClass("dwwb")&&testTouch(t)&&k(t,kt.closest(".dwwl"),kt.hasClass("dwwbp")?I:j),"mousedown"===t.type&&e(document).on("mouseup",b)}function b(t){et&&(clearInterval(gt),et=!1),kt&&(kt.removeClass("dwb-a"),kt=null),"mouseup"===t.type&&e(document).off("mousedown",b)}function w(t){38==t.keyCode?k(t,e(this),j):40==t.keyCode&&k(t,e(this),I)}function _(){et&&(clearInterval(gt),et=!1)}function x(t){if(!C(this)){t.preventDefault();var t=t.originalEvent||t,t=t.wheelDelta?t.wheelDelta/120:t.detail?-t.detail/3:0,n=e(".dw-ul",this);S(n),L(n,Math.round(Mt[ht]-t),0>t?1:2)}}function k(e,t,n){if(e.stopPropagation(),e.preventDefault(),!et&&!C(t)&&!t.hasClass("dwa")){et=!0;var i=t.find(".dw-ul");S(i),clearInterval(gt),gt=setInterval(function(){n(i)},Dt.delay),n(i)}}function C(t){return e.isArray(Dt.readonly)?(t=e(".dwwl",Y).index(t),Dt.readonly[t]):Dt.readonly}function T(t){var n='<div class="dw-bf">',t=Nt[t],t=t.values?t:i(t),r=1,s=t.labels||[],a=t.values,o=t.keys||a;return e.each(a,function(e,t){0==r%20&&(n+='</div><div class="dw-bf">'),n+='<div role="option" aria-selected="false" class="dw-li dw-v" data-val="'+o[e]+'"'+(s[e]?' aria-label="'+s[e]+'"':"")+' style="height:'+ft+"px;line-height:"+ft+'px;"><div class="dw-i"'+(mt>1?' style="line-height:'+Math.round(ft/mt)+"px;font-size:"+Math.round(.8*(ft/mt))+'px;"':"")+">"+t+"</div></div>",r++}),n+="</div>"}function S(t){lt=e(".dw-li",t).index(e(".dw-v",t).eq(0)),ct=e(".dw-li",t).index(e(".dw-v",t).eq(-1)),ht=e(".dw-ul",Y).index(t)}function D(e){var t=Dt.headerText;return t?"function"==typeof t?t.call(Tt,e):t.replace(/\{value\}/i,e):""}function E(){Ct.temp=Ct.values?Ct.values.slice(0):Dt.parseValue(St.val()||"",Ct),F()}function P(t){var n,i=window.getComputedStyle?getComputedStyle(t[0]):t[0].style;return d?(e.each(["t","webkitT","MozT","OT","msT"],function(e,t){return void 0!==i[t+"ransform"]?(n=i[t+"ransform"],!1):void 0}),n=n.split(")")[0].split(", "),t=n[13]||n[5]):t=i.top.replace("px",""),Math.round(U-t/ft)}function M(e,t){clearTimeout(Pt[t]),delete Pt[t],e.closest(".dwwl").removeClass("dwa")}function A(e,t,n,i,r){var s=(U-n)*ft,a=e[0].style;s==At[t]&&Pt[t]||(i&&s!=At[t]&&H("onAnimStart",[Y,t,i]),At[t]=s,a[h+"Transition"]="all "+(i?i.toFixed(3):0)+"s ease-out",d?a[h+"Transform"]="translate3d(0,"+s+"px,0)":a.top=s+"px",Pt[t]&&M(e,t),i&&r&&(e.closest(".dwwl").addClass("dwa"),Pt[t]=setTimeout(function(){M(e,t)},1e3*i)),Mt[t]=n)}function N(t,n,i){var t=e('.dw-li[data-val="'+t+'"]',n),n=e(".dw-li",n),r=n.index(t),s=n.length;if(!t.hasClass("dw-v")){for(var a=t,o=0,l=0;r-o>=0&&!a.hasClass("dw-v");)o++,a=n.eq(r-o);for(;s>r+l&&!t.hasClass("dw-v");)l++,t=n.eq(r+l);(o>l&&l&&2!==i||!o||0>r-o||1==i)&&t.hasClass("dw-v")?r+=l:(t=a,r-=o)}return{cell:t,v:r,val:t.hasClass("dw-v")?t.attr("data-val"):null}}function O(t,n,i,r,s){!1!==H("validate",[Y,n,t,r])&&(e(".dw-ul",Y).each(function(i){var a=e(this),o=i==n||void 0===n,l=N(Ct.temp[i],a,r),c=l.cell;(!c.hasClass("dw-sel")||o)&&(Ct.temp[i]=l.val,Dt.multiple||(e(".dw-sel",a).removeAttr("aria-selected"),c.attr("aria-selected","true")),e(".dw-sel",a).removeClass("dw-sel"),c.addClass("dw-sel"),A(a,i,l.v,o?t:.1,o?s:!1))}),$=Dt.formatResult(Ct.temp),Ct.live&&F(i,i,0,!0),e(".dwv",Y).html(D($)),i&&H("onChange",[$]))}function H(t,n){var i;return n.push(Ct),e.each([userdef,Z,Et,f],function(e,r){r&&r[t]&&(i=r[t].apply(Tt,n))}),i}function L(t,i,r,s,a){var i=n(i,lt,ct),o=e(".dw-li",t).eq(i),l=void 0===a?i:a,c=void 0!==a,u=ht,h=s?i==l?.1:Math.abs((i-l)*Dt.timeUnit):0;Ct.temp[u]=o.attr("data-val"),A(t,u,i,h,c),setTimeout(function(){O(h,u,!0,r,c)},10)}function I(e){var t=Mt[ht]+1;L(e,t>ct?lt:t,1,!0)}function j(e){var t=Mt[ht]-1;L(e,lt>t?ct:t,2,!0)}function F(e,t,n,i,r){Lt&&!i&&O(n),$=Dt.formatResult(Ct.temp),r||(Ct.values=Ct.temp.slice(0),Ct.val=$),e&&(H("onValueFill",[$,t]),Ht&&(St.val($),t&&(yt=!0,St.change())))}function R(e){Y.remove(),r&&!e&&setTimeout(function(){o=!0,r.focus()},200),Lt=!1}function V(e,t){var n;wt.on(e,function(){clearTimeout(n),n=setTimeout(function(){(J&&t||!t)&&Ct.position(!t)},200)})}var U,$,Y,B,q,W,z,G,X,J,Q,Z,K,et,tt,nt,it,rt,st,at,ot,lt,ct,ut,ht,dt,pt,ft,mt,gt,vt,yt,bt,wt,_t,xt,kt,Ct=this,Tt=u,St=e(Tt),Dt=extend({},defaults,userdef),Et={},Pt={},Mt={},At={},Nt=[],Ot=[],Ht=St.is("input"),Lt=!1;Ct.position=function(t){var i=B.width(),r=wt[0].innerHeight||wt.innerHeight();if((W!==i||z!==r||!t)&&!bt&&!1!==H("onPosition",[Y,i,r])&&pt){var s,a,o,l,c,u,h,d,p,f=0,m=0,t=wt.scrollLeft(),g=wt.scrollTop();l=e(".dwwr",Y);var v=e(".dw",Y),y={};c=void 0===Dt.anchor?St:Dt.anchor,/modal|bubble/.test(Dt.display)&&(l.width(""),e(".dwc",Y).each(function(){s=e(this).outerWidth(!0),f+=s,m=s>m?s:m}),s=f>i?m:f,l.width(s).css("white-space",f>i?"":"nowrap")),G=v.outerWidth(),X=v.outerHeight(!0),J=r>=X&&i>=G,Ct.scrollLock=J,"modal"==Dt.display?(a=Math.max(0,(i-G)/2),o=g+(r-X)/2):"bubble"==Dt.display?(p=!0,d=e(".dw-arrw-i",Y),o=c.offset(),u=Math.abs(e(Dt.context).offset().top-o.top),h=Math.abs(e(Dt.context).offset().left-o.left),l=c.outerWidth(),c=c.outerHeight(),a=n(h-(v.outerWidth(!0)-l)/2-t,3,i-G-3),o=u-X,g>o||u>g+r?(v.removeClass("dw-bubble-top").addClass("dw-bubble-bottom"),o=u+c):v.removeClass("dw-bubble-bottom").addClass("dw-bubble-top"),d=d.outerWidth(),l=n(h+l/2-(a+(G-d)/2)-t,0,d),e(".dw-arr",Y).css({left:l})):"top"==Dt.display?o=g:"bottom"==Dt.display&&(o=g+r-X),y.top=0>o?0:o,y.left=a,v.css(y),B.height(0),a=Math.max(o+X,"body"==Dt.context?e(document).height():_t.scrollHeight),B.css({height:a,left:t}),p&&(o+X>g+r||u>g+r)&&(bt=!0,setTimeout(function(){bt=!1},300),wt.scrollTop(Math.min(o+X-r,a-r)))}W=i,z=r},Ct.enable=function(){Dt.disabled=!1,Ht&&St.prop("disabled",!1)},Ct.disable=function(){Dt.disabled=!0,Ht&&St.prop("disabled",!0)},Ct.setValue=function(t,n,i,r,s){Ct.temp=e.isArray(t)?t.slice(0):Dt.parseValue.call(Tt,t+"",Ct),F(n,void 0===s?n:s,i,!1,r)},Ct.getValue=function(){return Ct.values},Ct.getValues=function(){var e,t=[];for(e in Ct._selectedValues)t.push(Ct._selectedValues[e]);return t},Ct.changeWheel=function(t,n,i){if(Y){var r=0,s=t.length;e.each(Dt.wheels,function(a,o){return e.each(o,function(a,o){return-1<e.inArray(r,t)&&(Nt[r]=o,e(".dw-ul",Y).eq(r).html(T(r)),s--,!s)?(Ct.position(),O(n,void 0,i),!1):void r++}),s?void 0:!1})}},Ct.isVisible=function(){return Lt},Ct.tap=function(e,n,i){var r,s;Dt.tap&&e.on("touchstart.dw",function(e){i&&e.preventDefault(),r=getCoord(e,"X"),s=getCoord(e,"Y")}).on("touchend.dw",function(e){20>Math.abs(getCoord(e,"X")-r)&&20>Math.abs(getCoord(e,"Y")-s)&&(e.preventDefault(),setTimeout(function(){n.call(this,e)},isOldAndroid?400:10)),t()}),e.on("click.dw",function(e){a||n.call(this,e),e.preventDefault()})},Ct.show=function(t){var n,i,r=0,s="";Dt.disabled||Lt||(!1!==Q&&("top"==Dt.display&&(Q="slidedown"),"bottom"==Dt.display&&(Q="slideup")),E(),H("onBeforeShow",[]),pt&&Q&&!t&&(s="dw-"+Q+" dw-in"),i="<div"+(pt?' tabindex="0"':"")+' role="dialog" class="dw-w '+Dt.theme+" dw-"+Dt.display+(dt?" dw-liq":"")+(mt>1?" dw-ml":"")+(tt?"":" dw-nobtn")+'"><div class="dw-persp">'+(pt?'<div class="dwo"></div>':"")+'<div class="dw dwbg '+s+'">'+("bubble"===Dt.display?'<div class="dw-arrw"><div class="dw-arrw-i"><div class="dw-arr"></div></div></div>':"")+'<div class="dwwr"><div aria-live="assertive" class="dwv'+(Dt.headerText?"":" dw-hidden")+'"></div><div class="dwcc">',e.each(Dt.wheels,function(t,s){i+='<div class="dwc'+("scroller"!=Dt.mode?" dwpm":" dwsc")+(Dt.showLabel?"":" dwhl")+'"><div class="dwwc"'+(Dt.maxWidth?"":' style="max-width:600px;"')+">"+(p?"":'<table class="dw-tbl" cellpadding="0" cellspacing="0"><tr>'),e.each(s,function(e,t){Nt[r]=t,n=void 0!==t.label?t.label:e,i+="<"+(p?"div":"td")+' class="dwfl" style="'+(Dt.fixedWidth?"width:"+(Dt.fixedWidth[r]||Dt.fixedWidth)+"px;":(Dt.minWidth?"min-width:"+(Dt.minWidth[r]||Dt.minWidth)+"px;":"min-width:"+Dt.width+"px;")+(Dt.maxWidth?"max-width:"+(Dt.maxWidth[r]||Dt.maxWidth)+"px;":""))+'"><div class="dwwl dwwl'+r+'">'+("scroller"!=Dt.mode?'<a href="#" tabindex="-1" class="dwb-e dwwb dwwbp" style="height:'+ft+"px;line-height:"+ft+'px;"><span>+</span></a><a href="#" tabindex="-1" class="dwb-e dwwb dwwbm" style="height:'+ft+"px;line-height:"+ft+'px;"><span>&ndash;</span></a>':"")+'<div class="dwl">'+n+'</div><div tabindex="0" aria-live="off" aria-label="'+n+'" role="listbox" class="dwww"><div class="dww" style="height:'+Dt.rows*ft+'px;"><div class="dw-ul">',i+=T(r)+'</div></div><div class="dwwo"></div></div><div class="dwwol"'+(Dt.selectedLineHeight?' style="height:'+ft+"px;margin-top:-"+(ft/2+(Dt.selectedLineBorder||0))+'px;"':"")+"></div></div>"+(p?"</div>":"</td>"),r++
}),i+=(p?"":"</tr></table>")+"</div></div>"}),i+="</div>",pt&&tt&&(i+='<div class="dwbc">',e.each(xt,function(e,t){t="string"==typeof t?Ct.buttons[t]:t,i+="<span"+(Dt.btnWidth?' style="width:'+100/xt.length+'%"':"")+' class="dwbw '+t.css+'"><a href="#" class="dwb dwb'+e+' dwb-e" role="button">'+t.text+"</a></span>"}),i+="</div>"),i+="</div></div></div></div>",Y=e(i),B=e(".dw-persp",Y),q=e(".dwo",Y),Lt=!0,O(),H("onMarkupReady",[Y]),pt?(l.activeInstance=Ct,Y.appendTo(Dt.context),d&&Q&&!t&&Y.addClass("dw-trans").on(animEnd,function(){Y.removeClass("dw-trans").find(".dw").removeClass(s)})):St.is("div")?St.html(Y):Y.insertAfter(St),H("onMarkupInserted",[Y]),pt&&(e(window).on("keydown.dw",function(e){13==e.keyCode?Ct.select():27==e.keyCode&&Ct.cancel()}),Dt.scrollLock&&Y.on("touchmove",function(e){J&&e.preventDefault()}),isOldAndroid&&e("input,select,button",_t).each(function(){this.disabled||e(this).addClass("dwtd").prop("disabled",!0)}),V("scroll.dw",!0)),Ct.position(),V("orientationchange.dw resize.dw",!1),Y.on("DOMMouseScroll mousewheel",".dwwl",x).on("keydown",".dwwl",w).on("keyup",".dwwl",_).on("selectstart mousedown",prevdef).on("click",".dwb-e",prevdef).on("keydown",".dwb-e",function(t){32==t.keyCode&&(t.preventDefault(),t.stopPropagation(),e(this).click())}),setTimeout(function(){e.each(xt,function(t,n){Ct.tap(e(".dwb"+t,Y),function(e){n="string"==typeof n?Ct.buttons[n]:n,n.handler.call(this,e,Ct)},!0)}),Dt.closeOnOverlay&&Ct.tap(q,function(){Ct.cancel()}),Y.focus().on("touchstart mousedown",".dwwl",m).on("touchmove",".dwwl",g).on("touchend",".dwwl",v).on("touchstart mousedown",".dwb-e",y).on("touchend",".dwb-e",b)},300),H("onShow",[Y,$]))},Ct.hide=function(t,n,i){return!Lt||!i&&!1===H("onClose",[$,n])?!1:(isOldAndroid&&e(".dwtd",_t).each(function(){e(this).prop("disabled",!1).removeClass("dwtd")}),Y&&(d&&pt&&Q&&!t&&!Y.hasClass("dw-trans")?Y.addClass("dw-trans").find(".dw").addClass("dw-"+Q+" dw-out").on(animEnd,function(){R(t)}):R(t),wt.off(".dw")),delete l.activeInstance,void(At={}))},Ct.select=function(){!1!==Ct.hide(!1,"set")&&(F(!0,!0,0,!0),H("onSelect",[Ct.val]))},Ct.attachShow=function(e,t){Ot.push(e),"inline"!==Dt.display&&e.on((Dt.showOnFocus?"focus.dw":"")+(Dt.showOnTap?" click.dw":""),function(n){n.preventDefault(),"focus"===n.type&&("focus"!==n.type||o)||a||(t&&t(),r=e,Ct.show()),setTimeout(function(){o=!1},300)})},Ct.cancel=function(){!1!==Ct.hide(!1,"cancel")&&H("onCancel",[Ct.val])},Ct.init=function(t){Z=l.themes[t.theme||Dt.theme],K=l.i18n[t.lang||Dt.lang]||l.i18n.en,extend(f,t),H("onThemeLoad",[K,f]),extend(Dt,K,Z,userdef,f),Dt.buttons=Dt.buttons||["set","cancel"],Dt.headerText=void 0===Dt.headerText?"inline"!==Dt.display?"{value}":!1:Dt.headerText,Ct.settings=Dt,St.off(".dw"),(t=l.presets[Dt.preset])&&(Et=t.call(Tt,Ct),extend(Dt,Et,f)),U=Math.floor(Dt.rows/2),ft=Dt.height,Q=isOldAndroid?!1:Dt.animate,mt=Dt.multiline,dt="liquid"===(Dt.layout||(/top|bottom/.test(Dt.display)&&1==Dt.wheels.length?"liquid":"")),pt="inline"!==Dt.display,xt=Dt.buttons,wt=e("body"==Dt.context?window:Dt.context),_t=e(Dt.context)[0],Dt.setText||xt.splice(e.inArray("set",xt),1),Dt.cancelText||xt.splice(e.inArray("cancel",xt),1),Dt.button3&&xt.splice(e.inArray("set",xt)+1,0,{text:Dt.button3Text,handler:Dt.button3}),Ct.context=wt,Ct.live=!pt||-1==e.inArray("set",xt),Ct.buttons.set={text:Dt.setText,css:"dwb-s",handler:Ct.select},Ct.buttons.cancel={text:Ct.live?Dt.closeText:Dt.cancelText,css:"dwb-c",handler:Ct.cancel},Ct.buttons.clear={text:Dt.clearText,css:"dwb-cl",handler:function(){Ct.trigger("onClear",[Y]),St.val(""),Ct.live||Ct.hide(!1,"clear")}},tt=0<xt.length,Lt&&Ct.hide(!0,!1,!0),pt?(E(),Ht&&(void 0===vt&&(vt=Tt.readOnly),Tt.readOnly=!0),Ct.attachShow(St)):Ct.show(),Ht&&St.on("change.dw",function(){yt||Ct.setValue(St.val(),!1,.2),yt=!1})},Ct.option=function(e,t){var n={};"object"==typeof e?n=e:n[e]=t,Ct.init(n)},Ct.destroy=function(){Ct.hide(!0,!1,!0),e.each(Ot,function(e,t){t.off(".dw")}),e(window).off(".dwa"),Ht&&(Tt.readOnly=vt),delete c[Tt.id],H("onDestroy",[])},Ct.getInst=function(){return Ct},Ct.getValidCell=N,Ct.trigger=H,c[Tt.id]=Ct,Ct.values=null,Ct.val=null,Ct.temp=null,Ct.buttons={},Ct._selectedValues={},Ct.init(f)};var r,s,a,o,l=e.mobiscroll,c=l.instances,u=l.util,h=u.jsPrefix,d=u.has3d,p=u.hasFlex;getCoord=u.getCoord,testTouch=u.testTouch,empty=function(){},prevdef=function(e){e.preventDefault()},extend=e.extend,animEnd="webkitAnimationEnd animationend",userdef=l.userdef,isOldAndroid=/android [1-3]/i.test(navigator.userAgent),defaults=extend(l.defaults,{minWidth:80,height:40,rows:3,multiline:1,delay:300,disabled:!1,readonly:!1,closeOnOverlay:!0,showOnFocus:!0,showOnTap:!0,showLabel:!0,wheels:[],theme:"",display:"modal",mode:"scroller",preset:"",lang:"en-US",context:"body",scrollLock:!0,tap:!0,btnWidth:!0,speedUnit:.0012,timeUnit:.1,formatResult:function(e){return e.join(" ")},parseValue:function(t,n){var r,s=t.split(" "),a=[],o=0;return e.each(n.settings.wheels,function(t,n){e.each(n,function(t,n){n=n.values?n:i(n),r=n.keys||n.values,a.push(-1!==e.inArray(s[o],r)?s[o]:r[0]),o++})}),a}}),l.i18n.en=l.i18n["en-US"]={setText:"Set",selectedText:"Selected",closeText:"Close",cancelText:"Cancel",clearText:"Clear"},e(window).on("focus",function(){r&&(o=!0)}),e(document).on("mouseover mouseup mousedown click",function(e){return a?(e.stopPropagation(),e.preventDefault(),!1):void 0})}(jQuery),function(e){e.mobiscroll.themes.ios7={dateOrder:"MMdyy",rows:5,height:34,minWidth:55,headerText:!1,showLabel:!1,btnWidth:!1,selectedLineHeight:!0,selectedLineBorder:1,useShortLabels:!0}}(jQuery),function(e){var t=e.mobiscroll,n=t.util,i=n.has3d,r=n.jsPrefix,s=n.getCoord,a=n.testTouch,o="webkitTransitionEnd transitionend",l={controls:["calendar"],firstDay:0,maxMonthWidth:170,months:1,preMonths:1,highlight:!0,swipe:!0,liveSwipe:!0,divergentDayChange:!0,navigation:"yearMonth"};t.i18n.en=e.extend(t.i18n.en,{dateText:"Date",timeText:"Time",calendarText:"Calendar",prevMonthText:"Previous Month",nextMonthText:"Next Month",prevYearText:"Previous Year",nextYearText:"Next Year"}),t.presets.calbase=function(t){function n(n,i,r){var s,a,o,l,c={},u=kt+lt;return n&&(n=t.convert(n),e.each(n,function(e,t){if(s=t.d||t.start||t,a=s+"",t.start&&t.end)for(l=new Date(t.start);l<=t.end;)o=new Date(l.getFullYear(),l.getMonth(),l.getDate()).getTime(),c[o]=c[o]||[],c[o].push(t),l.setDate(l.getDate()+1);else if(s.getTime)o=new Date(s.getFullYear(),s.getMonth(),s.getDate()).getTime(),c[o]=c[o]||[],c[o].push(t);else if(a.match(/w/i)){var n=yt.firstDay,h=+a.replace("w",""),d=0,p=new Date(i,r-kt-ct,1).getDay();for(n-p+1>1&&(d=7),T=0;5*ot>T;T++)o=new Date(i,r-kt-ct,7*T+n-d-p+1+h).getTime(),c[o]=c[o]||[],c[o].push(t)}else if(a=a.split("/"),a[1])r+u>=11&&(o=new Date(i+1,a[0]-1,a[1]).getTime(),c[o]=c[o]||[],c[o].push(t)),1>=r-u&&(o=new Date(i-1,a[0]-1,a[1]).getTime(),c[o]=c[o]||[],c[o].push(t)),o=new Date(i,a[0]-1,a[1]).getTime(),c[o]=c[o]||[],c[o].push(t);else for(T=0;ot>T;T++)o=new Date(i,r-kt-ct+T,a[0]).getTime(),c[o]=c[o]||[],c[o].push(t)})),c}function c(e,i){et=n(yt.invalid,e,i),t.onGenMonth(e,i)}function u(n,i){var r,s,a,o,l,c,u,h,d,p,f,m=1,g=0;l=new Date(n,i,1);var v=l.getFullYear(),y=l.getMonth(),b=t.getDate(!0),w=new Date(v,y+1,0).getDate(),_=new Date(v,y,1).getDay(),x=new Date(v,y,0).getDate()-_+1,k='<div class="dw-cal-table">',C='<div class="dw-week-nr-c">';for(1<yt.firstDay-_+1&&(g=7),f=0;42>f;f++)p=f+yt.firstDay-g,r=new Date(v,y,p-_+1),s=r.getFullYear(),a=r.getMonth(),o=r.getDate(),l=s+"-"+a+"-"+o,c=e.extend({valid:r<new Date(Y.getFullYear(),Y.getMonth(),Y.getDate())||r>B?!1:void 0===et[r.getTime()],selected:b.getFullYear()===s&&b.getMonth()===a&&b.getDate()===o},t.getDayProps(r,b)),u=c.valid,h=c.selected,s=c.cssClass,d=_>p||p>=w+_,gt[l]=c,0==f%7&&(k+=(f?"</div>":"")+'<div class="dw-cal-row'+(yt.highlight&&b-r>=0&&6048e5>b-r?" dw-cal-week-hl":"")+'">',bt&&("month"==bt&&a!==y&&f?m=1==o?1:2:"year"==bt&&(m=r,m=new Date(m),m.setHours(0,0,0),m.setDate(m.getDate()+4-(m.getDay()||7)),r=new Date(m.getFullYear(),0,1),m=Math.ceil(((m-r)/864e5+1)/7)),C+='<div class="dw-week-nr"><div class="dw-week-nr-i">'+m+"</div></div>",m++)),k+='<div role="button" tabindex="-1" class="dw-cal-day '+(yt.dayClass||"")+(h?" dw-sel":"")+(s?" "+s:"")+(d?" dw-cal-day-diff":"")+(u?" dw-cal-day-v dwb-e dwb-nhl":" dw-cal-day-inv")+'" data-day="'+p%7+'" data-date="'+(p-_+1)+'" data-full="'+l+'"'+(h?' aria-selected="true"':"")+(u?"":' aria-disabled="true"')+'><div class="dw-i '+(h?Et:"")+" "+(u?yt.validDayClass||"":"")+'"><div class="dw-cal-day-fg">'+(_>p?x+p:p>=w+_?p-w-_+1:p-_+1)+"</div>"+(c.markup||"")+'<div class="dw-cal-day-frame"></div></div></div>';return k+("</div>"+C+"</div></div>")}function h(t,n){for(C=0;at>C;++C)e(R[C]).text(F[new Date(t,n-ct+C).getMonth()]),1<V.length&&e(V[C]).text(new Date(t,n-ct+C).getFullYear());1==V.length&&V.text(t),new Date(t,n-ct-1,1)<U?e(".dw-cal-prev-m",E).addClass(At).attr("aria-disabled","true"):e(".dw-cal-prev-m",E).removeClass(At).removeAttr("aria-disabled"),new Date(t,n+at-ct,1)>$?e(".dw-cal-next-m",E).addClass(At).attr("aria-disabled","true"):e(".dw-cal-next-m",E).removeClass(At).removeAttr("aria-disabled"),new Date(t,n,1).getFullYear()<=U.getFullYear()?e(".dw-cal-prev-y",E).addClass(At).attr("aria-disabled","true"):e(".dw-cal-prev-y",E).removeClass(At).removeAttr("aria-disabled"),new Date(t,n,1).getFullYear()>=$.getFullYear()?e(".dw-cal-next-y",E).addClass(At).attr("aria-disabled","true"):e(".dw-cal-next-y",E).removeClass(At).removeAttr("aria-disabled")}function d(n){if(mt.calendar&&"calendar"===nt){var i,r,s=new Date(W,z),a=Math.abs(12*(n.getFullYear()-W)+n.getMonth()-z);t.needsSlide&&a&&(W=n.getFullYear(),z=n.getMonth(),n>s?(r=a>kt-ct+at-1,z-=r?0:a-kt,i="next"):s>n&&(r=a>kt+ct,z+=r?0:a-kt,i="prev"),f.call(this,W,z,i,Math.min(a,kt),r,!0)),t.trigger("onDayHighlight",[n]),yt.highlight&&(e(".dw-cal .dw-sel .dw-i",E).removeClass(Et),e(".dw-cal .dw-sel",E).removeClass("dw-sel").removeAttr("aria-selected"),e(".dw-cal-week-hl",E).removeClass("dw-cal-week-hl"),e('.dw-cal .dw-cal-day[data-full="'+n.getFullYear()+"-"+n.getMonth()+"-"+n.getDate()+'"]',E).addClass("dw-sel").attr("aria-selected","true").parent().addClass("dw-cal-week-hl"),e(".dw-cal .dw-sel .dw-i",E).addClass(Et)),t.needsSlide=!0}}function p(e,n,i,r){for(r||c(e,n),C=0;ot>C;C++)pt[C].html(u(e,n-ct-kt+C));t.needsRefresh=!1}function f(n,i,r,s,a,o,l){if(n&&ft.push({y:n,m:i,dir:r,slideNr:s,load:a,active:o,callback:l}),!rt){var d=ft.shift(),n=d.y,i=d.m,r="next"==d.dir,s=d.slideNr,a=d.load,o=d.active,l=d.callback||vt,d=new Date(n,i,1),n=d.getFullYear(),i=d.getMonth();if(rt=!0,t.changing=!0,t.trigger("onMonthChange",[n,i]),c(n,i),a)for(C=0;at>C;C++)pt[r?ot-at+C:C].html(u(n,i-ct+C));o&&dt.addClass("dw-cal-slide-a"),h(n,i),setTimeout(function(){g(r?H-N*s:H+N*s,200,function(){var o;if(dt.removeClass("dw-cal-slide-a"),r)for(o=pt.splice(0,s),C=0;s>C;C++)pt.push(o[C]),v(pt[pt.length-1],+pt[pt.length-2].data("curr")+100);else for(o=pt.splice(ot-s,s),C=s-1;C>=0;C--)pt.unshift(o[C]),v(pt[0],+pt[1].data("curr")-100);for(C=0;s>C;C++)pt[r?ot-s+C:C].html(u(n,i-ct-kt+C+(r?ot-s:0))),a&&pt[r?C:ot-s+C].html(u(n,i-ct-kt+C+(r?0:ot-s)));for(C=0;at>C;C++)pt[kt+C].addClass("dw-cal-slide-a");rt=!1,ft.length?setTimeout(function(){f()},10):(W=n,z=i,t.changing=!1,bt&&j.html(e(".dw-week-nr-c",pt[kt]).html()),e(".dw-cal-day",E).attr("tabindex",-1),e(".dw-cal-slide-a .dw-cal-day",E).attr("tabindex",0),t.needsRefresh&&y(),t.trigger("onMonthLoaded",[n,i]),l())})},10)}}function m(){var n=e(this),i=t.live,r=t.getDate(!0),s=n.attr("data-full"),a=s.split("-"),a=new Date(a[0],a[1],a[2]),o=n.hasClass("dw-sel");!ut&&n.hasClass("dw-cal-day-diff")||!1===t.trigger("onDayChange",[e.extend(gt[s],{date:a,cell:this,selected:o})])||(t.needsSlide=!1,t.setDate(new Date(a.getFullYear(),a.getMonth(),a.getDate(),r.getHours(),r.getMinutes(),r.getSeconds()),i,.2,!i,!0),yt.divergentDayChange&&(st=!0,a<new Date(W,z-ct,1)?w():a>new Date(W,z-ct+at,0)&&b(),st=!1))}function g(e,t,n){e=Math.max(H-N*kt,Math.min(e,H+N*kt)),A[0].style[r+"Transition"]="all "+(t||0)+"ms",i?(n&&(O==e?n():A.on(o,function(){A.off(o),n()})),A[0].style[r+"Transform"]="translate3d("+e+"px,0,0)"):(n&&setTimeout(n,t),A[0].style.left=e+"px"),t&&(H=e),O=e}function v(e,t){e.data("curr",t),i?e[0].style[r+"Transform"]="translate3d("+t+"%,0,0)":e[0].style.left=t+"%"}function y(){t.isVisible()&&mt.calendar&&p(W,z)}function b(){st&&new Date(W,z+at-ct,1)<=$&&f(W,++z,"next",1,!1,!0,b)}function w(){st&&new Date(W,z-ct-1,1)>=U&&f(W,--z,"prev",1,!1,!0,w)}function _(e){st&&new Date(W,z,1)<=new Date($.getFullYear()-1,$.getMonth()-lt,1)?f(++W,z,"next",kt,!0,!0,function(){_(e)}):st&&!e.hasClass("dwb-d")&&f($.getFullYear(),$.getMonth()-lt,"next",kt,!0,!0)}function x(e){st&&new Date(W,z,1)>=new Date(U.getFullYear()+1,U.getMonth()+ct,1)?f(--W,z,"prev",kt,!0,!0,function(){x(e)}):st&&!e.hasClass("dwb-d")&&f(U.getFullYear(),U.getMonth()+ct,"prev",kt,!0,!0)}var k,C,T,S,D,E,P,M,A,N,O,H,L,I,j,F,R,V,U,$,Y,B,q,W,z,G,X,J,Q,Z,K,et,tt,nt,it,rt,st,at,ot,lt,ct,ut,ht=this,dt=[],pt=[],ft=[],mt={},gt={},vt=function(){};S=e.extend({},t.settings);var yt=e.extend(t.settings,l,S),bt=yt.weekCounter;S=yt.layout||(/top|bottom/.test(yt.display)?"liquid":"");var wt="liquid"==S&&"bubble"!==yt.display,_t="modal"==yt.display,xt=wt?null:yt.calendarWidth,kt=yt.preMonths,Ct="yearMonth"==yt.navigation,Tt=yt.controls.join(","),St=(!0===yt.tabs||!1!==yt.tabs&&wt)&&1<yt.controls.length,Dt=!St&&void 0===yt.tabs&&!wt&&1<yt.controls.length,Et=yt.activeClass||"",Pt="dw-sel "+(yt.activeTabClass||""),Mt=yt.activeTabInnerClass||"",At="dwb-d "+(yt.disabledClass||"");return Tt.match(/calendar/)&&(mt.calendar=1),Tt.match(/date/)&&(mt.date=1),Tt.match(/time/)&&(mt.time=1),mt.calendar&&mt.date&&(St=!0,Dt=!1),yt.layout=S,yt.preset=(mt.date||mt.calendar?"date":"")+(mt.time?"time":""),"inline"==yt.display&&e(this).closest('[data-role="page"]').on("pageshow",function(){t.position()}),t.changing=!1,t.needsRefresh=!1,t.needsSlide=!0,t.getDayProps=vt,t.onGenMonth=vt,t.prepareObj=n,t.refresh=function(){t.changing?t.needsRefresh=!0:y()},S=e.mobiscroll.presets.datetime.call(this,t),Z=S.validate,e.extend(S,{onMarkupReady:function(n){var r,o,l="",c=yt.dateOrder.search(/m/i),u=yt.dateOrder.search(/y/i);if(E=n,P="inline"==yt.display?e(this).is("div")?e(this):e(this).parent():t.context,q=t.getDate(!0),W=q.getFullYear(),z=q.getMonth(),O=H=0,I=!0,F=yt.monthNames,nt="calendar",yt.minDate?(U=new Date(yt.minDate.getFullYear(),yt.minDate.getMonth(),1),Y=yt.minDate):Y=U=new Date(yt.startYear,0,1),yt.maxDate?($=new Date(yt.maxDate.getFullYear(),yt.maxDate.getMonth(),1),B=yt.maxDate):B=$=new Date(yt.endYear,11,31,23,59,59),n.addClass("dw-calendar"+(i?"":" dw-cal-no3d")),D=e(".dw",n),tt=e(".dwcc",n),mt.date?mt.date=e(".dwc",E).eq(0):mt.calendar&&e(".dwc",E).eq(0).addClass("dwc-hh"),mt.time&&(mt.time=e(".dwc",E).eq(1)),mt.calendar){for(at="auto"==yt.months?Math.max(1,Math.min(3,Math.floor((xt||P.width())/280))):yt.months,ot=at+2*kt,lt=Math.floor(at/2),ct=Math.round(at/2)-1,ut=void 0===yt.showDivergentDays?2>at:yt.showDivergentDays,o='<div class="dw-cal-btnw"><div class="dw-cal-prev dw-cal-prev-m dw-cal-btn dwb dwb-e"><a href="#" role="button" class="dw-cal-btn-txt">'+yt.prevMonthText+"</a></div>",C=0;at>C;++C)o+=(!Ct&&c>u?'<span aria-live="assertive" class="dw-cal-year"></span>&nbsp;':"")+'<div class="dw-cal-btnw-m" style="width: '+100/at+'%"><span aria-live="assertive" class="dw-cal-month"></span>'+(!Ct&&u>c?'&nbsp;<span aria-live="assertive" class="dw-cal-year"></span>':"")+"</div>";for(o+='<div class="dw-cal-next dw-cal-next-m dw-cal-btn dwb dwb-e"><a href="#" role="button" class="dw-cal-btn-txt">'+yt.nextMonthText+"</a></div></div>",Ct&&(l='<div class="dw-cal-btnw"><div class="dw-cal-prev dw-cal-prev-y dw-cal-btn dwb dwb-e"><a href="#" role="button" class="dw-cal-btn-txt">'+yt.prevYearText+'</a></div><span aria-live="assertive" class="dw-cal-year"></span><div class="dw-cal-next dw-cal-next-y dw-cal-btn dwb dwb-e"><a href="#" role="button" class="dw-cal-btn-txt">'+yt.nextYearText+"</a></div></div>"),L='<div class="dwc dw-cal-c"><div class="dw-cal '+(at>1?" dw-cal-multi ":"")+(bt?" dw-weeks ":"")+(ut?"":" dw-hide-diff ")+(yt.calendarClass||"")+'"><div class="dw-cal-header"><div class="dw-cal-btnc '+(Ct?"dw-cal-btnc-ym":"dw-cal-btnc-m")+'">'+(c>u||at>1?l+o:o+l)+'</div><div class="dw-cal-days-c">',T=0;at>T;++T){for(L+='<div class="dw-cal-days" style="width: '+100/at+'%"><table cellpadding="0" cellspacing="0"><tr>',C=0;7>C;C++)L+="<th>"+yt.dayNamesShort[(C+yt.firstDay)%7]+"</th>";L+="</tr></table></div>"}for(L+='</div></div><div class="dw-cal-anim-c '+(yt.calendarClass||"")+'"><div class="dw-week-nrs-c '+(yt.weekNrClass||"")+'"><div class="dw-week-nrs"></div></div><div class="dw-cal-anim">',C=0;at+2*kt>C;C++)L+='<div class="dw-cal-slide"></div>';L+="</div></div></div></div>",mt.calendar=e(L)}if(e.each(yt.controls,function(t,n){mt[n]=e('<div class="dw-cal-pnl" id="'+(ht.id+"_dw_pnl_"+t)+'"></div>').append(e('<div class="dw-cal-pnl-i"></div>').append(mt[n])).appendTo(tt)}),r='<div class="dw-cal-tabs"><ul role="tablist">',e.each(yt.controls,function(e,t){mt[t]&&(r+='<li role="tab" aria-controls="'+(ht.id+"_dw_pnl_"+e)+'" class="dw-cal-tab '+(e?"":Pt)+'" data-control="'+t+'"><a href="#" class="dwb-e dwb-nhl dw-i '+(e?"":Mt)+'">'+yt[t+"Text"]+"</a></li>")}),r+="</ul></div>",tt.before(r),M=e(".dw-cal-anim-c",E),A=e(".dw-cal-anim",E),mt.calendar){for(dt=e(".dw-cal-slide",E).each(function(t,n){pt.push(e(n))}),dt.slice(kt,kt+at).addClass("dw-cal-slide-a"),C=0;ot>C;C++)v(pt[C],100*(C-kt));p(W,z),e(".dw-cal-slide-a .dw-cal-day",E).attr("tabindex",0),j=e(".dw-week-nrs",E).html(e(".dw-week-nr-c",pt[kt]).html())}if(R=e(".dw-cal-month",E),V=e(".dw-cal-year",E),setTimeout(function(){t.tap(M,function(t){if(t=e(t.target),!rt&&!K){for(;!t.hasClass("dw-cal-day")&&!t.hasClass("dw-cal-row");)t=t.parent();t.hasClass("dw-cal-day-v")&&m.call(t[0])}}),e(".dw-cal-btn",E).on("touchstart mousedown keydown",function(t){var n=e(this);"keydown"!==t.type?(t.preventDefault(),t=a(t)):t=32===t.keyCode,st||!t||n.hasClass("dwb-d")||(st=!0,n.hasClass("dw-cal-prev-m")?w():n.hasClass("dw-cal-next-m")?b():n.hasClass("dw-cal-prev-y")?x(n):n.hasClass("dw-cal-next-y")&&_(n),e(document).on("mouseup.dwbtn",function(){e(document).off(".dwbtn"),st=!1}))}).on("touchend keyup",function(){st=!1}),e(".dw-cal-tab",E).on("touchstart click",function(n){var i=e(this);a(n)&&!i.hasClass("dw-sel")&&(nt=i.attr("data-control"),e(".dw-cal-pnl",E).addClass("dw-cal-pnl-h"),e(".dw-cal-tab",E).removeClass(Pt).removeAttr("aria-selected").find(".dw-i").removeClass(Mt),i.addClass(Pt).attr("aria-selected","true").find(".dw-i").addClass(Mt),mt[nt].removeClass("dw-cal-pnl-h"),"calendar"===nt?(k=t.getDate(!0),(k.getFullYear()!==q.getFullYear()||k.getMonth()!==q.getMonth()||k.getDate()!==q.getDate())&&d(k)):(q=t.getDate(!0),t.setDate(q,!1,0,!0)))})},300),wt?n.addClass("dw-cal-liq"):e(".dw-cal",E).width(xt||280*at),yt.calendarHeight&&e(".dw-cal-anim-c",E).height(yt.calendarHeight),yt.swipe){var h,y,S,Z,et,ft,gt,_t,Tt=yt.liveSwipe,St=window.requestAnimationFrame||function(e){e()},Dt=window.cancelAnimationFrame||vt,Et=function(e){_t||rt||(it=!0,K=!1,_t=!0,S=new Date,H=O,G=s(e,"X"),X=s(e,"Y"))},At=function(){et=_t=!1,gt&&(gt=!1,Dt(h),y=!1,Z=new Date-S,ft=300>Z&&Math.abs(J-G)>50?0>J-G?-kt:kt:Math.round((O-H)/N),ft>0&&new Date(W,z-ft-ct,1)>=U?f(W,z-ft,"prev",ft):0>ft&&new Date(W,z-ft+at-ct-1,1)<=$?f(W,z-ft,"next",-ft):Tt&&g(H,200))},Nt=function(e){rt&&e.preventDefault(),_t&&(J=s(e,"X"),Q=s(e,"Y"),gt||et||(Math.abs(J-G)>10?K=gt=!0:!t.scrollLock&&Math.abs(Q-X)>10&&(K=et=!0)),gt&&e.preventDefault(),gt&&Tt&&!y&&(y=!0,h=St(Ot)))},Ot=function(){g(H+J-G),y=!1};M.on("touchstart",Et).on("touchmove",Nt).on("touchend touchcancel",At).on("mousedown",function(t){it||(Et(t),e(document).on("mousemove.dwsw",Nt).on("mouseup.dwsw",function(){At(),e(document).off("dwsw")})),it=!1})}},onShow:function(){h(W,z),t.trigger("onMonthLoaded",[W,z])},onPosition:function(n,i,r){var s,a,o,l=0,c=0,u=0;if(wt&&_t&&(M.height(""),tt.height("")),(St&&I||Dt||wt)&&(e(".dw-cal-pnl",E).removeClass("dw-cal-pnl-h"),wt&&A.width(""),e.each(mt,function(e,t){s=t.width(),l=Math.max(l,s),c=Math.max(c,t.height()),u+=s}),St||Dt&&u>P.width()?(a=!0,nt=e(".dw-cal-tabs .dw-sel",E).attr("data-control"),D.addClass("dw-cal-tabbed")):(nt="calendar",c=l="",D.removeClass("dw-cal-tabbed"))),wt&&_t&&(a&&tt.height(mt.calendar.height()),n=D.outerHeight(),r>=n&&M.height(r-n+M.height()),c=Math.max(c,mt.calendar.height())),a&&tt.css({width:wt?"":l,height:c}),N&&(o=N),N=Math.round(Math.round(M.width())/at)){if(A.width(N),wt&&!I&&o&&(r=H/o,H=r*N,g(H,0)),Ct)for(F=yt.maxMonthWidth>e(".dw-cal-btnw-m",E).width()?yt.monthNamesShort:yt.monthNames,C=0;at>C;++C)e(R[C]).text(F[new Date(W,z-ct+C).getMonth()]);a&&(e(".dw-cal-pnl",E).addClass("dw-cal-pnl-h"),mt[nt].removeClass("dw-cal-pnl-h"))}t.trigger("onCalResize",[]),I=!1},onClose:function(){pt=[],nt=null},validate:function(e,n){Z.call(this,e,n),t.trigger("onSetDate",[]),d(t.getDate(!0))}}),S}}(jQuery),function(e){var t=e.mobiscroll,n=t.util,r=n.getCoord,s=n.has3d,a=n.jsPrefix,o={firstSelectDay:0,eventText:"event",eventsText:"events"};t.presetShort("calendar"),t.presets.calendar=function(t){function n(t){if(t){if(P[t])return P[t];var n=e('<div style="background-color:'+t+';"></div>').appendTo("body"),i=(window.getComputedStyle?getComputedStyle(n[0]):n[0].style).backgroundColor.replace(/rgb|rgba|\(|\)|\s/g,"").split(","),i=130<.299*i[0]+.587*i[1]+.114*i[2]?"#000":"#fff";return n.remove(),P[t]=i}}function l(i,r){var s=v[i.getTime()];if(s){var a,o;o=e(".dw-cal-c",f).height();var l=r.height(),c=r.width(),u=r.offset().top-e(".dw-cal-c",f).offset().top,d=2>r.closest(".dw-cal-row").index(),p='<ul class="dw-cal-event-list">';k=0,T=!1,g=r,r.addClass(A).find(".dw-i").addClass(N),e.each(s,function(e,t){a=t.color,n(a),p+='<li class="dw-cal-event"><div class="dw-cal-event-color" style="'+(a?"background:"+a+";":"")+'"></div>'+t.text+"</li>"}),p+="</ul>",b.html(p),t.trigger("onEventBubbleShow",[g,m]),o=m.addClass("dw-cal-events-t").css({top:d?u+l:"0",bottom:d?"0":o-u}).addClass("dw-cal-events-v").height(),x=o-b.height(),m.css(d?"bottom":"top","auto").removeClass("dw-cal-events-t"),y.css("max-height",o),h(0),d?m.addClass("dw-cal-events-b"):m.removeClass("dw-cal-events-b"),e(".dw-cal-events-arr",m).css("left",r.offset().left-m.offset().left+c/2),t.tap(e(".dw-cal-event",b),function(n){T||t.trigger("onEventSelect",[n,s[e(this).index()],i])}),w=!0}}function c(){m&&m.removeClass("dw-cal-events-v"),g&&g.removeClass(A).find(".dw-i").removeClass(N),w=!1}function u(){F&&c(),t.refresh()}function h(e){s?b[0].style[a+"Transform"]="translateY("+e+"px)":b.css("top",e)}var p,f,m,g,v,y,b,w,_,x,k,C,T,S,D,E,P={};C=e.extend({},t.settings);var M=e.extend(t.settings,o,C),A="dw-sel dw-cal-day-ev",N=M.activeClass||"",O=M.multiSelect||"week"==M.selectType,H=M.markedDisplay,L=!0===M.events||!0===M.markedText,I=0,j=[],F=e.isArray(M.events),R=F?e.extend(!0,[],M.events):[];if(C=e.mobiscroll.presets.calbase.call(this,t),p=e.extend({},C),M.selectedValues)for(i=0;i<M.selectedValues.length;i++)d=M.selectedValues[i],t._selectedValues[d]=d;return F&&e.each(R,function(e,t){t._id=I++}),t.onGenMonth=function(e,n){v=t.prepareObj(R,e,n),_=t.prepareObj(M.marked,e,n)},t.getDayProps=function(e){var i=new Date,r=e.getTime(),e=O?void 0!==t._selectedValues[e]:F?r===i.setHours(0,0,0,0):void 0,s=_[r]?_[r][0]:!1,a=v[r]?v[r][0]:!1,i=s||a,r=s.text||(L&&a?v[r].length+" "+(1<v[r].length?M.eventsText:M.eventText):0),s=i.color,a=L&&r?n(s):"";return{marked:i,selected:F?!1:e,cssClass:F&&e?"dw-cal-day-hl":"",markup:L&&r?'<div class="dw-cal-day-txt-c"><div class="dw-cal-day-txt '+(M.eventTextClass||"")+'" title="'+r+'"'+(s?' style="background:'+s+";color:"+a+';text-shadow:none;"':"")+">"+r+"</div></div>":i?'<div class="dw-cal-day-m"'+(s?' style="background-color:'+s+";border-color:"+s+" "+s+' transparent transparent"':"")+"></div>":""}},t.addValue=function(e){t._selectedValues[e]=e,u()},t.removeValue=function(e){delete t._selectedValues[e],u()},t.setValues=function(e){var n=0;for(t._selectedValues={},n;n<e.length;n++)t._selectedValues[e[n]]=e[n];u()},F&&(t.addEvent=function(t){var n=[],t=e.extend(!0,[],e.isArray(t)?t:[t]);return e.each(t,function(e,t){t._id=I++,R.push(t),n.push(t._id)}),u(),n},t.removeEvent=function(t){t=e.isArray(t)?t:[t],e.each(t,function(t,n){e.each(R,function(e,t){return t._id===n?(R.splice(e,1),!1):void 0})}),u()},t.getEvents=function(){return R},t.setEvents=function(t){var n=[];return R=e.extend(!0,[],t),e.each(R,function(e,t){t._id=I++,n.push(t._id)}),u(),n}),e.extend(C,{highlight:!O&&!F,divergentDayChange:!O&&!F,buttons:F?["cancel"]:M.buttons,onClear:function(){O&&(t._selectedValues={},t.refresh())},onBeforeShow:function(){F&&(t.getDate(!0),M.headerText=!1),M.closeOnSelect&&(M.divergentDayChange=!1),M.counter&&O&&(M.headerText=function(){var n=0,i="week"==M.selectType?7:1;return e.each(t._selectedValues,function(){n++}),n/i+" "+M.selectedText})},onMarkupReady:function(n){p.onMarkupReady.call(this,n),f=n,O&&(e(".dwv",n).attr("aria-live","off"),j=e.extend({},t._selectedValues)),L&&e(".dw-cal",n).addClass("dw-cal-ev"),H&&e(".dw-cal",n).addClass("dw-cal-m-"+H),F&&(n.addClass("dw-cal-em"),m=e('<div class="dw-cal-events '+(M.eventBubbleClass||"")+'"><div class="dw-cal-events-arr"></div><div class="dw-cal-events-i"><div class="dw-cal-events-sc"></div></div></div>').appendTo(e(".dw-cal-c",n)),y=e(".dw-cal-events-i",m),b=e(".dw-cal-events-sc",m),m.on("touchstart mousedown",function(t){0>x&&(D="touchstart"===t.type,T=!1,S=k,startY=r(t,"Y"),endY=r(t,"Y"),e(document).on(D?"touchmove.dwsc":"mousemove.dwsc",function(e){e.preventDefault(),endY=r(e,"Y"),k=Math.min(0,Math.max(S+endY-startY,x)),h(k),Math.abs(endY-startY)>5&&(T=!0)}).on(D?"touchend.dwsc":"mouseup.dwsc",function(){e(document).off(".dwsc")}))}),t.tap(m,function(){T||c()}))},onMonthChange:function(){F&&c()},onMonthLoaded:function(){E&&(l(E.d,e('.dw-cal-day-v[data-full="'+E.full+'"]:not(.dw-cal-day-diff)',f)),E=!1)},onDayChange:function(n){var i=n.date,r=e(n.cell),n=n.selected;if(F)c(),r.hasClass("dw-cal-day-ev")||setTimeout(function(){t.changing?E={d:i,full:r.attr("data-full")}:l(i,r)},10);else if(O)if("week"==M.selectType){var s,a,o=i.getDay()-M.firstSelectDay,o=0>o?7+o:o;for(M.multiSelect||(t._selectedValues={}),s=0;7>s;s++)a=new Date(i.getFullYear(),i.getMonth(),i.getDate()-o+s),n?delete t._selectedValues[a]:t._selectedValues[a]=a;u()}else s=e('.dw-cal .dw-cal-day[data-full="'+r.attr("data-full")+'"]',f),n?(s.removeClass("dw-sel").removeAttr("aria-selected").find(".dw-i").removeClass(N),delete t._selectedValues[i]):(s.addClass("dw-sel").attr("aria-selected","true").find(".dw-i").addClass(N),t._selectedValues[i]=i);return F||M.multiSelect||!M.closeOnSelect||"inline"===M.display?void 0:(t.needsSlide=!1,t.setDate(i),t.select(),!1)},onCalResize:function(){w&&e(".dw-cal-events-arr",m).css("left",g.offset().left-m.offset().left+g.width()/2)},onCancel:function(){!t.live&&O&&(t._selectedValues=e.extend({},j))}}),C}}(jQuery),function(e){var t=e.mobiscroll,n=new Date,i={dateFormat:"mm/dd/yy",dateOrder:"mmddy",timeWheels:"hhiiA",timeFormat:"hh:ii A",monthNames:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthNamesShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),dayNames:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),dayNamesShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),monthText:"Month",dayText:"Day",yearText:"Year",hourText:"Hours",minuteText:"Minutes",ampmText:"&nbsp;",secText:"Seconds",amText:"am",pmText:"pm",nowText:"Now"},r=e.extend({startYear:n.getFullYear()-100,endYear:n.getFullYear()+1,shortYearCutoff:"+10",showNow:!1,stepHour:1,stepMinute:1,stepSecond:1,separator:" "},i),s=function(n){function i(e,t,n){return void 0!==S[t]?+e[S[t]]:void 0!==n?n:L[D[t]]?L[D[t]]():D[t](L)}function s(e,t,n,i){e.push({values:n,keys:t,label:i})}function a(e,t){return Math.floor(e/t)*t}function o(e){var t=i(e,"h",0);return new Date(i(e,"y"),i(e,"m"),i(e,"d",1),i(e,"a",0)?t+12:t,i(e,"i",0),i(e,"s",0))}function l(e,t){var n,i,r=!1,s=!1,a=0,o=0;if(c(e))return e;if(R>e&&(e=R),e>V&&(e=V),i=n=e,2!==t)for(r=c(n);!r&&V>n;)n=new Date(n.getTime()+864e5),r=c(n),a++;if(1!==t)for(s=c(i);!s&&i>R;)i=new Date(i.getTime()-864e5),s=c(i),o++;return 1===t&&r?n:2===t&&s?i:a>o&&s?i:n}function c(e){var t,n,i;if(R>e||e>V)return!1;if(_)for(n=0;n<_.length;n++)if(t=_[n],i=t+"",!t.start)if(t.getTime){if(e.getFullYear()==t.getFullYear()&&e.getMonth()==t.getMonth()&&e.getDate()==t.getDate())return!1}else if(i.match(/w/i)){if(i=+i.replace("w",""),i==e.getDay())return!1}else if(i=i.split("/"),i[1]){if(i[0]-1==e.getMonth()&&i[1]==e.getDate())return!1}else if(i[0]==e.getDate())return!1;return!0}function u(t,n){return e(".dw-li",t).index(e('.dw-li[data-val="'+n+'"]',t))}function h(e){var t,n=[];for(t in S)n[S[t]]=e[D[t]]?e[D[t]]():D[t](e);return n}var d,p=e(this),f={};if(p.is("input")){switch(p.attr("type")){case"date":d="yy-mm-dd";break;case"datetime":d="yy-mm-ddTHH:ii:ssZ";break;case"datetime-local":d="yy-mm-ddTHH:ii:ss";break;case"month":d="yy-mm",f.dateOrder="mmyy";break;case"time":d="HH:ii:ss"}var m=p.attr("min"),p=p.attr("max");m&&(f.minDate=t.parseDate(d,m)),p&&(f.maxDate=t.parseDate(d,p))}var g,v,y,b,w,_,x,m=e.extend({},n.settings),k=e.extend(n.settings,r,f,m),C=0,p=[],T=[],S={},D={y:"getFullYear",m:"getMonth",d:"getDate",h:function(e){return e=e.getHours(),e=O&&e>=12?e-12:e,a(e,I)},i:function(e){return a(e.getMinutes(),j)},s:function(e){return a(e.getSeconds(),F)},a:function(e){return N&&11<e.getHours()?1:0}},E=k.preset,P=k.dateOrder,M=k.timeWheels,A=P.match(/D/),N=M.match(/a/i),O=M.match(/h/),H="datetime"==E?k.dateFormat+k.separator+k.timeFormat:"time"==E?k.timeFormat:k.dateFormat,L=new Date,I=k.stepHour,j=k.stepMinute,F=k.stepSecond,R=k.minDate||new Date(k.startYear,0,1),V=k.maxDate||new Date(k.endYear,11,31,23,59,59);if(d=d||H,E.match(/date/i)){for(e.each(["y","m","d"],function(e,t){g=P.search(RegExp(t,"i")),g>-1&&T.push({o:g,v:t})}),T.sort(function(e,t){return e.o>t.o?1:-1}),e.each(T,function(e,t){S[t.v]=e}),m=[],f=0;3>f;f++)if(f==S.y){for(C++,y=[],v=[],b=R.getFullYear(),w=V.getFullYear(),g=b;w>=g;g++)v.push(g),y.push(P.match(/yy/i)?g:(g+"").substr(2,2));s(m,v,y,k.yearText)}else if(f==S.m){for(C++,y=[],v=[],g=0;12>g;g++)b=P.replace(/[dy]/gi,"").replace(/mm/,9>g?"0"+(g+1):g+1).replace(/m/,g+1),v.push(g),y.push(b.match(/MM/)?b.replace(/MM/,'<span class="dw-mon">'+k.monthNames[g]+"</span>"):b.replace(/M/,'<span class="dw-mon">'+k.monthNamesShort[g]+"</span>"));s(m,v,y,k.monthText)}else if(f==S.d){for(C++,y=[],v=[],g=1;32>g;g++)v.push(g),y.push(P.match(/dd/i)&&10>g?"0"+g:g);s(m,v,y,k.dayText)}p.push(m)}if(E.match(/time/i)){for(x=!0,T=[],e.each(["h","i","s","a"],function(e,t){e=M.search(RegExp(t,"i")),e>-1&&T.push({o:e,v:t})}),T.sort(function(e,t){return e.o>t.o?1:-1}),e.each(T,function(e,t){S[t.v]=C+e}),m=[],f=C;C+4>f;f++)if(f==S.h){for(C++,y=[],v=[],g=0;(O?12:24)>g;g+=I)v.push(g),y.push(O&&0==g?12:M.match(/hh/i)&&10>g?"0"+g:g);s(m,v,y,k.hourText)}else if(f==S.i){for(C++,y=[],v=[],g=0;60>g;g+=j)v.push(g),y.push(M.match(/ii/)&&10>g?"0"+g:g);s(m,v,y,k.minuteText)}else if(f==S.s){for(C++,y=[],v=[],g=0;60>g;g+=F)v.push(g),y.push(M.match(/ss/)&&10>g?"0"+g:g);s(m,v,y,k.secText)}else f==S.a&&(C++,v=M.match(/A/),s(m,[0,1],v?[k.amText.toUpperCase(),k.pmText.toUpperCase()]:[k.amText,k.pmText],k.ampmText));p.push(m)}return n.setDate=function(e,t,i,r,s){n.temp=h(e),n.setValue(n.temp,t,i,r,s)},n.getDate=function(e){return o(e?n.temp:n.values)},n.convert=function(t){var n=t;return e.isArray(t)||(n=[],e.each(t,function(t,i){e.each(i,function(e,i){"daysOfWeek"===t&&(i.d?i.d="w"+i.d:i="w"+i),n.push(i)})})),n},n.format=H,n.buttons.now={text:k.nowText,css:"dwb-n",handler:function(){n.setDate(new Date,!1,.3,!0,!0)}},k.showNow&&k.buttons.splice(e.inArray("set",k.buttons)+1,0,"now"),_=k.invalid?n.convert(k.invalid):!1,{wheels:p,headerText:k.headerText?function(){return t.formatDate(H,o(n.temp),k)
}:!1,formatResult:function(e){return t.formatDate(d,o(e),k)},parseValue:function(e){return h(t.parseDate(d,e,k))},validate:function(t,r,s,c){var r=l(o(n.temp),c),d=h(r),p={y:R.getFullYear(),m:0,d:1,h:0,i:0,s:0,a:0},f={y:V.getFullYear(),m:11,d:31,h:a(O?11:23,I),i:a(59,j),s:a(59,F),a:1},m={h:I,i:j,s:F,a:1},g=i(d,"y"),v=i(d,"m"),y=!0,b=!0;if(e.each("y,m,d,a,h,i,s".split(","),function(n,r){if(void 0!==S[r]){var s=p[r],a=f[r],o=31,l=i(d,r),c=e(".dw-ul",t).eq(S[r]);if("d"==r&&(a=o=32-new Date(g,v,32).getDate(),A&&e(".dw-li",c).each(function(){var t=e(this),n=t.data("val"),i=new Date(g,v,n).getDay(),n=P.replace(/[my]/gi,"").replace(/dd/,10>n?"0"+n:n).replace(/d/,n);e(".dw-i",t).html(n.match(/DD/)?n.replace(/DD/,'<span class="dw-day">'+k.dayNames[i]+"</span>"):n.replace(/D/,'<span class="dw-day">'+k.dayNamesShort[i]+"</span>"))})),y&&R&&(s=R[D[r]]?R[D[r]]():D[r](R)),b&&V&&(a=V[D[r]]?V[D[r]]():D[r](V)),"y"!=r){var h=u(c,s),m=u(c,a);e(".dw-li",c).removeClass("dw-v").slice(h,m+1).addClass("dw-v"),"d"==r&&e(".dw-li",c).removeClass("dw-h").slice(o).addClass("dw-h")}if(s>l&&(l=s),l>a&&(l=a),y&&(y=l==s),b&&(b=l==a),_&&"d"==r){for(a=new Date(g,v,1).getDay(),l=[],s=0;s<_.length;s++)if(h=_[s],m=h+"",!h.start)if(h.getTime)h.getFullYear()==g&&h.getMonth()==v&&l.push(h.getDate()-1);else if(m.match(/w/i))for(m=+m.replace("w",""),h=m-a;o>h;h+=7)h>=0&&l.push(h);else m=m.split("/"),m[1]?m[0]-1==v&&l.push(m[1]-1):l.push(m[0]-1);e.each(l,function(t,n){e(".dw-li",c).eq(n).removeClass("dw-v")})}}}),x&&_){var w,C,T,E,M,N,H,L,U,$,Y,B,q,W,z,G,X={},J=i(d,"d"),Q=new Date(g,v,J),Z=["a","h","i","s"];e.each(_,function(e,t){t.start&&(t.apply=!1,w=t.d,C=w+"",E=C.split("/"),w&&(w.getTime&&g==w.getFullYear()&&v==w.getMonth()&&J==w.getDate()||!C.match(/w/i)&&(E[1]&&J==E[1]&&v==E[0]-1||!E[1]&&J==E[0])||C.match(/w/i)&&Q.getDay()==+C.replace("w","")))&&(t.apply=!0,X[Q]=!0)}),e.each(_,function(r,s){if(s.start&&(s.apply||!s.d&&!X[Q])){for(M=s.start.split(":"),N=s.end.split(":"),H=0;3>H;H++)void 0===M[H]&&(M[H]=0),void 0===N[H]&&(N[H]=59),M[H]=+M[H],N[H]=+N[H];M.unshift(11<M[0]?1:0),N.unshift(11<N[0]?1:0),O&&(12<=M[1]&&(M[1]-=12),12<=N[1]&&(N[1]-=12)),q=B=!0,e.each(Z,function(r,s){if(void 0!==S[s]){for(T=i(d,s),$=G=z=0,Y=void 0,W=e(".dw-ul",t).eq(S[s]),H=r+1;4>H;H++)M[H]>0&&(z=m[s]),N[H]<f[Z[H]]&&(G=m[s]);L=a(M[r]+z,m[s]),U=a(N[r]-G,m[s]),B&&($=0>L?0:L>f[s]?e(".dw-li",W).length:u(W,L)+0),q&&(Y=0>U?0:U>f[s]?e(".dw-li",W).length:u(W,U)+1),(B||q)&&e(".dw-li",W).slice($,Y).removeClass("dw-v"),T=n.getValidCell(T,W,c).val,B=B&&T==a(M[r],m[s]),q=q&&T==a(N[r],m[s]),d[S[s]]=T}})}})}n.temp=d}}};t.i18n.en=e.extend(t.i18n.en,i),e.each(["date","time","datetime"],function(e,n){t.presets[n]=s,t.presetShort(n)}),t.datetime={},t.formatDate=t.datetime.formatDate=function(t,n,i){if(!n)return null;var s,i=e.extend({},r,i),a=function(e){for(var n=0;s+1<t.length&&t.charAt(s+1)==e;)n++,s++;return n},o=function(e,t,n){if(t=""+t,a(e))for(;t.length<n;)t="0"+t;return t},l=function(e,t,n,i){return a(e)?i[t]:n[t]},c="",u=!1;for(s=0;s<t.length;s++)if(u)"'"!=t.charAt(s)||a("'")?c+=t.charAt(s):u=!1;else switch(t.charAt(s)){case"d":c+=o("d",n.getDate(),2);break;case"D":c+=l("D",n.getDay(),i.dayNamesShort,i.dayNames);break;case"o":c+=o("o",(n.getTime()-new Date(n.getFullYear(),0,0).getTime())/864e5,3);break;case"m":c+=o("m",n.getMonth()+1,2);break;case"M":c+=l("M",n.getMonth(),i.monthNamesShort,i.monthNames);break;case"y":c+=a("y")?n.getFullYear():(10>n.getYear()%100?"0":"")+n.getYear()%100;break;case"h":var h=n.getHours(),c=c+o("h",h>12?h-12:0==h?12:h,2);break;case"H":c+=o("H",n.getHours(),2);break;case"i":c+=o("i",n.getMinutes(),2);break;case"s":c+=o("s",n.getSeconds(),2);break;case"a":c+=11<n.getHours()?i.pmText:i.amText;break;case"A":c+=11<n.getHours()?i.pmText.toUpperCase():i.amText.toUpperCase();break;case"'":a("'")?c+="'":u=!0;break;default:c+=t.charAt(s)}return c},t.parseDate=t.datetime.parseDate=function(t,n,i){var s=e.extend({},r,i),i=s.defaultValue||new Date;if(!t||!n)return i;var a,n="object"==typeof n?n.toString():n+"",o=s.shortYearCutoff,l=i.getFullYear(),c=i.getMonth()+1,u=i.getDate(),h=-1,d=i.getHours(),p=i.getMinutes(),f=0,m=-1,g=!1,v=function(e){return(e=a+1<t.length&&t.charAt(a+1)==e)&&a++,e},y=function(e){return v(e),(e=n.substr(w).match(RegExp("^\\d{1,"+("@"==e?14:"!"==e?20:"y"==e?4:"o"==e?3:2)+"}")))?(w+=e[0].length,parseInt(e[0],10)):0},b=function(e,t,i){for(e=v(e)?i:t,t=0;t<e.length;t++)if(n.substr(w,e[t].length).toLowerCase()==e[t].toLowerCase())return w+=e[t].length,t+1;return 0},w=0;for(a=0;a<t.length;a++)if(g)"'"!=t.charAt(a)||v("'")?w++:g=!1;else switch(t.charAt(a)){case"d":u=y("d");break;case"D":b("D",s.dayNamesShort,s.dayNames);break;case"o":h=y("o");break;case"m":c=y("m");break;case"M":c=b("M",s.monthNamesShort,s.monthNames);break;case"y":l=y("y");break;case"H":d=y("H");break;case"h":d=y("h");break;case"i":p=y("i");break;case"s":f=y("s");break;case"a":m=b("a",[s.amText,s.pmText],[s.amText,s.pmText])-1;break;case"A":m=b("A",[s.amText,s.pmText],[s.amText,s.pmText])-1;break;case"'":v("'")?w++:g=!0;break;default:w++}if(100>l&&(l+=(new Date).getFullYear()-(new Date).getFullYear()%100+(l<=("string"!=typeof o?o:(new Date).getFullYear()%100+parseInt(o,10))?0:-100)),h>-1)for(c=1,u=h;;){if(s=32-new Date(l,c-1,32).getDate(),s>=u)break;c++,u-=s}return d=new Date(l,c-1,u,-1==m?d:m&&12>d?d+12:m||12!=d?d:0,p,f),d.getFullYear()!=l||d.getMonth()+1!=c||d.getDate()!=u?i:d}}(jQuery),function(e){var t=e.mobiscroll,n={invalid:[],showInput:!0,inputClass:""},i=function(t){function i(t,n,i,s){for(var a=0;n>a;){var o=e(".dwwl"+a,t),l=r(s,a,i);e.each(l,function(t,n){e('.dw-li[data-val="'+n+'"]',o).removeClass("dw-v")}),a++}}function r(e,t,n){for(var i,r=0,s=[];t>r;){var a=e[r];for(i in n)if(n[i].key==a){n=n[i].children;break}r++}for(r=0;r<n.length;)n[r].invalid&&s.push(n[r].key),r++;return s}function s(e,t){for(var n=[];e;)n[--e]=!0;return n[t]=!1,n}function a(e,t,n){var i,r,s=0,a=[[]],c=k;if(t)for(i=0;t>i;i++)g?a[0][i]={}:a[i]=[{}];for(;s<e.length;){for(g?a[0][s]=l(c,C[s]):a[s]=[l(c,C[s])],i=0,t=void 0;i<c.length&&void 0===t;)c[i].key==e[s]&&(void 0!==n&&n>=s||void 0===n)&&(t=i),i++;if(void 0!==t&&c[t].children)s++,c=c[t].children;else{if(!(r=o(c))||!r.children)break;s++,c=r.children}}return a}function o(e,t){if(!e)return!1;for(var n,i=0;i<e.length;)if(!(n=e[i++]).invalid)return t?i-1:n;return!1}function l(e,t){for(var n={keys:[],values:[],label:t},i=0;i<e.length;)n.values.push(e[i].value),n.keys.push(e[i].key),i++;return n}function c(t,n){e(".dwfl",t).css("display","").slice(n).hide()}function u(e,t){var n,i,r=[],s=k,a=0,l=!1;if(void 0!==e[a]&&t>=a)for(l=0,n=e[a],i=void 0;l<s.length&&void 0===i;)s[l].key==e[a]&&!s[l].invalid&&(i=l),l++;else i=o(s,!0),n=s[i].key;for(l=void 0!==i?s[i].children:!1,r[a]=n;l;){if(s=s[i].children,a++,void 0!==e[a]&&t>=a)for(l=0,n=e[a],i=void 0;l<s.length&&void 0===i;)s[l].key==e[a]&&!s[l].invalid&&(i=l),l++;else i=o(s,!0),i=!1===i?void 0:i,n=s[i].key;l=void 0!==i&&o(s[i].children)?s[i].children:!1,r[a]=n}return{lvl:a+1,nVector:r}}function h(t){var n=[];return w=w>_++?w:_,t.children("li").each(function(t){var i=e(this),r=i.clone();r.children("ul,ol").remove();var r=r.html().replace(/^\s\s*/,"").replace(/\s\s*$/,""),s=i.data("invalid")?!0:!1,t={key:i.data("val")||t,value:r,invalid:s,children:null},i=i.children("ul,ol");i.length&&(t.children=h(i)),n.push(t)}),_--,n}var d,p,f=e.extend({},t.settings),m=e.extend(t.settings,n,f),f=m.layout||(/top|bottom/.test(m.display)?"liquid":""),g="liquid"==f,v=m.readonly,y=e(this),b=this.id+"_dummy",w=0,_=0,x={},k=m.wheelArray||h(y),C=function(e){var t,n=[];for(t=0;e>t;t++)n[t]=m.labels&&m.labels[t]?m.labels[t]:t;return n}(w),T=0,S=[],D=function(e){var t,n=[];t=!0;for(var i=0;t;)t=o(e),n[i++]=t.key,(t=t.children)&&(e=t);return n}(k),E=a(D,w);return e("#"+b).remove(),m.showInput&&(d=e('<input type="text" id="'+b+'" value="" class="'+m.inputClass+'" readonly />').insertBefore(y),m.anchor=d,t.attachShow(d)),m.wheelArray||y.hide().closest(".ui-field-contain").trigger("create"),{width:50,wheels:E,layout:f,headerText:!1,formatResult:function(e){return e.slice(0,T).join(" ")},parseValue:function(e){return e?e.split(" "):m.defaultValue||D},onBeforeShow:function(){var e=t.temp;S=e.slice(0),m.wheels=a(e,w,w),p=!0},onValueFill:function(e,t){d&&d.val(e),t&&y.change()},onShow:function(t){e(".dwwl",t).on("mousedown touchstart",function(){clearTimeout(x[e(".dwwl",t).index(this)])})},onDestroy:function(){d&&d.remove(),y.show()},validate:function(e,n,r){var o,l,h=[],d=t.temp,f=(n||0)+1;if(void 0!==n&&S[n]!=d[n]||void 0===n&&!p){for(m.wheels=a(d,null,n),l=u(d,void 0===n?d.length:n),T=l.lvl,o=0;o<d.length;o++)t.temp[o]=l.nVector[o]||0;for(;f<l.lvl;)h.push(f++);if(h.length)return m.readonly=s(w,n),clearTimeout(x[n]),x[n]=setTimeout(function(){p=!0,c(e,l.lvl),S=t.temp.slice(0),t.changeWheel(h,void 0===n?r:0,void 0!==n),m.readonly=v},void 0===n?0:1e3*r),!1}else l=u(d,d.length),T=l.lvl;S=d.slice(0),i(e,l.lvl,k,d),c(e,l.lvl),p=!1}}};e.each(["list","image","treelist"],function(e,n){t.presets[n]=i,t.presetShort(n)})}(jQuery),function(e){e.mobiscroll.classes.ListView=function(r,y){function b(t){"mousedown"===t.type&&t.preventDefault(),!c(t)||L||Vt||F||(j=L=!0,Mt=I=0,Nt=new Date,Ot=l(t,"X"),Ht=l(t,"Y"),z=W=0,ut=Xt.width(),ht=e(this),pt=e("li",Xt).index(ht),dt=ht.outerHeight(),ft=ht.offset().top,Xt.offset(),Qt=ht.position().top,Wt&&("group"==Wt&&(wt=ht.nextUntil(".mbsc-lv-gr-title").filter(".mbsc-lv-item"),_t=ht.prevUntil(".mbsc-lv-gr-title")),minDrag=("group"==Wt?_t.length?_t.eq(-1):ht:e(".mbsc-lv-item",Xt).eq(0)).position().top-Qt,maxDrag=("group"==Wt?wt.length?wt.eq(-1):ht:e(".mbsc-lv-item",Xt).eq(-1)).position().top-Qt,nt?e(t.target).hasClass("mbsc-lv-handle")&&(t.preventDefault(),x()):Rt=setTimeout(function(){Jt.fillAnimation&&(Z.appendTo(ht),Z[0].style[a+"Animation"]="mbsc-lv-fill "+(Jt.sortDelay-100)+"ms linear"),clearTimeout(X),j=!1,Rt=setTimeout(function(){x()},Jt.sortDelay-100)},100)),"mousedown"!=t.type)||e(document).on("mousemove.mbsc-lv",w).on("mouseup.mbsc-lv",_)}function w(e){if(L){if(J=l(e,"X"),Q=l(e,"Y"),W=J-Ot,z=Q-Ht,clearTimeout(X),G||It||Et||(10<Math.abs(z)?(Et=!0,ht.trigger("touchend")):7<Math.abs(W)?(It=N(Jt.swipe,[ht,pt,W>0?"right":"left",zt]))&&(S(),lt||(B=At+(W>0?0:1),Tt=Pt[B-1],bt=Pt[B]),ht.addClass("mbsc-lv-item-swiping"),ct.css({display:"block",top:Qt,height:dt,backgroundColor:(W>0?et:K).color||m}),Jt.iconSlide&&ht.append(ot),O("onSlideStart",[ht,pt])):X=setTimeout(function(){ht.trigger("touchend")},300)),It&&!Dt){e.preventDefault();var t=!1;lt?ct.attr("class","mbsc-lv-stage-c mbsc-lv-"+(0>I?"right":"left")):(Tt&&I<Tt.percent?(B--,bt=Tt,Tt=Pt[B],t=!0):bt&&I>bt.percent&&(B++,Tt=bt,bt=Pt[B],t=!0),t&&(Y=I>0?Tt:bt,E(Y),O("onStageChange",[ht,pt,Y]))),Dt=!0,St=h(k)}if(G){e.preventDefault();var n,t=Ut.scrollTop(),e=Math.max(minDrag,Math.min(z+Yt,maxDrag)),i=rt?ft-qt+t-Yt:ft;i+e+dt>$t+t?(Ut.scrollTop(i+e-$t+dt),n=!0):t>i+e&&(Ut.scrollTop(i+e),n=!0),n&&(n=rt?Ut.scrollTop()-t:0,Yt+=n,Bt+=n),yt&&ft+dt/2+z>yt+Bt?(Bt=0,xt.insertAfter(vt),kt=vt,vt=D(vt,"next"),Ct=yt,yt=vt.length&&vt.offset().top,$++,O("onSortChange",[ht,$])):Ct&&Ct+Bt>ft+dt/2+z&&(Bt=0,xt.insertBefore(kt),vt=kt,kt=D(kt,"prev"),yt=Ct,Ct=kt.length&&kt.offset().top+kt.outerHeight(),$--,O("onSortChange",[ht,$])),T(ht,e),O("onSort",[ht,$])}else(5<Math.abs(W)||5<Math.abs(z))&&S()}}function _(t){var n,i;L&&(L=!1,d(St),Dt=!1,S(),"mouseup"==t.type&&e(document).off(".mbsc-lv"),It?(i=!0,lt?10<Math.abs(I)&&(C(ht,0>I?-90:90,200),F=!0,R=ht,V=pt,e(document).on("touchstart.mbsc-lv-multi mousedown.mbsc-lv-multi",function(e){e.preventDefault(),H(!1)})):(Jt.quickSwipe&&(n=new Date-Nt,t=300>n&&-50>W,n=300>n&&W>50,t?(Y=K,E(Y)):n&&(Y=et,E(Y))),Y&&Y.action&&((F=N(Y.confirm,[ht,pt,zt]))?(C(ht,100*(0>I?-1:1)*ot.outerWidth(!0)/ut,200,!0),R=ht,V=pt,U=Y,e(document).on("touchstart.mbsc-lv-conf mousedown.mbsc-lv-conf",function(t){var n=!0;t.preventDefault(),(t.target===at[0]||t.target===ct[0]||t.target===jt[0])&&(n=U.action.call(Gt,R,zt,V)),P(R,n),e(document).off(".mbsc-lv-conf")})):i=Y.action.call(Gt,ht,zt,pt))),F||P(ht,i),It=!1):G?(t=xt.offset().top-ft,Vt=!0,T(ht,t+Yt,10*Math.abs(t-Math.max(minDrag,Math.min(z,maxDrag))),function(){T(ht,0),A(ht),ht.removeClass("mbsc-lv-item-dragging").insertBefore(xt),xt.remove(),Vt=!1,O("onSortStop",[ht,$]),$!==pt&&O("onSortUpdate",[ht,$])}),G=!1):!Et&&5>Math.abs(W)&&5>Math.abs(z)&&O("onItemTap",[ht,pt]),Et=!1,Y=null)}function x(){G=!0,Bt=Yt=0,$=pt,vt=D(ht,"next"),yt=vt.length&&vt.offset().top,kt=D(ht,"prev"),Ct=kt.length&&kt.offset().top+kt.outerHeight(),ht.css({top:Qt,width:ht.css("width")}).addClass("mbsc-lv-item-dragging"),xt.height(dt).insertAfter(ht),O("onSortStart",[ht,$])}function k(){C(ht,Mt+100*W/ut),Dt=!1}function C(e,t,n,i,r){t=Math.max("right"==It?0:-100,Math.min(t,"left"==It?0:100)),Lt=e[0].style,e.attr("data-pos",t),o?(r&&(I==t?r():e.on(f,function(){e.off(f),r()})),Lt[a+"Transform"]="translate3d("+(i?ut*t/100+"px":t+"%")+",0,0)",Lt[a+"Transition"]=s+"transform "+(n||0)+"ms"):(Lt.left=t+"%",r&&r()),I=t}function T(e,t,n,i){t=Math.max(minDrag,Math.min(t,maxDrag)),Lt=e[0].style,o?(Lt[a+"Transform"]="translate3d(0,"+t+"px,0)",Lt[a+"Transition"]=s+"transform "+(n||0)+"ms ease-out"):Lt.top=Qt+t+"px",i&&setTimeout(function(){i()},n)}function S(){clearTimeout(Rt),!j&&Wt&&Jt.fillAnimation&&(j=!0,Z.remove())}function D(e,t){for(e=e[t]();e.length&&(!e.hasClass("mbsc-lv-item")||e.hasClass("mbsc-lv-ph")||e.hasClass("mbsc-lv-item-dragging"));){if("group"==Wt&&e.hasClass("mbsc-lv-gr-title"))return!1;e=e[t]()}return e}function E(e){var t=N(e.text,[ht,pt,zt])||"";ct.css("background-color",e.color||(0===e.percent?(I>0?et:K).color||m:m)),ot.attr("class","mbsc-lv-ic-c mbsc-lv-ic-"+(Jt.iconSlide?"move-":"")+(0>I?"right":"left")),at.attr("class"," mbsc-lv-ic mbsc-lv-ic-"+(e.icon||"none")),jt.attr("class","mbsc-lv-ic-text"+(e.icon?"":" mbsc-lv-ic-text-only")+(t?"":" mbsc-lv-ic-only")).html(t||"&nbsp;"),Jt.animateIcons&&setTimeout(function(){at.addClass("mbsc-lv-ic-a")},10)}function P(e,t){!1!==t?C(e,0,200,!1,function(){M(e)}):M(e),F=!1}function M(e){L||(at.attr("class","mbsc-lv-ic mbsc-lv-ic-none"),ct.attr("style",""),jt.html("")),e.removeClass("mbsc-lv-item-swiping"),ct.removeClass("mbsc-lv-left").removeClass("mbsc-lv-right"),O("onSlideEnd",[e,pt])}function A(e){Lt=e[0].style,Lt[a+"Transform"]="",Lt[a+"Transition"]="",Lt.top="",Lt.width=""}function N(t,n){return e.isFunction(t)?t.apply(this,n):t}function O(t,n){var i;return n.push(zt),e.each([g,Ft,y],function(e,r){r&&r[t]&&(i=r[t].apply(Gt,n))}),i}function H(t){var n=!0;e(document).off(".mbsc-lv-multi"),lt=0>I?gt:mt,F&&t&&(n=lt[e(t).index()].action.call(Gt,R,zt,V)),P(R,n)}var L,I,j,F,R,V,U,$,Y,B,q,W,z,G,X,J,Q,Z,K,et,tt,nt,it,rt,st,at,ot,lt,ct,ut,ht,dt,pt,ft,mt,gt,vt,yt,bt,wt,_t,xt,kt,Ct,Tt,St,Dt,Et,Pt,Mt,At,Nt,Ot,Ht,Lt,It,jt,Ft,Rt,Vt,Ut,$t,Yt,Bt,qt,Wt,zt=this,Gt=r,Xt=e(Gt),Jt=t({},v,g),Qt=0;zt.animate=function(e,t,n){n=n||u,o&&Jt.animation?(Vt=!0,e.addClass("mbsc-lv-item-"+t).on(p,function(){e.removeClass("mbsc-lv-item-"+t).off(p),n.call(Gt,e),Vt=!1})):n.call(Gt,e)},zt.add=function(t,n,i,r){var s=e("li",Xt).length,t="object"!=typeof n?e('<li data-id="'+t+'" class="mbsc-lv-item">'+n+"</li>"):n,r=r||u;nt&&Wt&&t.append(st),0!==i&&s?i&&s>i?e("li",Xt).eq(i).before(t):e("li",Xt).eq(s-1).after(t):Xt.prepend(t),zt.animate(t.height(t.outerHeight()),"expand",function(e){zt.animate(e.height(""),"add",function(e){r.call(Gt,e)})}),O("onItemAdd",[t])},zt.remove=function(t,n,i){i=i||u,"object"!=typeof t&&(t=e('li[data-id="'+t+'"]',Xt)),t.length&&(n=n||0>t.attr("data-pos")?"left":"right",zt.animate(t,"remove-"+n,function(e){zt.animate(e.height(e.outerHeight()),"collapse",function(e){e.height("").remove(),i.call(Gt,e)})}),O("onItemRemove",[t]))},zt.move=function(t,n,i,r){e("li",Xt).index(t)!==n&&(ct.append(ot),zt.remove(t,i,function(e){C(ht,0),A(e),zt.add(null,e,n,r)}))},zt.init=function(i){var r=0,s=!1,a=r="",c="";if(Ft=n.themes.listview[i.theme||Jt.theme],t(y,i),t(Jt,Ft,g,y),zt.settings=Jt,Pt=Jt.stages.slice(0),Wt=Jt.sort||Jt.sortable,nt=Jt.sortHandle,it="left"==nt?"left":"right",lt=Jt.actions?Jt.actions.left||Jt.actions:"",st='<div class="mbsc-lv-handle-c mbsc-lv-item-h-'+it+' mbsc-lv-handle"><div class="'+Jt.handleClass+' mbsc-lv-handle-bar-c mbsc-lv-handle">'+Jt.handleMarkup+"</div></div>",lt){for(mt=lt,gt=Jt.actions.right||lt,r=0;r<lt.length;++r)a=c+='<div class="mbsc-lv-ic-m mbsc-lv-ic-'+lt[r].icon+'"></div>',e.isArray(Jt.actions)||(Jt.swipe=Jt.actions.right?Jt.swipe:"right");if(Jt.actions.right){for(c="",r=0;r<Jt.actions.right.length;++r)c+='<div class="mbsc-lv-ic-m mbsc-lv-ic-'+Jt.actions.right[r].icon+'"></div>';Jt.swipe=Jt.actions.left?Jt.swipe:"left"}r='<div class="mbsc-lv-multi-c"><div class="mbsc-lv-multi mbsc-lv-multi-ic-left">'+a+'</div><div class="mbsc-lv-multi mbsc-lv-multi-ic-right">'+c+"</div></div>"}Xt.addClass("mbsc-lv mbsc-lv-"+Jt.theme+(Jt.animateIcons?" mbsc-lv-ic-anim":"")+(o?"":" mbsc-lv-no3d")).append('<div class="mbsc-lv-stage-c">'+(lt?r:'<div class="mbsc-lv-ic-c"><div class="mbsc-lv-ic mbsc-lv-ic-none"></div><div class="mbsc-lv-ic-text"></div></div>')+"</div>").show().find("li").addClass("mbsc-lv-item"),e('li[data-role="list-divider"]',Xt).removeClass("mbsc-lv-item").addClass("mbsc-lv-gr-title"),jt=e(".mbsc-lv-ic-text",Xt),ct=e(".mbsc-lv-stage-c",Xt),ot=e(".mbsc-lv-ic-c",Xt),at=e(".mbsc-lv-ic",Xt),xt=e('<li class="mbsc-lv-item mbsc-lv-ph"></li>'),Z=e('<div class="mbsc-lv-fill-item"></div>'),rt="body"!==Jt.context,Ut=e(rt?Jt.context:window),nt&&Wt&&Xt.addClass("mbsc-lv-handle-"+it).find(".mbsc-lv-item").append(st),Ut.on("orientationchange.mbsc-lv resize.mbsc-lv",function(){clearTimeout(q),q=setTimeout(function(){$t=Ut[0].innerHeight||Ut.innerHeight(),qt=rt?Ut.offset().top:0,L&&(Qt=ht.position().top,dt=ht.outerHeight(),ct.css({top:Qt,height:dt}))},200)}).trigger("resize.mbsc-lv"),Xt.on("touchstart.mbsc-lv mousedown.mbsc-lv",".mbsc-lv-item",b).on("touchmove.mbsc-lv",".mbsc-lv-item",w).on("touchend.mbsc-lv touchcancel.mbsc-lv",".mbsc-lv-item",_),e(".mbsc-lv-ic-m",Xt).on("touchstart mousedown",function(e){e.stopPropagation(),e.preventDefault(),Ot=l(e,"X"),Ht=l(e,"Y")}).on("touchend",function(e){20>Math.abs(l(e,"X")-Ot)&&20>Math.abs(l(e,"Y")-Ht)&&H(this),s=!0}),e(".mbsc-lv-ic-m",Xt).click(function(e){e.preventDefault(),s||H(this)}),Pt.length||(Jt.swipeleft&&Pt.push({percent:-30,action:Jt.swipeleft}),Jt.swiperight&&Pt.push({percent:30,action:Jt.swiperight})),tt=!1,e.each(Pt,function(e,t){return 0===t.percent?(tt=!0,!1):void 0}),tt||Pt.push({percent:0}),Pt.sort(function(e,t){return e.percent-t.percent}),e.each(Pt,function(e,t){return 0===t.percent?(At=e,!1):void 0}),tt?K=et=Pt[At]:(K=Pt[At-1]||{},et=Pt[At+1]||{}),O("onInit",[])},zt.destroy=function(){Xt.off(".mbsc-lv").removeClass("mbsc-lv mbsc-lv-ic-anim mbsc-lv-"+Jt.theme).find("li").removeClass("mbsc-lv-item"),ct.remove(),delete i[Gt.id],Ut.off(".mbsc-lv")},zt.getInst=function(){return zt},i[Gt.id]=zt,zt.init(y)};var t=e.extend,n=e.mobiscroll,i=n.instances,r=n.util,s=r.prefix,a=r.jsPrefix,o=r.has3d,l=r.getCoord,c=r.testTouch,u=function(){},h=window.requestAnimationFrame||function(e){e()},d=window.cancelAnimationFrame||u,p="webkitAnimationEnd animationend",f="webkitTransitionEnd transitionend",m="transparent",g=n.userdef,v=t(n.defaults,{theme:"default",sortDelay:250,swipe:!0,quickSwipe:!0,animateIcons:!0,fillAnimation:!0,animation:!0,revert:!0,context:"body",handleClass:"",handleMarkup:'<div class="mbsc-lv-handle-bar mbsc-lv-handle"></div><div class="mbsc-lv-handle-bar mbsc-lv-handle"></div><div class="mbsc-lv-handle-bar mbsc-lv-handle"></div>',stages:[]});n.themes.listview={},n.presetShort("listview","ListView")}(jQuery),function(e){var t=e.mobiscroll,n=t.util.testTouch,i={};t.i18n.en=e.extend(t.i18n.en,{fromText:"Start",toText:"End"}),t.presetShort("rangepicker"),t.presets.rangepicker=function(r){function s(e,t){e&&(e.setFullYear(t.getFullYear()),e.setMonth(t.getMonth()),e.setDate(t.getDate()))}function a(){o.removeClass("dw-sel").removeAttr("aria-checked").find(".dw-dr",c).removeClass(P),o=e(".dw-dr-c",c).eq(C).addClass("dw-sel").attr("aria-checked","true"),o.find(".dw-dr").addClass(P)}var o,l,c,u,h,d,p,f,m,g,v,y,b,w,_,x,k,C=0;d=new Date;var T=e.extend({},r.settings),S=e.extend(r.settings,i,T),D=S.anchor,E=S.rangeTap,P=S.activeClass||"",M=E?"":"dw-cal-day-hl",A=S.defaultValue||[new Date(d.setHours(0,0,0,0)),new Date(d.getFullYear(),d.getMonth(),d.getDate()+6,23,59,59,999)];return E&&(S.tabs=!0),d=e.mobiscroll.presets.calbase.call(this,r),l=e.extend({},d),h=r.format,_="time"===S.controls.join(""),S.startInput&&(x=e(S.startInput).prop("readonly"),r.attachShow(e(S.startInput).prop("readonly",!0),function(){C=0,S.anchor=D||e(S.startInput)})),S.endInput&&(k=e(S.endInput).prop("readonly"),r.attachShow(e(S.endInput).prop("readonly",!0),function(){C=1,S.anchor=D||e(S.endInput)})),r._setValue||(r._setValue=r.setValue),r.setValue=function(e,n,i,s,a){var o=e;(void 0===e[0]||null===e[0]||e[0].getTime)&&(f=!0,g=(b=e[0])?t.formatDate(h,b,S):"",C||(o=l.parseValue(g,r))),(void 0===e[1]||null===e[1]||e[1].getTime)&&(f=!0,y=(w=e[1])?t.formatDate(h,w,S):"",C&&(o=l.parseValue(y,r))),s||(m=b,v=w),r._setValue.call(this,o,n,i,s,a)},r.getValue=function(e){return e?[b,w]:[m,v]},r.getDayProps=function(e){var t=b?new Date(b.getFullYear(),b.getMonth(),b.getDate()):null,n=w?new Date(w.getFullYear(),w.getMonth(),w.getDate()):b;return{selected:t&&e>=t&&w>=e,cssClass:!C&&t&&t.getTime()===e.getTime()||C&&n&&n.getTime()===e.getTime()?M:""}},r.setActiveDate=function(t){t=(C="start"==t?0:1)?w:b,r.isVisible()&&(a(),e(".dw-cal-table .dw-sel",c).removeClass(M),t&&(e('.dw-cal-day[data-full="'+t.getFullYear()+"-"+t.getMonth()+"-"+t.getDate()+'"]',c).addClass(M),p=!0,r.setDate(t,!1,.2,!0)))},e.extend(d,{highlight:!1,divergentDayChange:!1,formatResult:function(){return g+(S.endInput?"":y?" - "+y:"")},parseValue:function(n){return n=n.split(" - "),S.defaultValue=A[1],v=S.endInput?e(S.endInput).val()?t.parseDate(h,e(S.endInput).val(),S):A[1]:n[1]?t.parseDate(h,n[1],S):A[1],S.defaultValue=A[0],m=S.startInput?e(S.startInput).val()?t.parseDate(h,e(S.startInput).val(),S):A[0]:n[0]?t.parseDate(h,n[0],S):A[0],S.defaultValue=A[C],g=m?t.formatDate(h,m,S):"",y=v?t.formatDate(h,v,S):"",l.parseValue(C?y:g,r)},onValueFill:function(t,n){m=b,v=w,S.startInput&&(e(S.startInput).val(g),n&&e(S.startInput).change()),S.endInput&&(e(S.endInput).val(y),n&&e(S.endInput).change())},onClose:function(e,t){l.onClose.call(this,e,t),C=0,S.anchor=D},onClear:function(){r.setValue([])},onBeforeShow:function(){S.headerText=!1,b=m,w=v,S.counter&&(S.headerText=function(){return Math.round((new Date(w).setHours(0,0,0,0)-new Date(b).setHours(0,0,0,0))/864e5)+1+" "+S.selectedText}),p=!0,(C&&v||!C&&m)&&r.setDate(C?v:m)},onMarkupReady:function(i){var s;c=i,b&&(p=!0,r.setDate(b,!1,0,!0),b=r.getDate(!0)),w&&(p=!0,r.setDate(w,!1,0,!0),w=r.getDate(!0)),p=!0,r.setDate(C?w:b,!1,0,!0),g=t.formatDate(h,b,S),y=t.formatDate(h,w,S),l.onMarkupReady.call(this,i),i.addClass("dw-rangepicker"),s='<div class="dw-dr-t" role="radiogroup"><div class="dw-dr-c dw-dr0"><a href="#" role="radio" class="dwb-e dwb-nhl dw-i dw-dr">'+S.fromText+'<div class="dw-drv dw-drv0">'+(g||"&nbsp;")+'</div></a></div><div class="dw-dr-c dw-dr1"><a href="#" role="radio" class="dwb-e dwb-nhl dw-i dw-dr">'+S.toText+'<div class="dw-drv dw-drv1">'+(y||"&nbsp;")+"</div></a></div></div>",e(".dw-cal-tabs",i).before(s),o=e(".dw-dr"+C,i).addClass("dw-sel").attr("aria-checked","true"),o.find(".dw-dr").addClass(P),setTimeout(function(){e(".dw-dr-c",i).on("touchstart click",function(t){if(!E||E&&"calendar"!==e(".dw-cal-tab.dw-sel",c).attr("data-control")){var i=e(this);n(t)&&!i.hasClass("dw-sel")&&r.setActiveDate(i.index()?"end":"start")}})},300)},onDayChange:function(){u=!0},onSetDate:function(){if(!p){var n,i,o,d=0;for(l.formatResult.call(this,r.temp),n=r.getDate(!0),(!f||u)&&(E&&u&&1==C&&b>n&&(C=0),C?(w=w?n:new Date(n.setHours(23,59,59,999)),y=t.formatDate(h,w,S),b=b||w,g=g||y):(b=b?n:new Date(n.setHours(0,0,0,0)),g=t.formatDate(h,b,S)),_&&(s(b,n),s(w,n)),E&&u?(0==C?(C=1,w=null,y=""):(C=0,p=!0,r.setDate(b,!1,0,!0)),a()):b>w&&(C?(b=new Date(w),g=t.formatDate(h,b,S)):(w=new Date(b),y=t.formatDate(h,w,S)))),e(".dw-drv0",c).html(g||"&nbsp;"),e(".dw-drv1",c).html(y||"&nbsp;"),n=new Date(b),i=new Date(w||b),o=C?i:n,e(".dw-cal-table .dw-sel .dw-i",c).removeClass(P),e(".dw-cal-table .dw-sel",c).removeClass("dw-sel "+M).removeAttr("aria-selected"),e('.dw-cal-day[data-full="'+o.getFullYear()+"-"+o.getMonth()+"-"+o.getDate()+'"]',c).addClass(M);i>=n&&84>d;)e('.dw-cal-day[data-full="'+o.getFullYear()+"-"+o.getMonth()+"-"+o.getDate()+'"]',c).addClass("dw-sel").attr("aria-selected","true").find(".dw-i ").addClass(P),o.setDate(o.getDate()+(C?-1:1)),d++}p=f=u=!1},onDestroy:function(){e(S.startInput).prop("readonly",x),e(S.endInput).prop("readonly",k)}}),d}}(jQuery),function(e){var t={inputClass:"",invalid:[],rtl:!1,showInput:!0,group:!1,groupLabel:"Groups"};e.mobiscroll.presetShort("select"),e.mobiscroll.presets.select=function(n){function i(){var t,n=0,i=[],r=[],s=[[]];return y.group?(y.rtl&&(n=1),e("optgroup",w).each(function(t){i.push(e(this).attr("label")),r.push(t)}),t={values:i,keys:r,label:y.groupLabel},b?s[0][n]=t:s[n]=[t],t=u,n+=y.rtl?-1:1):t=w,i=[],r=[],e("option",t).each(function(){var t=e(this).attr("value");i.push(e(this).text()),r.push(t),e(this).prop("disabled")&&T.push(t)}),t={values:i,keys:r,label:C},b?s[0][n]=t:s[n]=[t],s}function r(){p=_?w.val()?w.val()[0]:e("option",w).attr("value"):w.val(),y.group&&(u=w.find('option[value="'+p+'"]').parent(),f=c=u.index())}function s(e,t,i){var r=[];if(_){var e=[],s=0;for(s in n._selectedValues)e.push(D[s]),r.push(s);h.val(e.join(", "))}else h.val(e),r=t?n.values[d]:null;t&&(w.val(r),i&&(m=!0,w.change()))}function a(e){if(_&&e.hasClass("dw-v")&&e.closest(".dw").find(".dw-ul").index(e.closest(".dw-ul"))==d){var t=e.attr("data-val");return e.hasClass("dw-msel")?(e.removeClass("dw-msel").removeAttr("aria-selected"),delete n._selectedValues[t]):(e.addClass("dw-msel").attr("aria-selected","true"),n._selectedValues[t]=t),n.live&&s(t,!0,!0),!1}}var o,l,c,u,h,d,p,f,m,g,v=e.extend({},n.settings),y=e.extend(n.settings,t,v),v=y.layout||(/top|bottom/.test(y.display)?"liquid":""),b="liquid"==v,w=e(this),_=w.prop("multiple"),x=this.id+"_dummy";e('label[for="'+this.id+'"]').attr("for",x);var k=e('label[for="'+x+'"]'),C=void 0!==y.label?y.label:k.length?k.text():w.attr("name"),T=[],S=[],D={},E=y.readonly;for(y.group&&!e("optgroup",w).length&&(y.group=!1),y.invalid.length||(y.invalid=T),y.group?y.rtl?(l=1,d=0):(l=0,d=1):(l=-1,d=0),r(),e("#"+x).remove(),h=e('<input type="text" id="'+x+'" class="'+y.inputClass+'" readonly />'),y.showInput&&h.insertBefore(w),e("option",w).each(function(){D[e(this).attr("value")]=e(this).text()}),n.attachShow(h),x=w.val()||[],k=0;k<x.length;k++)n._selectedValues[x[k]]=x[k];return s(D[p]),w.off(".dwsel").on("change.dwsel",function(){m||n.setValue(_?w.val()||[]:[w.val()],!0),m=!1}).addClass("dw-hsel").attr("tabindex",-1).closest(".ui-field-contain").trigger("create"),n._setValue||(n._setValue=n.setValue),n.setValue=function(t,i,r,a,o){var l;if(l=e.isArray(t)?t[0]:t,p=void 0!==l?l:e("option",w).attr("value"),_)for(n._selectedValues={},l=0;l<t.length;l++)n._selectedValues[t[l]]=t[l];y.group?(u=w.find('option[value="'+p+'"]').parent(),c=u.index(),t=y.rtl?[p,c]:[c,p]):t=[p],n._setValue(t,i,r,a,o),i&&(i=_?!0:p!==w.val(),s(D[p],i,o))},n.getValue=function(e,t){var i=e?n.temp:n.values;return y.group&&t?i:i[d]},{width:50,wheels:void 0,layout:v,headerText:!1,multiple:_,anchor:h,formatResult:function(e){return D[e[d]]},parseValue:function(){var e=w.val()||[],t=0;if(_)for(n._selectedValues={},t;t<e.length;t++)n._selectedValues[e[t]]=e[t];return r(),y.group&&y.rtl?[p,c]:y.group?[c,p]:[p]},onBeforeShow:function(){_&&y.counter&&(y.headerText=function(){var t=0;return e.each(n._selectedValues,function(){t++}),t+" "+y.selectedText}),void 0===p&&r(),y.group&&(f=c,n.temp=y.rtl?[p,c]:[c,p]),y.wheels=i()},onMarkupReady:function(t){t.addClass("dw-select"),e(".dwwl"+l,t).on("mousedown touchstart",function(){clearTimeout(g)}),_&&(t.addClass("dwms"),e(".dwwl",t).on("keydown",function(t){32==t.keyCode&&(t.preventDefault(),t.stopPropagation(),a(e(".dw-sel",this)))}).eq(d).addClass("dwwms").attr("aria-multiselectable","true"),S=e.extend({},n._selectedValues))},validate:function(t,r,s){var a,h,m=e(".dw-ul",t).eq(d);if(void 0===r&&_){h=n._selectedValues,a=0,e(".dwwl"+d+" .dw-li",t).removeClass("dw-msel").removeAttr("aria-selected");for(a in h)e(".dwwl"+d+' .dw-li[data-val="'+h[a]+'"]',t).addClass("dw-msel").attr("aria-selected","true")}if(void 0===r||r===l)if(c=+n.temp[l],c!==f){if(u=w.find("optgroup").eq(c),p=(p=u.find("option").eq(0).val())||w.val(),y.wheels=i(),y.group&&!o)return n.temp=y.rtl?[p,c]:[c,p],y.readonly=[y.rtl,!y.rtl],clearTimeout(g),g=setTimeout(function(){o=!0,f=c,n.changeWheel([d],void 0,!0),y.readonly=E},1e3*s),!1}else y.readonly=E;else p=n.temp[d];e.each(y.invalid,function(t,n){e('.dw-li[data-val="'+n+'"]',m).removeClass("dw-v")}),o=!1},onClear:function(t){n._selectedValues={},h.val(""),e(".dwwl"+d+" .dw-li",t).removeClass("dw-msel").removeAttr("aria-selected")},onValueTap:a,onSelect:function(e){s(e,!0,!0)},onCancel:function(){!n.live&&_&&(n._selectedValues=e.extend({},S))},onChange:function(e){n.live&&!_&&(h.val(e),m=!0,w.val(n.temp[d]).change())},onDestroy:function(){h.remove(),w.removeClass("dw-hsel").removeAttr("tabindex")}}}}(jQuery);var Backbone=Backbone||{View:{},Model:{}},mobiscroll=mobiscroll||{};!function(){function e(e,t,n){if(!_.isUndefined(t[n])){var i=e[n];e[n]=function(){var e=i.apply(this,arguments);return t[n].apply(this,arguments),e}}}Backbone.View.addControl=function(t){var n=this.prototype;_.isArray(t)?_.forEach(t,function(t){_.defaults(n,t),_.defaults(n.events,t.events),e(n,t,"initialize"),e(n,t,"render")},this):(_.defaults(n,t),_.defaults(n.events,t.events),e(n,t,"initialize"),e(n,t,"render"))},mobiscroll.getComponentMixin=function(e,t,n,i,r,s){r=r||function(e,t,n){t=n.$el.find(t).mobiscroll("getInst"),n.model.set(e,t.val)},s=s||function(e,t,n){e=n.model.get(e),void 0!=e&&n.$el.find(t).mobiscroll("setValue",e,!0,0,!1,!1)},void 0===i&&(i=!0);var a={};i&&(a["change "+t]=e+"_changeTrigger");var o=!1,i={events:a,initialize:function(){this.model.on("change:"+e,function(){o||s(e,t,this)},this)},render:function(){this.$el.find(t).mobiscroll(n),s(e,t,this)}};return i[e+"_changeTrigger"]=function(){o=!0,r(e,t,this),o=!1},i}}(),function(e){function t(e,t,n){var t=n.$el.find(t),i=t.mobiscroll("getInst");t.mobiscroll("setEvents",n.model.get(e)),t.val(i.val)}function n(e,t,n){var t=n.$el.find(t),i=t.mobiscroll("getInst");i.settings.multiSelect||"week"==i.settings.selectType?n.model.set(e,t.mobiscroll("getValues")):n.model.set(e,t.mobiscroll("getDate"))}function i(e,t,n){var t=n.$el.find(t),i=t.mobiscroll("getInst");(e=n.model.get(e))&&(i.settings.multiSelect||"week"==i.settings.selectType?(t.mobiscroll("setValues",e),e.length&&t.mobiscroll("setDate",e[0])):t.mobiscroll("setDate",e),t.val(i.val))}mobiscroll.calendar=function(t,r,s,a){return s=s||{},e.extend(s,{preset:"calendar"}),mobiscroll.getComponentMixin(t,r,s,a,n,i)},mobiscroll.calendarEvents=function(n,i,r,s){return r=r||{},e.extend(r,{preset:"calendar",events:[]}),mobiscroll.getComponentMixin(n,i,r,s,void 0,t)}}(jQuery),function(e){function t(e,t,n){n.model.set(e,n.$el.find(t).mobiscroll("getDate"))}function n(e,t,n){n.$el.find(t).mobiscroll("setDate",n.model.get(e),!0,0,!1,!1)}mobiscroll.date=function(i,r,s,a){return s=s||{},e.extend(s,{preset:"date"}),mobiscroll.getComponentMixin(i,r,s,a,t,n)},mobiscroll.time=function(i,r,s,a){return s=s||{},e.extend(s,{preset:"time"}),mobiscroll.getComponentMixin(i,r,s,a,t,n)},mobiscroll.datetime=function(i,r,s,a){return s=s||{},e.extend(s,{preset:"datetime"}),mobiscroll.getComponentMixin(i,r,s,a,t,n)}}(jQuery),function(e){mobiscroll.list=function(t,n,i,r){return i=i||{},e.extend(i,{preset:"list"}),mobiscroll.getComponentMixin(t,n,i,r)
}}(jQuery),function(){mobiscroll.listview=function(e,t,n,i){return n=n||{},{initialize:function(){var n=this.model.get(e);n.on("add",function(e,n){var r=i.html(),r=_.template(r,e.toJSON()),s=1==n.length?0:void 0;this.$el.find(t).mobiscroll("add",n.length,r,s)},this),n.on("remove",function(e,n,i){this.$el.find(t).mobiscroll("remove",this.$el.find(t).find("li:eq("+i.index+")"))},this)},render:function(){this.$el.find(t).data("view-model",this.model);var r="",s="<li>"+i.html()+"</li>";this.model.get(e).forEach(function(e){r+=_.template(s,e.toJSON())},this),this.$el.find(t).html(r),this.$el.find(t).mobiscroll().listview(n)}}}}(jQuery),function(e){function t(e,t,n){n.model.set(e,n.$el.find(t).mobiscroll("getValue"))}mobiscroll.rangepicker=function(n,i,r,s){return r=r||{},e.extend(r,{preset:"rangepicker"}),mobiscroll.getComponentMixin(n,i,r,s,t)}}(jQuery),function(e){function t(e,t,n){t=n.$el.find(t),t=t.mobiscroll(t.attr("multiple")?"getValues":"getValue"),n.model.set(e,t)}mobiscroll.select=function(n,i,r,s){return r=r||{},e.extend(r,{preset:"select"}),mobiscroll.getComponentMixin(n,i,r,s,t)}}(jQuery),define("mobiscroll",function(e){return function(){var t;return t||e.mobiscroll}}(this)),define("collection-view",["thorax"],function(e){return e.CollectionView.extend({})}),define("hbs!templates/list",["handlebars"],function(e){return e.template(function(e,t,n,i,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var s,a,o=n.helperMissing,l=this.escapeExpression;return a={hash:{tag:"ul","class":"table-view"},data:r},l((s=n.collection||t.collection,s?s.call(t,a):o.call(t,"collection",a)))})}),define("hbs!templates/list-item",["handlebars"],function(e){return e.template(function(e,t,n,i,r){function s(e,t){var i,r,s="";return s+='\n	  	<div class="'+h((i=e.category,i=null==i||i===!1?i:i.name,typeof i===u?i.apply(e):i))+"__bg "+h((i=e.category,i=null==i||i===!1?i:i.name,typeof i===u?i.apply(e):i))+'-l__bg">\n		    <div class="media-object__container">\n			    <div class="'+h((i=e.category,i=null==i||i===!1?i:i.name,typeof i===u?i.apply(e):i))+" "+h((i=e.category,i=null==i||i===!1?i:i.name,typeof i===u?i.apply(e):i))+'__center"></div>\n				<h2>'+h((i=e.category,i=null==i||i===!1?i:i.name,typeof i===u?i.apply(e):i))+'</h2>\n		    </div>\n	  	</div>\n\n	    <div class="media-body">\n	    	<div class="media-body__wrap">\n	    		<p>',(r=n.subject)?r=r.call(e,{hash:{},data:t}):(r=e.subject,r=typeof r===u?r.apply(e):r),s+=h(r)+'</p>\n	    	</div>\n	    </div>\n      	<div class="media-object__postdate">\n      		',(r=n.modified_at)?r=r.call(e,{hash:{},data:t}):(r=e.modified_at,r=typeof r===u?r.apply(e):r),s+=h(r)+"\n      	</div>\n  	"}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var a,o,l,c="",u="function",h=this.escapeExpression,d=this,p=n.helperMissing;return c+='<li id="',(a=n.id)?a=a.call(t,{hash:{},data:r}):(a=t.id,a=typeof a===u?a.apply(t):a),c+=h(a)+'" class="">\n  	',l={hash:{"expand-tokens":!0,"class":"navigate-right media-object-cat__bg"},inverse:d.noop,fn:d.program(1,s,r),data:r},a=n.link||t.link,o=a?a.call(t,"detail/{{id}}",l):p.call(t,"link","detail/{{id}}",l),(o||0===o)&&(c+=o),c+="\n</li>\n"})}),define("hbs!templates/list-empty",["handlebars"],function(e){return e.template(function(e,t,n,i,r){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{},"<h1>Home Page home/home's subview home/list has an empty collection..</h1>"})}),define("views/list",["underscore","mobiscroll","collection-view","hbs!templates/list","hbs!templates/list-item","hbs!templates/list-empty"],function(e,t,n,i,r,s){return n.extend({name:"list",template:i,itemTemplate:r,emptyTemplate:s,className:"content",events:{"rendered:collection":function(t){console.debug('Event "rendered:collection"');var n=this;return e.delay(function(){t.$("ul").mobiscroll().listview({theme:"ios7",swipe:"left",stages:[{percent:-30,color:"grey",icon:"share",action:function(e){var t,i,r,s,a,o;return event.preventDefault(),o=n.$(e).model(),console.log(o),t=o.get("information"),r="Important alert from the HeadsUp Huntington Mobile App: \n"+t,a=o.get("subject"),s="Just received via Heads Up Huntington, "+a,i={title:s,text:r,url:"http://headsupapp.io/feed/"+o.get("id")+"/"},window.socialmessage.send(i),!1}}]})},0),!1}}})}),define("hbs!templates/home",["handlebars"],function(e){return e.template(function(e,t,n,i,r){function s(){return'\n	<a class="icon icon-bars pull-left" data-toggle="aside"></a>\n    <h1 class="title">Heads Up</h1>\n'}function a(){return"List View"}function o(){return"Map View"}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var l,c,u,h="",d=this,p=n.helperMissing,f=this.escapeExpression;return h+='\n\n\n<a class="overlay"></a>\n\n',u={hash:{tag:"header",className:"bar bar-nav"},inverse:d.noop,fn:d.program(1,s,r),data:r},l=n.view||t.view,c=l?l.call(t,"header",u):p.call(t,"view","header",u),(c||0===c)&&(h+=c),h+='\n\n<div class="bar bar-standard bar-header-secondary" data-multilevel="2">\n	<div class="segmented-control">\n		',u={hash:{"expand-tokens":!0,"class":"control-item active"},inverse:d.noop,fn:d.program(3,a,r),data:r},l=n.link||t.link,c=l?l.call(t,"",u):p.call(t,"link","",u),(c||0===c)&&(h+=c),h+="\n		",u={hash:{"expand-tokens":!0,"class":"control-item"},inverse:d.noop,fn:d.program(5,o,r),data:r},l=n.link||t.link,c=l?l.call(t,"map",u):p.call(t,"link","map",u),(c||0===c)&&(h+=c),h+="\n  	</div>\n</div>\n	\n",u={hash:{},data:r},h+=f((l=n.view||t.view,l?l.call(t,t.collectionView,u):p.call(t,"view",t.collectionView,u)))})}),define("views/home",["anim-view","views/list","hbs!templates/home"],function(e,t,n){return e.extend({name:"home",template:n,animateIn:"fadeIn",animateOut:"bounceOutLeft",collectionView:null,events:{"click a.overlay.mask":function(e){var t=this.children[this.$("header").data("view-cid")];return t.toggleSettings(e),!1}},initialize:function(){return this.collectionView=new t({collection:this.collection}),this.$el.attr("data-effeckt-page","home"),this.$el.attr("data-view-persist","true"),this},beforeRender:function(){return console.log(this.getViewName()+"#beforeRender()"),this.$el.addClass("effeckt-page-active"),this},beforeNextViewLoads:function(){return console.log(this.getViewName()+"#beforeNextViewLoads() helper called"),this.$el.removeClass("effeckt-page-active"),this}})}),define("view",["thorax"],function(e){return e.View.extend({})}),function(){var e,t,n,i,r,s,a=[].slice;n=function(e){var t,i;return!_.isObject(e)||_.isFunction(e)?e:e instanceof Backbone.Collection||e instanceof Backbone.Model?e:_.isDate(e)?new Date(e.getTime()):_.isRegExp(e)?new RegExp(e.source,e.toString().replace(/.*\//,"")):(i=_.isArray(e||_.isArguments(e)),t=function(e,t,r){return i?e.push(n(t)):e[r]=n(t),e},_.reduce(e,t,i?[]:{}))},s=function(e){return null==e?!1:!(e.prototype!=={}.prototype&&e.prototype!==Object.prototype||!_.isObject(e)||_.isArray(e)||_.isFunction(e)||_.isDate(e)||_.isRegExp(e)||_.isArguments(e))},t=function(e){return _.filter(_.keys(e),function(t){return s(e[t])})},e=function(e){return _.filter(_.keys(e),function(t){return _.isArray(e[t])})},r=function(n,i,s){var a,o,l,c,u,h,d,p,f,m;if(null==s&&(s=20),0>=s)return console.warn("_.deepExtend(): Maximum depth of recursion hit."),_.extend(n,i);for(h=_.intersection(t(n),t(i)),o=function(e){return i[e]=r(n[e],i[e],s-1)},d=0,f=h.length;f>d;d++)u=h[d],o(u);for(c=_.intersection(e(n),e(i)),a=function(e){return i[e]=_.union(n[e],i[e])},p=0,m=c.length;m>p;p++)l=c[p],a(l);return _.extend(n,i)},i=function(){var e,t,i,s;if(i=2<=arguments.length?a.call(arguments,0,s=arguments.length-1):(s=0,[]),t=arguments[s++],_.isNumber(t)||(i.push(t),t=20),i.length<=1)return i[0];if(0>=t)return _.extend.apply(this,i);for(e=i.shift();i.length>0;)e=r(e,n(i.shift()),t);return e},_.mixin({deepClone:n,isBasicObject:s,basicObjects:t,arrays:e,deepExtend:i})}.call(this),function(e){"function"==typeof define&&define.amd?define("deepmodel",["underscore","backbone"],e):e(_,Backbone)}(function(e,t){function n(t){var i={},r=a.keyPathSeparator;for(var s in t){var o=t[s];if(o&&o.constructor===Object&&!e.isEmpty(o)){var l=n(o);for(var c in l){var u=l[c];i[s+r+c]=u}}else i[s]=o}return i}function i(t,n,i){for(var r=a.keyPathSeparator,s=n.split(r),o=t,l=0,c=s.length;c>l;l++){if(i&&!e.has(o,s[l]))return!1;if(o=o[s[l]],null==o&&c-1>l&&(o={}),"undefined"==typeof o)return i?!0:o}return i?!0:o}function r(t,n,i,r){r=r||{};for(var s=a.keyPathSeparator,o=n.split(s),l=t,c=0,u=o.length;u>c&&void 0!==l;c++){var h=o[c];c===u-1?r.unset?delete l[h]:l[h]=i:("undefined"!=typeof l[h]&&e.isObject(l[h])||(l[h]={}),l=l[h])}}function s(e,t){r(e,t,null,{unset:!0})}var a=t.Model.extend({constructor:function(t,n){var i,r=t||{};this.cid=e.uniqueId("c"),this.attributes={},n&&n.collection&&(this.collection=n.collection),n&&n.parse&&(r=this.parse(r,n)||{}),(i=e.result(this,"defaults"))&&(r=e.deepExtend({},i,r)),this.set(r,n),this.changed={},this.initialize.apply(this,arguments)},toJSON:function(){return e.deepClone(this.attributes)},get:function(e){return i(this.attributes,e)},set:function(t,o,l){var c,u,h,d,p,f,m,g;if(null==t)return this;if("object"==typeof t?(u=t,l=o||{}):(u={})[t]=o,l||(l={}),!this._validate(u,l))return!1;h=l.unset,p=l.silent,d=[],f=this._changing,this._changing=!0,f||(this._previousAttributes=e.deepClone(this.attributes),this.changed={}),g=this.attributes,m=this._previousAttributes,this.idAttribute in u&&(this.id=u[this.idAttribute]),u=n(u);for(c in u)o=u[c],e.isEqual(i(g,c),o)||d.push(c),e.isEqual(i(m,c),o)?s(this.changed,c):r(this.changed,c,o),h?s(g,c):r(g,c,o);if(!p){d.length&&(this._pending=!0);for(var v=a.keyPathSeparator,y=0,b=d.length;b>y;y++){var t=d[y];this.trigger("change:"+t,this,i(g,t),l);for(var w=t.split(v),_=w.length-1;_>0;_--){var x=e.first(w,_).join(v),k=x+v+"*";this.trigger("change:"+k,this,i(g,x),l)}}}if(f)return this;if(!p)for(;this._pending;)this._pending=!1,this.trigger("change",this,l);return this._pending=!1,this._changing=!1,this},clear:function(t){var i={},r=n(this.attributes);for(var s in r)i[s]=void 0;return this.set(i,e.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!e.isEmpty(this.changed):void 0!==i(this.changed,t)},changedAttributes:function(t){if(!t)return this.hasChanged()?n(this.changed):!1;var i=this._changing?this._previousAttributes:this.attributes;t=n(t),i=n(i);var r,s=!1;for(var a in t)e.isEqual(i[a],r=t[a])||((s||(s={}))[a]=r);return s},previous:function(e){return null!=e&&this._previousAttributes?i(this._previousAttributes,e):null},previousAttributes:function(){return e.deepClone(this._previousAttributes)}});return a.keyPathSeparator=".",t.DeepModel=a,"undefined"!=typeof module&&(module.exports=a),t}),function(e){function t(){try{return o in e&&e[o]}catch(t){return!1}}function n(e){return function(){var t=Array.prototype.slice.call(arguments,0);t.unshift(r),c.appendChild(r),r.addBehavior("#default#userData"),r.load(o);var n=e.apply(s,t);return c.removeChild(r),n}}function i(e){return e.replace(/^d/,"___$&").replace(d,"___")}var r,s={},a=e.document,o="localStorage",l="script";if(s.disabled=!1,s.set=function(){},s.get=function(){},s.remove=function(){},s.clear=function(){},s.transact=function(e,t,n){var i=s.get(e);null==n&&(n=t,t=null),"undefined"==typeof i&&(i=t||{}),n(i),s.set(e,i)},s.getAll=function(){},s.forEach=function(){},s.serialize=function(e){return JSON.stringify(e)},s.deserialize=function(e){if("string"!=typeof e)return void 0;try{return JSON.parse(e)}catch(t){return e||void 0}},t())r=e[o],s.set=function(e,t){return void 0===t?s.remove(e):(r.setItem(e,s.serialize(t)),t)},s.get=function(e){return s.deserialize(r.getItem(e))},s.remove=function(e){r.removeItem(e)},s.clear=function(){r.clear()},s.getAll=function(){var e={};return s.forEach(function(t,n){e[t]=n}),e},s.forEach=function(e){for(var t=0;t<r.length;t++){var n=r.key(t);e(n,s.get(n))}};else if(a.documentElement.addBehavior){var c,u;try{u=new ActiveXObject("htmlfile"),u.open(),u.write("<"+l+">document.w=window</"+l+'><iframe src="/favicon.ico"></iframe>'),u.close(),c=u.w.frames[0].document,r=c.createElement("div")}catch(h){r=a.createElement("div"),c=a.body}var d=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g");s.set=n(function(e,t,n){return t=i(t),void 0===n?s.remove(t):(e.setAttribute(t,s.serialize(n)),e.save(o),n)}),s.get=n(function(e,t){return t=i(t),s.deserialize(e.getAttribute(t))}),s.remove=n(function(e,t){t=i(t),e.removeAttribute(t),e.save(o)}),s.clear=n(function(e){var t=e.XMLDocument.documentElement.attributes;e.load(o);for(var n,i=0;n=t[i];i++)e.removeAttribute(n.name);e.save(o)}),s.getAll=function(){var e={};return s.forEach(function(t,n){e[t]=n}),e},s.forEach=n(function(e,t){for(var n,i=e.XMLDocument.documentElement.attributes,r=0;n=i[r];++r)t(n.name,s.deserialize(e.getAttribute(n.name)))})}try{var p="__storejs__";s.set(p,p),s.get(p)!=p&&(s.disabled=!0),s.remove(p)}catch(h){s.disabled=!0}s.enabled=!s.disabled,"undefined"!=typeof module&&module.exports&&this.module!==module?module.exports=s:"function"==typeof define&&define.amd?define("store",s):e.store=s}(Function("return this")()),define("models/settings",["backbone","deepmodel","store"],function(e,t,n){return e.DeepModel.extend({name:"settings",urlRoot:"https://headsuphuntington.herokuapp.com/api/app/v1/device_settings/ios/",defaults:function(){return{device:{token:n.get("registration_id"),user:{api_key:{key:n.get("api_key")},username:n.get("username")}},global_priority:1}},url:function(){var e=this.get("device.token"),t=(this.get("device.user"),this.get("device.user.username")),n=(this.get("device.user.api_key"),this.get("device.user.api_key.key"));return this.urlRoot+e+"/?username="+t+"&api_key="+n}})}),define("hbs!templates/settings",["handlebars"],function(e){return e.template(function(e,t,n,i,r){function s(){return'\n  <h1 class="title">Settings</h1>\n'}function a(){return"selected"}function o(){return"active"}function l(){return"checked"}function c(e,t){var i,r,s,a="";return a+="\n  ",s={hash:{"class":"tab-item"},inverse:g.noop,fn:g.program(10,u,t),data:t},i=n.link||e.link,r=i?i.call(e,"intro",s):v.call(e,"link","intro",s),(r||0===r)&&(a+=r),a+="\n  ",s={hash:{trigger:"close:settings","data-toggle":"aside","class":"tab-item"},inverse:g.noop,fn:g.program(12,h,t),data:t},i=n.link||e.link,r=i?i.call(e,"profile",s):v.call(e,"link","profile",s),(r||0===r)&&(a+=r),a+="\n"}function u(){return'\n    <span class="icon icon-info"></span>\n    <span class="tab-label">Help</span>\n  '}function h(){return'\n    <span class="icon hpd icon-settings__large"></span>\n    <span class="tab-label">Community Force</span>\n  '}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var d,p,f,m="",g=this,v=n.helperMissing,y="function",b=n.blockHelperMissing;return f={hash:{tag:"header",className:"bar bar-nav"},inverse:g.noop,fn:g.program(1,s,r),data:r},d=n.view||t.view,p=d?d.call(t,"header",f):v.call(t,"view","header",f),(p||0===p)&&(m+=p),m+='\n\n<div class="content s-content">\n  <ul class="table-view">\n  <li class="table-view-cell table-view-divider">Adjust your default push notification priority level: </li>\n    <li class="table-view-cell">\n      <form class="input-group">\n        <select name="global_priority" id="global_priority" class="item-select">\n          <option value="1" ',f={hash:{value:1},inverse:g.noop,fn:g.program(3,a,r),data:r},d=n.ifvalue||t.ifvalue,p=d?d.call(t,t.global_priority,f):v.call(t,"ifvalue",t.global_priority,f),(p||0===p)&&(m+=p),m+='>Level 1: Informational</option>\n          <option value="2" ',f={hash:{value:2},inverse:g.noop,fn:g.program(3,a,r),data:r},d=n.ifvalue||t.ifvalue,p=d?d.call(t,t.global_priority,f):v.call(t,"ifvalue",t.global_priority,f),(p||0===p)&&(m+=p),m+='>Level 2: Low-Level Emergency</option>\n          <option value="3" ',f={hash:{value:3},inverse:g.noop,fn:g.program(3,a,r),data:r},d=n.ifvalue||t.ifvalue,p=d?d.call(t,t.global_priority,f):v.call(t,"ifvalue",t.global_priority,f),(p||0===p)&&(m+=p),m+='>Level 3: Mid-Level Emergency</option>\n          <option value="4" ',f={hash:{value:4},inverse:g.noop,fn:g.program(3,a,r),data:r},d=n.ifvalue||t.ifvalue,p=d?d.call(t,t.global_priority,f):v.call(t,"ifvalue",t.global_priority,f),(p||0===p)&&(m+=p),m+='>Level 4: Major Emergency</option>\n          <option value="5" ',f={hash:{value:5},inverse:g.noop,fn:g.program(3,a,r),data:r},d=n.ifvalue||t.ifvalue,p=d?d.call(t,t.global_priority,f):v.call(t,"ifvalue",t.global_priority,f),(p||0===p)&&(m+=p),m+='>Level 5: Severe</option>\n        </select>\n      </form>\n    </li>\n    <li class="table-view-cell table-view-divider">Categories</li>\n    <li class="table-view-cell">\n      <div class="set-police"><span class="set-title">Police</span></div>\n      <div class="toggle ',d=t.metadata,d=null==d||d===!1?d:d[0],d=null==d||d===!1?d:d.is_enabled,d=typeof d===y?d.apply(t):d,p=b.call(t,d,{hash:{},inverse:g.noop,fn:g.program(5,o,r),data:r}),(p||0===p)&&(m+=p),m+='">\n       <input type="checkbox" class="toggle-handle" data-meta-position="0" ',d=t.metadata,d=null==d||d===!1?d:d[0],d=null==d||d===!1?d:d.is_enabled,d=typeof d===y?d.apply(t):d,p=b.call(t,d,{hash:{},inverse:g.noop,fn:g.program(7,l,r),data:r}),(p||0===p)&&(m+=p),m+='>\n      </div>\n    </li>\n    <li class="table-view-cell">\n      <div class="set-fire"><span class="set-title">Fire</span></div>\n      <div class="toggle ',d=t.metadata,d=null==d||d===!1?d:d[1],d=null==d||d===!1?d:d.is_enabled,d=typeof d===y?d.apply(t):d,p=b.call(t,d,{hash:{},inverse:g.noop,fn:g.program(5,o,r),data:r}),(p||0===p)&&(m+=p),m+='">\n        <input type="checkbox" class="toggle-handle" data-meta-position="1" ',d=t.metadata,d=null==d||d===!1?d:d[1],d=null==d||d===!1?d:d.is_enabled,d=typeof d===y?d.apply(t):d,p=b.call(t,d,{hash:{},inverse:g.noop,fn:g.program(7,l,r),data:r}),(p||0===p)&&(m+=p),m+='>\n      </div>\n    </li>\n    <li class="table-view-cell">\n      <div class="set-traffic"><span class="set-title">Traffic</span></div>\n      <div class="toggle ',d=t.metadata,d=null==d||d===!1?d:d[2],d=null==d||d===!1?d:d.is_enabled,d=typeof d===y?d.apply(t):d,p=b.call(t,d,{hash:{},inverse:g.noop,fn:g.program(5,o,r),data:r}),(p||0===p)&&(m+=p),m+='">\n        <input type="checkbox" class="toggle-handle" data-meta-position="2" ',d=t.metadata,d=null==d||d===!1?d:d[2],d=null==d||d===!1?d:d.is_enabled,d=typeof d===y?d.apply(t):d,p=b.call(t,d,{hash:{},inverse:g.noop,fn:g.program(7,l,r),data:r}),(p||0===p)&&(m+=p),m+='>\n      </div>\n    </li>\n    <li class="table-view-cell">\n      <div class="set-school"><span class="set-title">School</span></div>\n      <div class="toggle ',d=t.metadata,d=null==d||d===!1?d:d[3],d=null==d||d===!1?d:d.is_enabled,d=typeof d===y?d.apply(t):d,p=b.call(t,d,{hash:{},inverse:g.noop,fn:g.program(5,o,r),data:r}),(p||0===p)&&(m+=p),m+='">\n        <input type="checkbox" class="toggle-handle" data-meta-position="3" ',d=t.metadata,d=null==d||d===!1?d:d[3],d=null==d||d===!1?d:d.is_enabled,d=typeof d===y?d.apply(t):d,p=b.call(t,d,{hash:{},inverse:g.noop,fn:g.program(7,l,r),data:r}),(p||0===p)&&(m+=p),m+='>\n      </div>\n    </li>\n    <li class="table-view-cell">\n      <div class="set-utilities"><span class="set-title">Utilities</span></div>\n      <div class="toggle ',d=t.metadata,d=null==d||d===!1?d:d[4],d=null==d||d===!1?d:d.is_enabled,d=typeof d===y?d.apply(t):d,p=b.call(t,d,{hash:{},inverse:g.noop,fn:g.program(5,o,r),data:r}),(p||0===p)&&(m+=p),m+='">\n        <input type="checkbox" class="toggle-handle" data-meta-position="4" ',d=t.metadata,d=null==d||d===!1?d:d[4],d=null==d||d===!1?d:d.is_enabled,d=typeof d===y?d.apply(t):d,p=b.call(t,d,{hash:{},inverse:g.noop,fn:g.program(7,l,r),data:r}),(p||0===p)&&(m+=p),m+='>\n      </div>\n    </li>\n    <li class="table-view-cell">\n      <div class="set-health"><span class="set-title">Health</span></div>\n      <div class="toggle ',d=t.metadata,d=null==d||d===!1?d:d[5],d=null==d||d===!1?d:d.is_enabled,d=typeof d===y?d.apply(t):d,p=b.call(t,d,{hash:{},inverse:g.noop,fn:g.program(5,o,r),data:r}),(p||0===p)&&(m+=p),m+='">\n        <input type="checkbox" class="toggle-handle" data-meta-position="5" ',d=t.metadata,d=null==d||d===!1?d:d[5],d=null==d||d===!1?d:d.is_enabled,d=typeof d===y?d.apply(t):d,p=b.call(t,d,{hash:{},inverse:g.noop,fn:g.program(7,l,r),data:r}),(p||0===p)&&(m+=p),m+='>\n      </div>\n    </li>\n    <li class="table-view-cell">\n      <div class="set-other"><span class="set-title">Other/Misc</span></div>\n      <div class="toggle ',d=t.metadata,d=null==d||d===!1?d:d[6],d=null==d||d===!1?d:d.is_enabled,d=typeof d===y?d.apply(t):d,p=b.call(t,d,{hash:{},inverse:g.noop,fn:g.program(5,o,r),data:r}),(p||0===p)&&(m+=p),m+='">\n        <input type="checkbox" class="toggle-handle" data-meta-position="6" ',d=t.metadata,d=null==d||d===!1?d:d[6],d=null==d||d===!1?d:d.is_enabled,d=typeof d===y?d.apply(t):d,p=b.call(t,d,{hash:{},inverse:g.noop,fn:g.program(7,l,r),data:r}),(p||0===p)&&(m+=p),m+=">\n      </div>\n    </li>\n  </ul>\n</div>\n",f={hash:{tag:"nav",className:"bar bar-tab",type:"home-footer"},inverse:g.noop,fn:g.program(9,c,r),data:r},d=n.view||t.view,p=d?d.call(t,"footer",f):v.call(t,"view","footer",f),(p||0===p)&&(m+=p),m})}),define("views/settings",["view","anim-view","models/settings","hbs!templates/settings"],function(e,t,n,i){return t.extend({name:"settings",template:i,animateIn:"effeckt-off-screen-nav-left-push ",animateOut:"effeckt-off-screen-nav-left-push ",settingsState:!0,events:{"change form > #global_priority":function(e){e.preventDefault(),console.log("Changed priority to"+e.target.value),this.model.set("global_priority",Number(e.target.value),{silent:!0}),this.model.save({},{wait:!0,silent:!0})},'change div.toggle > input[type="checkbox"]':function(e){{var t=this.$(e.target).data("meta-position"),n=null;this.$(e.target).model()}e.preventDefault(),console.log("toggle was changed. Target:"),console.log(e.target),n="metadata."+t+".is_enabled",this.model.set(n,e.target.checked,{silent:!0}),console.log(this.model),this.model.save({},{wait:!0,silent:!0})}},initialize:function(){return console.log(this.getViewName()+" view init triggered!"),this.$el.addClass("effeckt-off-screen-nav"),this.$el.attr("data-view-persist","true"),this.model.fetch(),this},toggle:function(){var e=this;return console.log("Toggled Settings - settingsState is "+this.settingsState),console.log(event.target),this.settingsState?(this.$el.addClass(this.animateIn),this.$el.on("webkitAnimationEnd transitionend",function(){e.$el.off("webkitAnimationEnd transitionend"),e.$el.addClass("effeckt-show"),e.el.style.display="none",_.delay(function(){e.el.style.display="block"},250)})):(this.$el.removeClass("effeckt-show"),this.$el.on("webkitAnimationEnd transitionend",function(){e.$el.off("webkitAnimationEnd transitionend"),e.$el.removeClass(e.animateOut)})),this.settingsState=!this.settingsState,this}})}),define("views/header",["underscore","view","views/settings","models/settings"],function(e,t,n,i){return t.extend({name:"header",events:{'click a[data-toggle="aside"]':"toggleSettings"},initialize:function(){return this.settingsState=!0,Application.settings||e.delay(function(){Application.settings=new n({el:"#settings",className:"effeckt-off-screen-nav",model:new i}),Application.settings.render(),Application.$el.prepend(Application.settings.$el)},300),this},toggleSettings:function(){return Application.settings.toggle(),e.delay(function(){this.parent.$("a.overlay").toggleClass("mask")},200),!0}})}),define("views/footer",["view"],function(e){return e.extend({name:"footer",events:{"close:settings":function(e){var t=this.parent.$("header").view();e.preventDefault(),t.toggleSettings(e)}}})}),define("hbs!templates/maplist",["handlebars"],function(e){return e.template(function(e,t,n,i,r){function s(){return'\n  <a class="icon icon-bars pull-left" data-toggle="aside"></a>\n  <h1 class="title">Heads Up</h1>\n'}function a(){return"List View"}function o(){return"Map View"}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var l,c,u,h="",d=this,p=n.helperMissing;return h+='<a class="overlay"></a>\n\n',u={hash:{tag:"header",className:"bar bar-nav"},inverse:d.noop,fn:d.program(1,s,r),data:r},l=n.view||t.view,c=l?l.call(t,"header",u):p.call(t,"view","header",u),(c||0===c)&&(h+=c),h+='\n\n<div class="bar bar-standard bar-header-secondary">\n  <div class="segmented-control">\n    ',u={hash:{"expand-tokens":!0,"class":"control-item"},inverse:d.noop,fn:d.program(3,a,r),data:r},l=n.link||t.link,c=l?l.call(t,"",u):p.call(t,"link","",u),(c||0===c)&&(h+=c),h+="\n    ",u={hash:{"expand-tokens":!0,"class":"control-item active"},inverse:d.noop,fn:d.program(5,o,r),data:r},l=n.link||t.link,c=l?l.call(t,"map",u):p.call(t,"link","map",u),(c||0===c)&&(h+=c),h+='\n  </div>\n</div>\n\n<div id="mapmain" class="map">\n</div>'})}),define("views/maplist",["anim-view","hbs!templates/maplist"],function(e,t){return e.extend({name:"maplist",template:t,animateIn:"bounceInDown",animateOut:"slideOutUp",map:null,tiles:null,primaryLayer:null,secondLayer:null,events:{"click a.overlay.mask":function(e){var t=this.children[this.$("header").data("view-cid")];return t.toggleSettings(e),!1}},initialize:function(){return this.$el.attr("data-effeckt-page","home"),this.$el.attr("data-view-persist","true"),this.tiles=L.tileLayer("https://{s}.tiles.mapbox.com/v3/mscnswv.hl37jh6m/{z}/{x}/{y}.png",{attribution:'<a href="http://www.mscns.com" target="_blank">Powered by MSCNS</a>',detectRetina:!0}),console.log(this.tiles),this},beforeRender:function(){return this.$el.addClass("effeckt-page-active"),this},afterRender:function(){var e=this;if(this.map)this.map.on("ready",function(){e.primaryLayer.eachLayer(function(t){return e.map.panTo(t.getLatLng())})});else{var t=L.control.layers({Streets:this.tiles,Satellite:L.tileLayer("https://{s}.tiles.mapbox.com/v3/examples.map-i86nkdio/{z}/{x}/{y}.png",{detectRetina:!0})});this.map=new L.map("mapmain",{zoomControl:!1,locateControl:!0}).addLayer(this.tiles),this.primaryLayer=L.mapbox.featureLayer().loadURL("https://headsuphuntington.herokuapp.com/api/app/v1/alert_locations/").addTo(this.map).on("ready",function(){e.primaryLayer.eachLayer(function(t){return e.map.panTo(t.getLatLng())})}),t.addTo(e.map),this.map.setView([38.412,-82.428],13)}},beforeNextViewLoads:function(){return this.$el.removeClass("effeckt-page-active"),this.map.off("ready"),this}})}),define("hbs!templates/detail",["handlebars"],function(e){return e.template(function(e,t,n,i,r){function s(){var e="";return e}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var a,o,l,c="",u=this,h=n.helperMissing,d="function",p=this.escapeExpression;return c+='\n<header class="bar bar-nav">\n  	',l={hash:{"expand-tokens":!0,"class":"icon icon-left-nav pull-left"},inverse:u.noop,fn:u.program(1,s,r),data:r},a=n.link||t.link,o=a?a.call(t,"",l):h.call(t,"link","",l),(o||0===o)&&(c+=o),c+='\n  	<h1 class="title">Details</h1>\n</header>\n\n<div class="content">\n  <div class="'+p((a=t.category,a=null==a||a===!1?a:a.name,typeof a===d?a.apply(t):a))+"__bg "+p((a=t.category,a=null==a||a===!1?a:a.name,typeof a===d?a.apply(t):a))+'-d__bg">\n    <div class="detail-cat__icon">\n      <span class="'+p((a=t.category,a=null==a||a===!1?a:a.name,typeof a===d?a.apply(t):a))+'"></span>\n    </div>\n    <div class="detail-cat__subject">\n        <h4>',(o=n.subject)?o=o.call(t,{hash:{},data:r}):(o=t.subject,o=typeof o===d?o.apply(t):o),c+=p(o)+'</h4>\n    </div>\n  </div>\n\n  <div id="single-map" class="map">\n  </div>\n    \n  <ul class="table-view table-view_detail__push">\n      <li class="table-view-cell">\n          <div id="mapmain" class="map map-detail"></div>\n      </li>\n      <li class="table-view-cell table-view_detail__push">\n          <p>',(o=n.information)?o=o.call(t,{hash:{},data:r}):(o=t.information,o=typeof o===d?o.apply(t):o),c+=p(o)+'</p>\n      </li>\n    </ul>\n</div>\n\n\n\n<nav class="bar bar-tab">\n  <a class="tab-item active toggle-share">\n    <span class="icon icon-share"></span>\n    <span class="tab-label">Share This</span>\n  </a>\n</nav>'})}),define("views/detail",["underscore","anim-view","hbs!templates/detail"],function(e,t,n){return t.extend({name:"detail",template:n,className:"detail",animateIn:"iosSlideInRight",animateOut:"slideOutRight",events:{"click a.toggle-share":function(e){var t,n,i,r,s;return e.preventDefault(),t=this.model.get("information"),i="Important alert from the HeadsUp Huntington Mobile App: \n"+t,s=this.model.get("subject"),r="Just received via Heads Up Huntington, "+s,n={title:r,text:i,url:"http://headsupapp.io/feed/"+this.model.get("id")+"/"},window.socialmessage.send(n),!1}},initialize:function(){return console.log(this.name+"#initialize"),this.tiles=L.tileLayer("https://{s}.tiles.mapbox.com/v3/examples.map-i86nkdio/{z}/{x}/{y}.png",{attribution:'<a href="http://www.mscns.com" target="_blank">Powered by MSCNS</a>',detectRetina:!0}),console.log(this.tiles),this},afterRender:function(){var t,n=this,i=L.control.layers({Satellite:this.tiles,Streets:L.tileLayer("https://{s}.tiles.mapbox.com/v3/mscnswv.hl37jh6m/{z}/{x}/{y}.png",{detectRetina:!0})});return e.delay(function(){n.map=new L.map("single-map",{zoomControl:!1,locateControl:!1}).addLayer(n.tiles),t=L.mapbox.featureLayer().loadURL("https://headsuphuntington.herokuapp.com/api/app/v1/alert_locations/"+n.model.get("map").id+"/").addTo(n.map).on("ready",function(){t.eachLayer(function(e){return n.map.panTo(e.getLatLng())})}),i.addTo(n.map),n.map.setView([38.412,-82.428],11)},250),this},onClose:function(){return this.map&&this.map.off("ready"),this}})}),define("hbs!templates/profile",["handlebars"],function(e){return e.template(function(e,t,n,i,r){function s(e,t){var i,r,s,o="";return o+="\n  ",s={hash:{"expand-tokens":!0,"class":"icon icon-left-nav pull-left"},inverse:p.noop,fn:p.program(2,a,t),data:t},i=n.link||e.link,r=i?i.call(e,"",s):f.call(e,"link","",s),(r||0===r)&&(o+=r),o+='\n  <h1 class="title">Initiative</h1>\n'}function a(){var e="";return e}function o(){return"List View"}function l(){return"Map View"}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var c,u,h,d="",p=this,f=n.helperMissing;return h={hash:{tag:"header",className:"bar bar-nav"},inverse:p.noop,fn:p.program(1,s,r),data:r},c=n.view||t.view,u=c?c.call(t,"header",h):f.call(t,"view","header",h),(u||0===u)&&(d+=u),d+='\n\n<div class="bar bar-standard bar-header-secondary">\n  <div class="segmented-control">\n    ',h={hash:{"expand-tokens":!0,"class":"control-item"},inverse:p.noop,fn:p.program(4,o,r),data:r},c=n.link||t.link,u=c?c.call(t,"",h):f.call(t,"link","",h),(u||0===u)&&(d+=u),d+="\n    ",h={hash:{"expand-tokens":!0,"class":"control-item"},inverse:p.noop,fn:p.program(6,l,r),data:r},c=n.link||t.link,u=c?c.call(t,"map",h):f.call(t,"link","map",h),(u||0===u)&&(d+=u),d+='\n  </div>\n</div>\n\n<div class="content">\n  <ul class="table-view">\n    <li class="table-view-cell">\n      <article class="cmf">\n        <h1>HPD <i>Community Force</i> Initiative</h1>\n        <p>The Huntington Police Department is dedicated to it\'s Mission Statement:</p>\n\n        <p><i>The mission of the Huntington Police Department is to provide the highest level of professional police service while preventing crime through problem-solving partnerships.</i></p>\n\n        <p>This mission is accomplished by a commitment to:</p>\n        <ul>\n          <li>Reduce criminal victimization</li>\n          <li>Call offenders to account</li>\n          <li>Reduce fear and enhance personal security</li>\n          <li>Strive to ensure safety in public places</li>\n          <li>When required, use force fairly, efficiently, and effectively</li>\n          <li>Maintain fiscal responsibility to our citizens</li>\n          <li>Meet the expectations of our community</li>\n        </ul>\n\n        <p>Occasionally, members of the HPD develop a concept for a program which does not contain an element of Law Enforcement, but is a powerful tool for the overall betterment of our community. These projects fall under our <strong>Community Force</strong> Initiative.</p>\n\n        <p>The CF Initiative is the department\'s method of fostering positive ideologies into the community at large, and provides the citizenry with resources to enable an atmosphere of progress, growth, and most importantly, hope. Any project under the CF title has little to no element of law enforcment, but rather has been created within the department to demonstrate our commitment to excellence in multiple arenas.</p>\n\n        <p>Projects that fall in to the CF Initiative category will always contain the Community Force slogan in order to convey to the beneficiaries of or participants in the projects that the department was heavily involved in the project\'s creation, design, implimentation, curriculum, organization, and funding. Additionally, the CF projects reflect our ongoing partnership with multiple entities, such as City Government, as we work to achieve a common goal.</p>\n\n        <p>As we reflect on our mission statement, it is the last line: <i>Meet the expectations of our community</i> which has inspired our obligation to provide innovative and forward thinking concepts which exceed the conventional philosophies of police departments, and encourage all citizens to be involved in our <i>Community Force</i></p>\n      </article>\n    </li>\n  </ul>\n</div>\n'
})}),define("views/profile",["anim-view","hbs!templates/profile"],function(e,t){return e.extend({name:"profile",template:t,className:"profile",animateIn:"bounceInUp",animateOut:"slideOutDown"})}),define("hbs!templates/slides",["handlebars"],function(e){return e.template(function(e,t,n,i,r){function s(){return'<img class="last" src="img/slide-5.jpg">'}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var a,o,l,c="",u=this,h=n.helperMissing;return c+='<div class="slider intro-slide" id="mySlider">\n  <div class="slide-group">\n    <div class="slide">\n      <img src="img/slide-1.jpg">\n    </div>\n    <div class="slide">\n      <img src="img/slide-2.jpg">\n    </div>\n    <div class="slide">\n      <img src="img/slide-3.jpg">\n    </div>\n    <div class="slide">\n      <img src="img/slide-4.jpg">\n    </div>\n    <div class="slide">\n        ',l={hash:{},inverse:u.noop,fn:u.program(1,s,r),data:r},a=n.link||t.link,o=a?a.call(t,"",l):h.call(t,"link","",l),(o||0===o)&&(c+=o),c+="\n      </span>\n    </div>\n  </div>\n</div>\n"})}),define("views/slides",["anim-view","hbs!templates/slides"],function(e,t){return e.extend({name:"slides",template:t,animateIn:"fadeIn",animateOut:"slideOutLeft"})}),define("collection",["thorax"],function(e){return e.Collection.extend({})}),function(e){function t(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function n(e,t){function n(){lt.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}var i=!0;return l(function(){return i&&(n(),i=!1),t.apply(this,arguments)},t)}function i(e,t){return function(n){return h(e.call(this,n),t)}}function r(e,t){return function(n){return this.lang().ordinal(e.call(this,n),t)}}function s(){}function a(e){C(e),l(this,e)}function o(e){var t=v(e),n=t.year||0,i=t.quarter||0,r=t.month||0,s=t.week||0,a=t.day||0,o=t.hour||0,l=t.minute||0,c=t.second||0,u=t.millisecond||0;this._milliseconds=+u+1e3*c+6e4*l+36e5*o,this._days=+a+7*s,this._months=+r+3*i+12*n,this._data={},this._bubble()}function l(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return t.hasOwnProperty("toString")&&(e.toString=t.toString),t.hasOwnProperty("valueOf")&&(e.valueOf=t.valueOf),e}function c(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&xt.hasOwnProperty(t)&&(n[t]=e[t]);return n}function u(e){return 0>e?Math.ceil(e):Math.floor(e)}function h(e,t,n){for(var i=""+Math.abs(e),r=e>=0;i.length<t;)i="0"+i;return(r?n?"+":"":"-")+i}function d(e,t,n,i){var r=t._milliseconds,s=t._days,a=t._months;i=null==i?!0:i,r&&e._d.setTime(+e._d+r*n),s&&it(e,"Date",nt(e,"Date")+s*n),a&&tt(e,nt(e,"Month")+a*n),i&&lt.updateOffset(e,s||a)}function p(e){return"[object Array]"===Object.prototype.toString.call(e)}function f(e){return"[object Date]"===Object.prototype.toString.call(e)||e instanceof Date}function m(e,t,n){var i,r=Math.min(e.length,t.length),s=Math.abs(e.length-t.length),a=0;for(i=0;r>i;i++)(n&&e[i]!==t[i]||!n&&b(e[i])!==b(t[i]))&&a++;return a+s}function g(e){if(e){var t=e.toLowerCase().replace(/(.)s$/,"$1");e=Qt[e]||Zt[t]||t}return e}function v(e){var t,n,i={};for(n in e)e.hasOwnProperty(n)&&(t=g(n),t&&(i[t]=e[n]));return i}function y(t){var n,i;if(0===t.indexOf("week"))n=7,i="day";else{if(0!==t.indexOf("month"))return;n=12,i="month"}lt[t]=function(r,s){var a,o,l=lt.fn._lang[t],c=[];if("number"==typeof r&&(s=r,r=e),o=function(e){var t=lt().utc().set(i,e);return l.call(lt.fn._lang,t,r||"")},null!=s)return o(s);for(a=0;n>a;a++)c.push(o(a));return c}}function b(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=t>=0?Math.floor(t):Math.ceil(t)),n}function w(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function _(e,t,n){return Z(lt([e,11,31+t-n]),t,n).week}function x(e){return k(e)?366:365}function k(e){return e%4===0&&e%100!==0||e%400===0}function C(e){var t;e._a&&-2===e._pf.overflow&&(t=e._a[mt]<0||e._a[mt]>11?mt:e._a[gt]<1||e._a[gt]>w(e._a[ft],e._a[mt])?gt:e._a[vt]<0||e._a[vt]>23?vt:e._a[yt]<0||e._a[yt]>59?yt:e._a[bt]<0||e._a[bt]>59?bt:e._a[wt]<0||e._a[wt]>999?wt:-1,e._pf._overflowDayOfYear&&(ft>t||t>gt)&&(t=gt),e._pf.overflow=t)}function T(e){return null==e._isValid&&(e._isValid=!isNaN(e._d.getTime())&&e._pf.overflow<0&&!e._pf.empty&&!e._pf.invalidMonth&&!e._pf.nullInput&&!e._pf.invalidFormat&&!e._pf.userInvalidated,e._strict&&(e._isValid=e._isValid&&0===e._pf.charsLeftOver&&0===e._pf.unusedTokens.length)),e._isValid}function S(e){return e?e.toLowerCase().replace("_","-"):e}function D(e,t){return t._isUTC?lt(e).zone(t._offset||0):lt(e).local()}function E(e,t){return t.abbr=e,_t[e]||(_t[e]=new s),_t[e].set(t),_t[e]}function P(e){delete _t[e]}function M(e){var t,n,i,r,s=0,a=function(e){if(!_t[e]&&kt)try{require("./lang/"+e)}catch(t){}return _t[e]};if(!e)return lt.fn._lang;if(!p(e)){if(n=a(e))return n;e=[e]}for(;s<e.length;){for(r=S(e[s]).split("-"),t=r.length,i=S(e[s+1]),i=i?i.split("-"):null;t>0;){if(n=a(r.slice(0,t).join("-")))return n;if(i&&i.length>=t&&m(r,i,!0)>=t-1)break;t--}s++}return lt.fn._lang}function A(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function N(e){var t,n,i=e.match(Dt);for(t=0,n=i.length;n>t;t++)i[t]=nn[i[t]]?nn[i[t]]:A(i[t]);return function(r){var s="";for(t=0;n>t;t++)s+=i[t]instanceof Function?i[t].call(r,e):i[t];return s}}function O(e,t){return e.isValid()?(t=H(t,e.lang()),Kt[t]||(Kt[t]=N(t)),Kt[t](e)):e.lang().invalidDate()}function H(e,t){function n(e){return t.longDateFormat(e)||e}var i=5;for(Et.lastIndex=0;i>=0&&Et.test(e);)e=e.replace(Et,n),Et.lastIndex=0,i-=1;return e}function L(e,t){var n,i=t._strict;switch(e){case"Q":return Rt;case"DDDD":return Ut;case"YYYY":case"GGGG":case"gggg":return i?$t:At;case"Y":case"G":case"g":return Bt;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return i?Yt:Nt;case"S":if(i)return Rt;case"SS":if(i)return Vt;case"SSS":if(i)return Ut;case"DDD":return Mt;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Ht;case"a":case"A":return M(t._l)._meridiemParse;case"X":return jt;case"Z":case"ZZ":return Lt;case"T":return It;case"SSSS":return Ot;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return i?Vt:Pt;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return Pt;case"Do":return Ft;default:return n=new RegExp(Y($(e.replace("\\","")),"i"))}}function I(e){e=e||"";var t=e.match(Lt)||[],n=t[t.length-1]||[],i=(n+"").match(Xt)||["-",0,0],r=+(60*i[1])+b(i[2]);return"+"===i[0]?-r:r}function j(e,t,n){var i,r=n._a;switch(e){case"Q":null!=t&&(r[mt]=3*(b(t)-1));break;case"M":case"MM":null!=t&&(r[mt]=b(t)-1);break;case"MMM":case"MMMM":i=M(n._l).monthsParse(t),null!=i?r[mt]=i:n._pf.invalidMonth=t;break;case"D":case"DD":null!=t&&(r[gt]=b(t));break;case"Do":null!=t&&(r[gt]=b(parseInt(t,10)));break;case"DDD":case"DDDD":null!=t&&(n._dayOfYear=b(t));break;case"YY":r[ft]=lt.parseTwoDigitYear(t);break;case"YYYY":case"YYYYY":case"YYYYYY":r[ft]=b(t);break;case"a":case"A":n._isPm=M(n._l).isPM(t);break;case"H":case"HH":case"h":case"hh":r[vt]=b(t);break;case"m":case"mm":r[yt]=b(t);break;case"s":case"ss":r[bt]=b(t);break;case"S":case"SS":case"SSS":case"SSSS":r[wt]=b(1e3*("0."+t));break;case"X":n._d=new Date(1e3*parseFloat(t));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=I(t);break;case"w":case"ww":case"W":case"WW":case"d":case"dd":case"ddd":case"dddd":case"e":case"E":e=e.substr(0,1);case"gg":case"gggg":case"GG":case"GGGG":case"GGGGG":e=e.substr(0,2),t&&(n._w=n._w||{},n._w[e]=t)}}function F(e){var t,n,i,r,s,a,o,l,c,u,h=[];if(!e._d){for(i=V(e),e._w&&null==e._a[gt]&&null==e._a[mt]&&(s=function(t){var n=parseInt(t,10);return t?t.length<3?n>68?1900+n:2e3+n:n:null==e._a[ft]?lt().weekYear():e._a[ft]},a=e._w,null!=a.GG||null!=a.W||null!=a.E?o=K(s(a.GG),a.W||1,a.E,4,1):(l=M(e._l),c=null!=a.d?X(a.d,l):null!=a.e?parseInt(a.e,10)+l._week.dow:0,u=parseInt(a.w,10)||1,null!=a.d&&c<l._week.dow&&u++,o=K(s(a.gg),u,c,l._week.doy,l._week.dow)),e._a[ft]=o.year,e._dayOfYear=o.dayOfYear),e._dayOfYear&&(r=null==e._a[ft]?i[ft]:e._a[ft],e._dayOfYear>x(r)&&(e._pf._overflowDayOfYear=!0),n=G(r,0,e._dayOfYear),e._a[mt]=n.getUTCMonth(),e._a[gt]=n.getUTCDate()),t=0;3>t&&null==e._a[t];++t)e._a[t]=h[t]=i[t];for(;7>t;t++)e._a[t]=h[t]=null==e._a[t]?2===t?1:0:e._a[t];h[vt]+=b((e._tzm||0)/60),h[yt]+=b((e._tzm||0)%60),e._d=(e._useUTC?G:z).apply(null,h)}}function R(e){var t;e._d||(t=v(e._i),e._a=[t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond],F(e))}function V(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function U(e){e._a=[],e._pf.empty=!0;var t,n,i,r,s,a=M(e._l),o=""+e._i,l=o.length,c=0;for(i=H(e._f,a).match(Dt)||[],t=0;t<i.length;t++)r=i[t],n=(o.match(L(r,e))||[])[0],n&&(s=o.substr(0,o.indexOf(n)),s.length>0&&e._pf.unusedInput.push(s),o=o.slice(o.indexOf(n)+n.length),c+=n.length),nn[r]?(n?e._pf.empty=!1:e._pf.unusedTokens.push(r),j(r,n,e)):e._strict&&!n&&e._pf.unusedTokens.push(r);e._pf.charsLeftOver=l-c,o.length>0&&e._pf.unusedInput.push(o),e._isPm&&e._a[vt]<12&&(e._a[vt]+=12),e._isPm===!1&&12===e._a[vt]&&(e._a[vt]=0),F(e),C(e)}function $(e){return e.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,i,r){return t||n||i||r})}function Y(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function B(e){var n,i,r,s,a;if(0===e._f.length)return e._pf.invalidFormat=!0,void(e._d=new Date(0/0));for(s=0;s<e._f.length;s++)a=0,n=l({},e),n._pf=t(),n._f=e._f[s],U(n),T(n)&&(a+=n._pf.charsLeftOver,a+=10*n._pf.unusedTokens.length,n._pf.score=a,(null==r||r>a)&&(r=a,i=n));l(e,i||n)}function q(e){var t,n,i=e._i,r=qt.exec(i);if(r){for(e._pf.iso=!0,t=0,n=zt.length;n>t;t++)if(zt[t][1].exec(i)){e._f=zt[t][0]+(r[6]||" ");break}for(t=0,n=Gt.length;n>t;t++)if(Gt[t][1].exec(i)){e._f+=Gt[t][0];break}i.match(Lt)&&(e._f+="Z"),U(e)}else lt.createFromInputFallback(e)}function W(t){var n=t._i,i=Ct.exec(n);n===e?t._d=new Date:i?t._d=new Date(+i[1]):"string"==typeof n?q(t):p(n)?(t._a=n.slice(0),F(t)):f(n)?t._d=new Date(+n):"object"==typeof n?R(t):"number"==typeof n?t._d=new Date(n):lt.createFromInputFallback(t)}function z(e,t,n,i,r,s,a){var o=new Date(e,t,n,i,r,s,a);return 1970>e&&o.setFullYear(e),o}function G(e){var t=new Date(Date.UTC.apply(null,arguments));return 1970>e&&t.setUTCFullYear(e),t}function X(e,t){if("string"==typeof e)if(isNaN(e)){if(e=t.weekdaysParse(e),"number"!=typeof e)return null}else e=parseInt(e,10);return e}function J(e,t,n,i,r){return r.relativeTime(t||1,!!n,e,i)}function Q(e,t,n){var i=pt(Math.abs(e)/1e3),r=pt(i/60),s=pt(r/60),a=pt(s/24),o=pt(a/365),l=45>i&&["s",i]||1===r&&["m"]||45>r&&["mm",r]||1===s&&["h"]||22>s&&["hh",s]||1===a&&["d"]||25>=a&&["dd",a]||45>=a&&["M"]||345>a&&["MM",pt(a/30)]||1===o&&["y"]||["yy",o];return l[2]=t,l[3]=e>0,l[4]=n,J.apply({},l)}function Z(e,t,n){var i,r=n-t,s=n-e.day();return s>r&&(s-=7),r-7>s&&(s+=7),i=lt(e).add("d",s),{week:Math.ceil(i.dayOfYear()/7),year:i.year()}}function K(e,t,n,i,r){var s,a,o=G(e,0,1).getUTCDay();return n=null!=n?n:r,s=r-o+(o>i?7:0)-(r>o?7:0),a=7*(t-1)+(n-r)+s+1,{year:a>0?e:e-1,dayOfYear:a>0?a:x(e-1)+a}}function et(t){var n=t._i,i=t._f;return null===n||i===e&&""===n?lt.invalid({nullInput:!0}):("string"==typeof n&&(t._i=n=M().preparse(n)),lt.isMoment(n)?(t=c(n),t._d=new Date(+n._d)):i?p(i)?B(t):U(t):W(t),new a(t))}function tt(e,t){var n;return"string"==typeof t&&(t=e.lang().monthsParse(t),"number"!=typeof t)?e:(n=Math.min(e.date(),w(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e)}function nt(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function it(e,t,n){return"Month"===t?tt(e,n):e._d["set"+(e._isUTC?"UTC":"")+t](n)}function rt(e,t){return function(n){return null!=n?(it(this,e,n),lt.updateOffset(this,t),this):nt(this,e)}}function st(e){lt.duration.fn[e]=function(){return this._data[e]}}function at(e,t){lt.duration.fn["as"+e]=function(){return+this/t}}function ot(e){"undefined"==typeof ender&&(ct=dt.moment,dt.moment=e?n("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",lt):lt)}for(var lt,ct,ut,ht="2.6.0",dt="undefined"!=typeof global?global:this,pt=Math.round,ft=0,mt=1,gt=2,vt=3,yt=4,bt=5,wt=6,_t={},xt={_isAMomentObject:null,_i:null,_f:null,_l:null,_strict:null,_isUTC:null,_offset:null,_pf:null,_lang:null},kt="undefined"!=typeof module&&module.exports,Ct=/^\/?Date\((\-?\d+)/i,Tt=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,St=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,Dt=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,Et=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,Pt=/\d\d?/,Mt=/\d{1,3}/,At=/\d{1,4}/,Nt=/[+\-]?\d{1,6}/,Ot=/\d+/,Ht=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Lt=/Z|[\+\-]\d\d:?\d\d/gi,It=/T/i,jt=/[\+\-]?\d+(\.\d{1,3})?/,Ft=/\d{1,2}/,Rt=/\d/,Vt=/\d\d/,Ut=/\d{3}/,$t=/\d{4}/,Yt=/[+-]?\d{6}/,Bt=/[+-]?\d+/,qt=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Wt="YYYY-MM-DDTHH:mm:ssZ",zt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],Gt=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Xt=/([\+\-]|\d\d)/gi,Jt=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),Qt={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},Zt={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},Kt={},en="DDD w W M D d".split(" "),tn="M D H h m s w W".split(" "),nn={M:function(){return this.month()+1},MMM:function(e){return this.lang().monthsShort(this,e)},MMMM:function(e){return this.lang().months(this,e)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(e){return this.lang().weekdaysMin(this,e)},ddd:function(e){return this.lang().weekdaysShort(this,e)},dddd:function(e){return this.lang().weekdays(this,e)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return h(this.year()%100,2)},YYYY:function(){return h(this.year(),4)},YYYYY:function(){return h(this.year(),5)},YYYYYY:function(){var e=this.year(),t=e>=0?"+":"-";return t+h(Math.abs(e),6)},gg:function(){return h(this.weekYear()%100,2)},gggg:function(){return h(this.weekYear(),4)},ggggg:function(){return h(this.weekYear(),5)},GG:function(){return h(this.isoWeekYear()%100,2)},GGGG:function(){return h(this.isoWeekYear(),4)},GGGGG:function(){return h(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return b(this.milliseconds()/100)},SS:function(){return h(b(this.milliseconds()/10),2)},SSS:function(){return h(this.milliseconds(),3)},SSSS:function(){return h(this.milliseconds(),3)},Z:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+h(b(e/60),2)+":"+h(b(e)%60,2)},ZZ:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+h(b(e/60),2)+h(b(e)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},rn=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];en.length;)ut=en.pop(),nn[ut+"o"]=r(nn[ut],ut);for(;tn.length;)ut=tn.pop(),nn[ut+ut]=i(nn[ut],2);for(nn.DDDD=i(nn.DDD,3),l(s.prototype,{set:function(e){var t,n;for(n in e)t=e[n],"function"==typeof t?this[n]=t:this["_"+n]=t},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(e){return this._months[e.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(e){return this._monthsShort[e.month()]},monthsParse:function(e){var t,n,i;for(this._monthsParse||(this._monthsParse=[]),t=0;12>t;t++)if(this._monthsParse[t]||(n=lt.utc([2e3,t]),i="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[t]=new RegExp(i.replace(".",""),"i")),this._monthsParse[t].test(e))return t},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(e){return this._weekdays[e.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(e){return this._weekdaysShort[e.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(e){return this._weekdaysMin[e.day()]},weekdaysParse:function(e){var t,n,i;for(this._weekdaysParse||(this._weekdaysParse=[]),t=0;7>t;t++)if(this._weekdaysParse[t]||(n=lt([2e3,1]).day(t),i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(i.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t},isPM:function(e){return"p"===(e+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(e,t){var n=this._calendar[e];return"function"==typeof n?n.apply(t):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(e,t,n,i){var r=this._relativeTime[n];return"function"==typeof r?r(e,t,n,i):r.replace(/%d/i,e)},pastFuture:function(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)},ordinal:function(e){return this._ordinal.replace("%d",e)},_ordinal:"%d",preparse:function(e){return e},postformat:function(e){return e},week:function(e){return Z(e,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),lt=function(n,i,r,s){var a;return"boolean"==typeof r&&(s=r,r=e),a={},a._isAMomentObject=!0,a._i=n,a._f=i,a._l=r,a._strict=s,a._isUTC=!1,a._pf=t(),et(a)},lt.suppressDeprecationWarnings=!1,lt.createFromInputFallback=n("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i)}),lt.utc=function(n,i,r,s){var a;return"boolean"==typeof r&&(s=r,r=e),a={},a._isAMomentObject=!0,a._useUTC=!0,a._isUTC=!0,a._l=r,a._i=n,a._f=i,a._strict=s,a._pf=t(),et(a).utc()},lt.unix=function(e){return lt(1e3*e)},lt.duration=function(e,t){var n,i,r,s=e,a=null;return lt.isDuration(e)?s={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(s={},t?s[t]=e:s.milliseconds=e):(a=Tt.exec(e))?(n="-"===a[1]?-1:1,s={y:0,d:b(a[gt])*n,h:b(a[vt])*n,m:b(a[yt])*n,s:b(a[bt])*n,ms:b(a[wt])*n}):(a=St.exec(e))&&(n="-"===a[1]?-1:1,r=function(e){var t=e&&parseFloat(e.replace(",","."));return(isNaN(t)?0:t)*n},s={y:r(a[2]),M:r(a[3]),d:r(a[4]),h:r(a[5]),m:r(a[6]),s:r(a[7]),w:r(a[8])}),i=new o(s),lt.isDuration(e)&&e.hasOwnProperty("_lang")&&(i._lang=e._lang),i},lt.version=ht,lt.defaultFormat=Wt,lt.momentProperties=xt,lt.updateOffset=function(){},lt.lang=function(e,t){var n;return e?(t?E(S(e),t):null===t?(P(e),e="en"):_t[e]||M(e),n=lt.duration.fn._lang=lt.fn._lang=M(e),n._abbr):lt.fn._lang._abbr},lt.langData=function(e){return e&&e._lang&&e._lang._abbr&&(e=e._lang._abbr),M(e)},lt.isMoment=function(e){return e instanceof a||null!=e&&e.hasOwnProperty("_isAMomentObject")},lt.isDuration=function(e){return e instanceof o},ut=rn.length-1;ut>=0;--ut)y(rn[ut]);lt.normalizeUnits=function(e){return g(e)},lt.invalid=function(e){var t=lt.utc(0/0);return null!=e?l(t._pf,e):t._pf.userInvalidated=!0,t},lt.parseZone=function(){return lt.apply(null,arguments).parseZone()},lt.parseTwoDigitYear=function(e){return b(e)+(b(e)>68?1900:2e3)},l(lt.fn=a.prototype,{clone:function(){return lt(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var e=lt(this).utc();return 0<e.year()&&e.year()<=9999?O(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):O(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds()]},isValid:function(){return T(this)},isDSTShifted:function(){return this._a?this.isValid()&&m(this._a,(this._isUTC?lt.utc(this._a):lt(this._a)).toArray())>0:!1},parsingFlags:function(){return l({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(e){var t=O(this,e||lt.defaultFormat);return this.lang().postformat(t)},add:function(e,t){var n;return n="string"==typeof e?lt.duration(+t,e):lt.duration(e,t),d(this,n,1),this},subtract:function(e,t){var n;return n="string"==typeof e?lt.duration(+t,e):lt.duration(e,t),d(this,n,-1),this},diff:function(e,t,n){var i,r,s=D(e,this),a=6e4*(this.zone()-s.zone());return t=g(t),"year"===t||"month"===t?(i=432e5*(this.daysInMonth()+s.daysInMonth()),r=12*(this.year()-s.year())+(this.month()-s.month()),r+=(this-lt(this).startOf("month")-(s-lt(s).startOf("month")))/i,r-=6e4*(this.zone()-lt(this).startOf("month").zone()-(s.zone()-lt(s).startOf("month").zone()))/i,"year"===t&&(r/=12)):(i=this-s,r="second"===t?i/1e3:"minute"===t?i/6e4:"hour"===t?i/36e5:"day"===t?(i-a)/864e5:"week"===t?(i-a)/6048e5:i),n?r:u(r)},from:function(e,t){return lt.duration(this.diff(e)).lang(this.lang()._abbr).humanize(!t)},fromNow:function(e){return this.from(lt(),e)},calendar:function(){var e=D(lt(),this).startOf("day"),t=this.diff(e,"days",!0),n=-6>t?"sameElse":-1>t?"lastWeek":0>t?"lastDay":1>t?"sameDay":2>t?"nextDay":7>t?"nextWeek":"sameElse";return this.format(this.lang().calendar(n,this))},isLeapYear:function(){return k(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=X(e,this.lang()),this.add({d:e-t})):t},month:rt("Month",!0),startOf:function(e){switch(e=g(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e?this.weekday(0):"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(e){return e=g(e),this.startOf(e).add("isoWeek"===e?"week":e,1).subtract("ms",1)},isAfter:function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)>+lt(e).startOf(t)},isBefore:function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)<+lt(e).startOf(t)},isSame:function(e,t){return t=t||"ms",+this.clone().startOf(t)===+D(e,this).startOf(t)},min:function(e){return e=lt.apply(null,arguments),this>e?this:e},max:function(e){return e=lt.apply(null,arguments),e>this?this:e},zone:function(e,t){var n=this._offset||0;return null==e?this._isUTC?n:this._d.getTimezoneOffset():("string"==typeof e&&(e=I(e)),Math.abs(e)<16&&(e=60*e),this._offset=e,this._isUTC=!0,n!==e&&(!t||this._changeInProgress?d(this,lt.duration(n-e,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,lt.updateOffset(this,!0),this._changeInProgress=null)),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(e){return e=e?lt(e).zone():0,(this.zone()-e)%60===0},daysInMonth:function(){return w(this.year(),this.month())},dayOfYear:function(e){var t=pt((lt(this).startOf("day")-lt(this).startOf("year"))/864e5)+1;return null==e?t:this.add("d",e-t)},quarter:function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},weekYear:function(e){var t=Z(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==e?t:this.add("y",e-t)},isoWeekYear:function(e){var t=Z(this,1,4).year;return null==e?t:this.add("y",e-t)},week:function(e){var t=this.lang().week(this);return null==e?t:this.add("d",7*(e-t))},isoWeek:function(e){var t=Z(this,1,4).week;return null==e?t:this.add("d",7*(e-t))},weekday:function(e){var t=(this.day()+7-this.lang()._week.dow)%7;return null==e?t:this.add("d",e-t)},isoWeekday:function(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)},isoWeeksInYear:function(){return _(this.year(),1,4)},weeksInYear:function(){var e=this._lang._week;return _(this.year(),e.dow,e.doy)},get:function(e){return e=g(e),this[e]()},set:function(e,t){return e=g(e),"function"==typeof this[e]&&this[e](t),this},lang:function(t){return t===e?this._lang:(this._lang=M(t),this)}}),lt.fn.millisecond=lt.fn.milliseconds=rt("Milliseconds",!1),lt.fn.second=lt.fn.seconds=rt("Seconds",!1),lt.fn.minute=lt.fn.minutes=rt("Minutes",!1),lt.fn.hour=lt.fn.hours=rt("Hours",!0),lt.fn.date=rt("Date",!0),lt.fn.dates=n("dates accessor is deprecated. Use date instead.",rt("Date",!0)),lt.fn.year=rt("FullYear",!0),lt.fn.years=n("years accessor is deprecated. Use year instead.",rt("FullYear",!0)),lt.fn.days=lt.fn.day,lt.fn.months=lt.fn.month,lt.fn.weeks=lt.fn.week,lt.fn.isoWeeks=lt.fn.isoWeek,lt.fn.quarters=lt.fn.quarter,lt.fn.toJSON=lt.fn.toISOString,l(lt.duration.fn=o.prototype,{_bubble:function(){var e,t,n,i,r=this._milliseconds,s=this._days,a=this._months,o=this._data;o.milliseconds=r%1e3,e=u(r/1e3),o.seconds=e%60,t=u(e/60),o.minutes=t%60,n=u(t/60),o.hours=n%24,s+=u(n/24),o.days=s%30,a+=u(s/30),o.months=a%12,i=u(a/12),o.years=i},weeks:function(){return u(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*b(this._months/12)},humanize:function(e){var t=+this,n=Q(t,!e,this.lang());return e&&(n=this.lang().pastFuture(t,n)),this.lang().postformat(n)},add:function(e,t){var n=lt.duration(e,t);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(e,t){var n=lt.duration(e,t);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(e){return e=g(e),this[e.toLowerCase()+"s"]()},as:function(e){return e=g(e),this["as"+e.charAt(0).toUpperCase()+e.slice(1)+"s"]()},lang:lt.fn.lang,toIsoString:function(){var e=Math.abs(this.years()),t=Math.abs(this.months()),n=Math.abs(this.days()),i=Math.abs(this.hours()),r=Math.abs(this.minutes()),s=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(e?e+"Y":"")+(t?t+"M":"")+(n?n+"D":"")+(i||r||s?"T":"")+(i?i+"H":"")+(r?r+"M":"")+(s?s+"S":""):"P0D"}});for(ut in Jt)Jt.hasOwnProperty(ut)&&(at(ut,Jt[ut]),st(ut.toLowerCase()));at("Weeks",6048e5),lt.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},lt.lang("en",{ordinal:function(e){var t=e%10,n=1===b(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),kt?module.exports=lt:"function"==typeof define&&define.amd?(define("moment",["require","exports","module"],function(e,t,n){return n.config&&n.config()&&n.config().noGlobal===!0&&(dt.moment=ct),lt}),ot(!0)):ot()}.call(this),function(){function e(t,n){(null===t||void 0===t)&&e.warn("Warning","You must pass your app key when you instantiate Pusher."),n=n||{};var i=this;this.key=t,this.config=e.Util.extend(e.getGlobalConfig(),n.cluster?e.getClusterConfig(n.cluster):{},n),this.channels=new e.Channels,this.global_emitter=new e.EventsDispatcher,this.sessionID=Math.floor(1e9*Math.random()),this.timeline=new e.Timeline(this.key,this.sessionID,{cluster:this.config.cluster,features:e.Util.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:e.Timeline.INFO,version:e.VERSION}),this.config.disableStats||(this.timelineSender=new e.TimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/jsonp"})),this.connection=new e.ConnectionManager(this.key,e.Util.extend({getStrategy:function(t){return t=e.Util.extend({},i.config,t),e.StrategyBuilder.build(e.getDefaultStrategy(t),t)},timeline:this.timeline,activityTimeout:this.config.activity_timeout,pongTimeout:this.config.pong_timeout,unavailableTimeout:this.config.unavailable_timeout},this.config,{encrypted:this.isEncrypted()})),this.connection.bind("connected",function(){i.subscribeAll(),i.timelineSender&&i.timelineSender.send(i.connection.isEncrypted())}),this.connection.bind("message",function(e){var t=0===e.event.indexOf("pusher_internal:");if(e.channel){var n=i.channel(e.channel);n&&n.handleEvent(e.event,e.data)}t||i.global_emitter.emit(e.event,e.data)}),this.connection.bind("disconnected",function(){i.channels.disconnect()}),this.connection.bind("error",function(t){e.warn("Error",t)}),e.instances.push(this),this.timeline.info({instances:e.instances.length}),e.isReady&&i.connect()}var t=e.prototype;e.instances=[],e.isReady=!1,e.debug=function(){e.log&&e.log(e.Util.stringify.apply(this,arguments))},e.warn=function(){var t=e.Util.stringify.apply(this,arguments);window.console&&(window.console.warn?window.console.warn(t):window.console.log&&window.console.log(t)),e.log&&e.log(t)},e.ready=function(){e.isReady=!0;for(var t=0,n=e.instances.length;n>t;t++)e.instances[t].connect()},t.channel=function(e){return this.channels.find(e)},t.allChannels=function(){return this.channels.all()},t.connect=function(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var t=this.connection.isEncrypted(),n=this.timelineSender;this.timelineSenderTimer=new e.PeriodicTimer(6e4,function(){n.send(t)})}},t.disconnect=function(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)},t.bind=function(e,t){return this.global_emitter.bind(e,t),this},t.bind_all=function(e){return this.global_emitter.bind_all(e),this},t.subscribeAll=function(){for(var e in this.channels.channels)this.channels.channels.hasOwnProperty(e)&&this.subscribe(e)},t.subscribe=function(e){return e=this.channels.add(e,this),"connected"===this.connection.state&&e.subscribe(),e},t.unsubscribe=function(e){e=this.channels.remove(e),"connected"===this.connection.state&&e.unsubscribe()},t.send_event=function(e,t,n){return this.connection.send_event(e,t,n)},t.isEncrypted=function(){return"https:"===e.Util.getDocument().location.protocol?!0:Boolean(this.config.encrypted)},e.HTTP={},this.Pusher=e}.call(this),function(){function e(e){window.clearTimeout(e)
}function t(e){window.clearInterval(e)}function n(e,t,n,i){var r=this;this.clear=t,this.timer=e(function(){null!==r.timer&&(r.timer=i(r.timer))},n)}var i=n.prototype;i.isRunning=function(){return null!==this.timer},i.ensureAborted=function(){this.timer&&(this.clear(this.timer),this.timer=null)},Pusher.Timer=function(t,i){return new n(setTimeout,e,t,function(){return i(),null})},Pusher.PeriodicTimer=function(e,i){return new n(setInterval,t,e,function(e){return i(),e})}}.call(this),function(){Pusher.Util={now:function(){return Date.now?Date.now():(new Date).valueOf()},defer:function(e){return new Pusher.Timer(0,e)},extend:function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)e[n]=i[n]&&i[n].constructor&&i[n].constructor===Object?Pusher.Util.extend(e[n]||{},i[n]):i[n]}return e},stringify:function(){for(var e=["Pusher"],t=0;t<arguments.length;t++)e.push("string"==typeof arguments[t]?arguments[t]:void 0===window.JSON?arguments[t].toString():JSON.stringify(arguments[t]));return e.join(" : ")},arrayIndexOf:function(e,t){var n=Array.prototype.indexOf;if(null===e)return-1;if(n&&e.indexOf===n)return e.indexOf(t);for(var n=0,i=e.length;i>n;n++)if(e[n]===t)return n;return-1},objectApply:function(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(e[n],n,e)},keys:function(e){var t=[];return Pusher.Util.objectApply(e,function(e,n){t.push(n)}),t},values:function(e){var t=[];return Pusher.Util.objectApply(e,function(e){t.push(e)}),t},apply:function(e,t,n){for(var i=0;i<e.length;i++)t.call(n||window,e[i],i,e)},map:function(e,t){for(var n=[],i=0;i<e.length;i++)n.push(t(e[i],i,e,n));return n},mapObject:function(e,t){var n={};return Pusher.Util.objectApply(e,function(e,i){n[i]=t(e)}),n},filter:function(e,t){t=t||function(e){return!!e};for(var n=[],i=0;i<e.length;i++)t(e[i],i,e,n)&&n.push(e[i]);return n},filterObject:function(e,t){var n={};return Pusher.Util.objectApply(e,function(i,r){(t&&t(i,r,e,n)||Boolean(i))&&(n[r]=i)}),n},flatten:function(e){var t=[];return Pusher.Util.objectApply(e,function(e,n){t.push([n,e])}),t},any:function(e,t){for(var n=0;n<e.length;n++)if(t(e[n],n,e))return!0;return!1},all:function(e,t){for(var n=0;n<e.length;n++)if(!t(e[n],n,e))return!1;return!0},method:function(e){var t=Array.prototype.slice.call(arguments,1);return function(n){return n[e].apply(n,t.concat(arguments))}},getWindow:function(){return window},getDocument:function(){return document},getNavigator:function(){return navigator},getLocalStorage:function(){try{return window.localStorage}catch(e){}},getClientFeatures:function(){return Pusher.Util.keys(Pusher.Util.filterObject({ws:Pusher.WSTransport,flash:Pusher.FlashTransport},function(e){return e.isSupported({})}))},addWindowListener:function(e,t){var n=Pusher.Util.getWindow();void 0!==n.addEventListener?n.addEventListener(e,t,!1):n.attachEvent("on"+e,t)},removeWindowListener:function(e,t){var n=Pusher.Util.getWindow();void 0!==n.addEventListener?n.removeEventListener(e,t,!1):n.detachEvent("on"+e,t)},isXHRSupported:function(){var e=window.XMLHttpRequest;return Boolean(e)&&void 0!==(new e).withCredentials},isXDRSupported:function(e){e=e?"https:":"http:";var t=Pusher.Util.getDocument().location.protocol;return Boolean(window.XDomainRequest)&&t===e}}}.call(this),function(){Pusher.VERSION="2.2.0",Pusher.PROTOCOL=7,Pusher.host="ws.pusherapp.com",Pusher.ws_port=80,Pusher.wss_port=443,Pusher.sockjs_host="sockjs.pusher.com",Pusher.sockjs_http_port=80,Pusher.sockjs_https_port=443,Pusher.sockjs_path="/pusher",Pusher.stats_host="stats.pusher.com",Pusher.channel_auth_endpoint="/pusher/auth",Pusher.channel_auth_transport="ajax",Pusher.activity_timeout=12e4,Pusher.pong_timeout=3e4,Pusher.unavailable_timeout=1e4,Pusher.cdn_http="http://js.pusher.com/",Pusher.cdn_https="https://d3dy5gmtp8yhk7.cloudfront.net/",Pusher.dependency_suffix=".min",Pusher.getDefaultStrategy=function(e){return[[":def","ws_options",{hostUnencrypted:e.wsHost+":"+e.wsPort,hostEncrypted:e.wsHost+":"+e.wssPort}],[":def","wss_options",[":extend",":ws_options",{encrypted:!0}]],[":def","sockjs_options",{hostUnencrypted:e.httpHost+":"+e.httpPort,hostEncrypted:e.httpHost+":"+e.httpsPort}],[":def","timeouts",{loop:!0,timeout:15e3,timeoutLimit:6e4}],[":def","ws_manager",[":transport_manager",{lives:2,minPingDelay:1e4,maxPingDelay:e.activity_timeout}]],[":def","streaming_manager",[":transport_manager",{lives:2,minPingDelay:1e4,maxPingDelay:e.activity_timeout}]],[":def_transport","ws","ws",3,":ws_options",":ws_manager"],[":def_transport","wss","ws",3,":wss_options",":ws_manager"],[":def_transport","flash","flash",2,":ws_options",":ws_manager"],[":def_transport","sockjs","sockjs",1,":sockjs_options"],[":def_transport","xhr_streaming","xhr_streaming",1,":sockjs_options",":streaming_manager"],[":def_transport","xdr_streaming","xdr_streaming",1,":sockjs_options",":streaming_manager"],[":def_transport","xhr_polling","xhr_polling",1,":sockjs_options"],[":def_transport","xdr_polling","xdr_polling",1,":sockjs_options"],[":def","ws_loop",[":sequential",":timeouts",":ws"]],[":def","wss_loop",[":sequential",":timeouts",":wss"]],[":def","flash_loop",[":sequential",":timeouts",":flash"]],[":def","sockjs_loop",[":sequential",":timeouts",":sockjs"]],[":def","streaming_loop",[":sequential",":timeouts",[":if",[":is_supported",":xhr_streaming"],":xhr_streaming",":xdr_streaming"]]],[":def","polling_loop",[":sequential",":timeouts",[":if",[":is_supported",":xhr_polling"],":xhr_polling",":xdr_polling"]]],[":def","http_loop",[":if",[":is_supported",":streaming_loop"],[":best_connected_ever",":streaming_loop",[":delayed",4e3,[":polling_loop"]]],[":polling_loop"]]],[":def","http_fallback_loop",[":if",[":is_supported",":http_loop"],[":http_loop"],[":sockjs_loop"]]],[":def","strategy",[":cached",18e5,[":first_connected",[":if",[":is_supported",":ws"],e.encrypted?[":best_connected_ever",":ws_loop",[":delayed",2e3,[":http_fallback_loop"]]]:[":best_connected_ever",":ws_loop",[":delayed",2e3,[":wss_loop"]],[":delayed",5e3,[":http_fallback_loop"]]],[":if",[":is_supported",":flash"],[":best_connected_ever",":flash_loop",[":delayed",2e3,[":http_fallback_loop"]]],[":http_fallback_loop"]]]]]]]}}.call(this),function(){Pusher.getGlobalConfig=function(){return{wsHost:Pusher.host,wsPort:Pusher.ws_port,wssPort:Pusher.wss_port,httpHost:Pusher.sockjs_host,httpPort:Pusher.sockjs_http_port,httpsPort:Pusher.sockjs_https_port,httpPath:Pusher.sockjs_path,statsHost:Pusher.stats_host,authEndpoint:Pusher.channel_auth_endpoint,authTransport:Pusher.channel_auth_transport,activity_timeout:Pusher.activity_timeout,pong_timeout:Pusher.pong_timeout,unavailable_timeout:Pusher.unavailable_timeout}},Pusher.getClusterConfig=function(e){return{wsHost:"ws-"+e+".pusher.com",httpHost:"sockjs-"+e+".pusher.com"}}}.call(this),function(){function e(e){var t=function(t){Error.call(this,t),this.name=e};return Pusher.Util.extend(t.prototype,Error.prototype),t}Pusher.Errors={BadEventName:e("BadEventName"),RequestTimedOut:e("RequestTimedOut"),TransportPriorityTooLow:e("TransportPriorityTooLow"),TransportClosed:e("TransportClosed"),UnsupportedTransport:e("UnsupportedTransport"),UnsupportedStrategy:e("UnsupportedStrategy")}}.call(this),function(){function e(e){this.callbacks=new t,this.global_callbacks=[],this.failThrough=e}function t(){this._callbacks={}}var n=e.prototype;n.bind=function(e,t,n){return this.callbacks.add(e,t,n),this},n.bind_all=function(e){return this.global_callbacks.push(e),this},n.unbind=function(e,t,n){return this.callbacks.remove(e,t,n),this},n.unbind_all=function(e,t){return this.callbacks.remove(e,t),this},n.emit=function(e,t){var n;for(n=0;n<this.global_callbacks.length;n++)this.global_callbacks[n](e,t);var i=this.callbacks.get(e);if(i&&0<i.length)for(n=0;n<i.length;n++)i[n].fn.call(i[n].context||window,t);else this.failThrough&&this.failThrough(e,t);return this},t.prototype.get=function(e){return this._callbacks["_"+e]},t.prototype.add=function(e,t,n){e="_"+e,this._callbacks[e]=this._callbacks[e]||[],this._callbacks[e].push({fn:t,context:n})},t.prototype.remove=function(e,t,n){e||t||n?(e=e?["_"+e]:Pusher.Util.keys(this._callbacks),t||n?Pusher.Util.apply(e,function(e){this._callbacks[e]=Pusher.Util.filter(this._callbacks[e]||[],function(e){return t&&t!==e.fn||n&&n!==e.context}),0===this._callbacks[e].length&&delete this._callbacks[e]},this):Pusher.Util.apply(e,function(e){delete this._callbacks[e]},this)):this._callbacks={}},Pusher.EventsDispatcher=e}.call(this),function(){function e(e,t){this.lastId=0,this.prefix=e,this.name=t}var t=e.prototype;t.create=function(e){this.lastId++;var t=this.lastId,n=this.prefix+t,i=this.name+"["+t+"]",r=!1,s=function(){r||(e.apply(null,arguments),r=!0)};return this[t]=s,{number:t,id:n,name:i,callback:s}},t.remove=function(e){delete this[e.number]},Pusher.ScriptReceiverFactory=e,Pusher.ScriptReceivers=new e("_pusher_script_","Pusher.ScriptReceivers")}.call(this),function(){function e(e){this.src=e}var t=e.prototype;t.send=function(e){var t=this,n="Error loading "+t.src;t.script=document.createElement("script"),t.script.id=e.id,t.script.src=t.src,t.script.type="text/javascript",t.script.charset="UTF-8",t.script.addEventListener?(t.script.onerror=function(){e.callback(n)},t.script.onload=function(){e.callback(null)}):t.script.onreadystatechange=function(){("loaded"===t.script.readyState||"complete"===t.script.readyState)&&e.callback(null)},void 0===t.script.async&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(t.errorScript=document.createElement("script"),t.errorScript.id=e.id+"_error",t.errorScript.text=e.name+"('"+n+"');",t.script.async=t.errorScript.async=!1):t.script.async=!0;var i=document.getElementsByTagName("head")[0];i.insertBefore(t.script,i.firstChild),t.errorScript&&i.insertBefore(t.errorScript,t.script.nextSibling)},t.cleanup=function(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.errorScript=this.script=null},Pusher.ScriptRequest=e}.call(this),function(){function e(e){this.options=e,this.receivers=e.receivers||Pusher.ScriptReceivers,this.loading={}}var t=e.prototype;t.load=function(e,t){var n=this;if(n.loading[e]&&0<n.loading[e].length)n.loading[e].push(t);else{n.loading[e]=[t];var i=new Pusher.ScriptRequest(n.getPath(e)),r=n.receivers.create(function(t){if(n.receivers.remove(r),n.loading[e]){var s=n.loading[e];delete n.loading[e];for(var a=function(e){e||i.cleanup()},o=0;o<s.length;o++)s[o](t,a)}});i.send(r)}},t.getRoot=function(e){var t=Pusher.Util.getDocument().location.protocol;return(e&&e.encrypted||"https:"===t?this.options.cdn_https:this.options.cdn_http).replace(/\/*$/,"")+"/"+this.options.version},t.getPath=function(e,t){return this.getRoot(t)+"/"+e+this.options.suffix+".js"},Pusher.DependencyLoader=e}.call(this),function(){function e(){Pusher.ready()}function t(e){document.body?e():setTimeout(function(){t(e)},0)}function n(){t(e)}Pusher.DependenciesReceivers=new Pusher.ScriptReceiverFactory("_pusher_dependencies","Pusher.DependenciesReceivers"),Pusher.Dependencies=new Pusher.DependencyLoader({cdn_http:Pusher.cdn_http,cdn_https:Pusher.cdn_https,version:Pusher.VERSION,suffix:Pusher.dependency_suffix,receivers:Pusher.DependenciesReceivers}),window.JSON?n():Pusher.Dependencies.load("json2",n)}(),function(){for(var e=String.fromCharCode,t=0;64>t;t++)"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(t);var n=function(t){var n=t.charCodeAt(0);return 128>n?t:2048>n?e(192|n>>>6)+e(128|63&n):e(224|n>>>12&15)+e(128|n>>>6&63)+e(128|63&n)},i=function(e){var t=[0,2,1][e.length%3];return e=e.charCodeAt(0)<<16|(1<e.length?e.charCodeAt(1):0)<<8|(2<e.length?e.charCodeAt(2):0),["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e>>>18),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e>>>12&63),t>=2?"=":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e>>>6&63),t>=1?"=":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&e)].join("")},r=window.btoa||function(e){return e.replace(/[\s\S]{1,3}/g,i)};Pusher.Base64={encode:function(e){return r(e.replace(/[^\x00-\x7F]/g,n))}}}.call(this),function(){function e(e,t){this.url=e,this.data=t}function t(e){return Pusher.Util.mapObject(e,function(e){return"object"==typeof e&&(e=JSON.stringify(e)),encodeURIComponent(Pusher.Base64.encode(e.toString()))})}var n=e.prototype;n.send=function(e){if(!this.request){var n=Pusher.Util.filterObject(this.data,function(e){return void 0!==e}),n=Pusher.Util.map(Pusher.Util.flatten(t(n)),Pusher.Util.method("join","=")).join("&");this.request=new Pusher.ScriptRequest(this.url+"/"+e.number+"?"+n),this.request.send(e)}},n.cleanup=function(){this.request&&this.request.cleanup()},Pusher.JSONPRequest=e}.call(this),function(){function e(e,t,n){this.key=e,this.session=t,this.events=[],this.options=n||{},this.uniqueID=this.sent=0}var t=e.prototype;e.ERROR=3,e.INFO=6,e.DEBUG=7,t.log=function(e,t){e<=this.options.level&&(this.events.push(Pusher.Util.extend({},t,{timestamp:Pusher.Util.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())},t.error=function(t){this.log(e.ERROR,t)},t.info=function(t){this.log(e.INFO,t)},t.debug=function(t){this.log(e.DEBUG,t)},t.isEmpty=function(){return 0===this.events.length},t.send=function(e,t){var n=this,i=Pusher.Util.extend({session:n.session,bundle:n.sent+1,key:n.key,lib:"js",version:n.options.version,cluster:n.options.cluster,features:n.options.features,timeline:n.events},n.options.params);return n.events=[],e(i,function(e,i){e||n.sent++,t&&t(e,i)}),!0},t.generateUniqueID=function(){return this.uniqueID++,this.uniqueID},Pusher.Timeline=e}.call(this),function(){function e(e,t){this.timeline=e,this.options=t||{}}e.prototype.send=function(e,t){var n=this;n.timeline.isEmpty()||n.timeline.send(function(t,i){var r=new Pusher.JSONPRequest("http"+(e?"s":"")+"://"+(n.host||n.options.host)+n.options.path,t),s=Pusher.ScriptReceivers.create(function(e,t){Pusher.ScriptReceivers.remove(s),r.cleanup(),t&&t.host&&(n.host=t.host),i&&i(e,t)});r.send(s)},t)},Pusher.TimelineSender=e}.call(this),function(){function e(e){this.strategies=e}function t(e,t,n){var r=Pusher.Util.map(e,function(e,i,r,s){return e.connect(t,n(i,s))});return{abort:function(){Pusher.Util.apply(r,i)},forceMinPriority:function(e){Pusher.Util.apply(r,function(t){t.forceMinPriority(e)})}}}function n(e){return Pusher.Util.all(e,function(e){return Boolean(e.error)})}function i(e){!e.error&&!e.aborted&&(e.abort(),e.aborted=!0)}var r=e.prototype;r.isSupported=function(){return Pusher.Util.any(this.strategies,Pusher.Util.method("isSupported"))},r.connect=function(e,i){return t(this.strategies,e,function(e,t){return function(r,s){(t[e].error=r)?n(t)&&i(!0):(Pusher.Util.apply(t,function(e){e.forceMinPriority(s.transport.priority)}),i(null,s))}})},Pusher.BestConnectedEverStrategy=e}.call(this),function(){function e(e,t,n){this.strategy=e,this.transports=t,this.ttl=n.ttl||18e5,this.encrypted=n.encrypted,this.timeline=n.timeline}function t(e){return"pusherTransport"+(e?"Encrypted":"Unencrypted")}function n(e){var n=Pusher.Util.getLocalStorage();if(n)try{var r=n[t(e)];if(r)return JSON.parse(r)}catch(s){i(e)}return null}function i(e){var n=Pusher.Util.getLocalStorage();if(n)try{delete n[t(e)]}catch(i){}}var r=e.prototype;r.isSupported=function(){return this.strategy.isSupported()},r.connect=function(e,r){var s=this.encrypted,a=n(s),o=[this.strategy];if(a&&a.timestamp+this.ttl>=Pusher.Util.now()){var l=this.transports[a.transport];l&&(this.timeline.info({cached:!0,transport:a.transport,latency:a.latency}),o.push(new Pusher.SequentialStrategy([l],{timeout:2*a.latency+1e3,failFast:!0})))}var c=Pusher.Util.now(),u=o.pop().connect(e,function h(n,a){if(n)i(s),0<o.length?(c=Pusher.Util.now(),u=o.pop().connect(e,h)):r(n);else{var l=a.transport.name,d=Pusher.Util.now()-c,p=Pusher.Util.getLocalStorage();if(p)try{p[t(s)]=JSON.stringify({timestamp:Pusher.Util.now(),transport:l,latency:d})}catch(f){}r(null,a)}});return{abort:function(){u.abort()},forceMinPriority:function(t){e=t,u&&u.forceMinPriority(t)}}},Pusher.CachedStrategy=e}.call(this),function(){function e(e,t){this.strategy=e,this.options={delay:t.delay}}var t=e.prototype;t.isSupported=function(){return this.strategy.isSupported()},t.connect=function(e,t){var n,i=this.strategy,r=new Pusher.Timer(this.options.delay,function(){n=i.connect(e,t)});return{abort:function(){r.ensureAborted(),n&&n.abort()},forceMinPriority:function(t){e=t,n&&n.forceMinPriority(t)}}},Pusher.DelayedStrategy=e}.call(this),function(){function e(e){this.strategy=e}var t=e.prototype;t.isSupported=function(){return this.strategy.isSupported()},t.connect=function(e,t){var n=this.strategy.connect(e,function(e,i){i&&n.abort(),t(e,i)});return n},Pusher.FirstConnectedStrategy=e}.call(this),function(){function e(e,t,n){this.test=e,this.trueBranch=t,this.falseBranch=n}var t=e.prototype;t.isSupported=function(){return(this.test()?this.trueBranch:this.falseBranch).isSupported()},t.connect=function(e,t){return(this.test()?this.trueBranch:this.falseBranch).connect(e,t)},Pusher.IfStrategy=e}.call(this),function(){function e(e,t){this.strategies=e,this.loop=Boolean(t.loop),this.failFast=Boolean(t.failFast),this.timeout=t.timeout,this.timeoutLimit=t.timeoutLimit}var t=e.prototype;t.isSupported=function(){return Pusher.Util.any(this.strategies,Pusher.Util.method("isSupported"))},t.connect=function(e,t){var n=this,i=this.strategies,r=0,s=this.timeout,a=null,o=function(l,c){c?t(null,c):(r+=1,n.loop&&(r%=i.length),r<i.length?(s&&(s*=2,n.timeoutLimit&&(s=Math.min(s,n.timeoutLimit))),a=n.tryStrategy(i[r],e,{timeout:s,failFast:n.failFast},o)):t(!0))},a=this.tryStrategy(i[r],e,{timeout:s,failFast:this.failFast},o);return{abort:function(){a.abort()},forceMinPriority:function(t){e=t,a&&a.forceMinPriority(t)}}},t.tryStrategy=function(e,t,n,i){var r=null,s=null;return 0<n.timeout&&(r=new Pusher.Timer(n.timeout,function(){s.abort(),i(!0)})),s=e.connect(t,function(e,t){e&&r&&r.isRunning()&&!n.failFast||(r&&r.ensureAborted(),i(e,t))}),{abort:function(){r&&r.ensureAborted(),s.abort()},forceMinPriority:function(e){s.forceMinPriority(e)}}},Pusher.SequentialStrategy=e}.call(this),function(){function e(e,t,n,i){this.name=e,this.priority=t,this.transport=n,this.options=i||{}}function t(e,t){return Pusher.Util.defer(function(){t(e)}),{abort:function(){},forceMinPriority:function(){}}}var n=e.prototype;n.isSupported=function(){return this.transport.isSupported({encrypted:this.options.encrypted})},n.connect=function(e,n){if(!this.isSupported())return t(new Pusher.Errors.UnsupportedStrategy,n);if(this.priority<e)return t(new Pusher.Errors.TransportPriorityTooLow,n);var i=this,r=!1,s=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),a=null,o=function(){s.unbind("initialized",o),s.connect()},l=function(){a=new Pusher.Handshake(s,function(e){r=!0,h(),n(null,e)})},c=function(e){h(),n(e)},u=function(){h(),n(new Pusher.Errors.TransportClosed(s))},h=function(){s.unbind("initialized",o),s.unbind("open",l),s.unbind("error",c),s.unbind("closed",u)};return s.bind("initialized",o),s.bind("open",l),s.bind("error",c),s.bind("closed",u),s.initialize(),{abort:function(){r||(h(),a?a.close():s.close())},forceMinPriority:function(e){r||i.priority<e&&(a?a.close():s.close())}}},Pusher.TransportStrategy=e}.call(this),function(){function e(e,t,n){return e+(t.encrypted?"s":"")+"://"+(t.encrypted?t.hostEncrypted:t.hostUnencrypted)+n}function t(e,t){return"/app/"+e+("?protocol="+Pusher.PROTOCOL+"&client=js&version="+Pusher.VERSION+(t?"&"+t:""))}Pusher.URLSchemes={ws:{getInitial:function(n,i){return e("ws",i,t(n,"flash=false"))}},flash:{getInitial:function(n,i){return e("ws",i,t(n,"flash=true"))}},sockjs:{getInitial:function(t,n){return e("http",n,n.httpPath||"/pusher","")},getPath:function(e){return t(e)}},http:{getInitial:function(n,i){var r=(i.httpPath||"/pusher")+t(n);return e("http",i,r)}}}}.call(this),function(){function e(e,t,n,i,r){Pusher.EventsDispatcher.call(this),this.hooks=e,this.name=t,this.priority=n,this.key=i,this.options=r,this.state="new",this.timeline=r.timeline,this.activityTimeout=r.activityTimeout,this.id=this.timeline.generateUniqueID()}var t=e.prototype;Pusher.Util.extend(t,Pusher.EventsDispatcher.prototype),t.handlesActivityChecks=function(){return Boolean(this.hooks.handlesActivityChecks)},t.supportsPing=function(){return Boolean(this.hooks.supportsPing)},t.initialize=function(){var e=this;e.timeline.info(e.buildTimelineMessage({transport:e.name+(e.options.encrypted?"s":"")})),e.hooks.beforeInitialize&&e.hooks.beforeInitialize(),e.hooks.isInitialized()?e.changeState("initialized"):e.hooks.file?(e.changeState("initializing"),Pusher.Dependencies.load(e.hooks.file,function(t,n){e.hooks.isInitialized()?(e.changeState("initialized"),n(!0)):(t&&e.onError(t),e.onClose(),n(!1))})):e.onClose()},t.connect=function(){var e=this;if(e.socket||"initialized"!==e.state)return!1;var t=e.hooks.urls.getInitial(e.key,e.options);try{e.socket=e.hooks.getSocket(t,e.options)}catch(n){return Pusher.Util.defer(function(){e.onError(n),e.changeState("closed")}),!1}return e.bindListeners(),Pusher.debug("Connecting",{transport:e.name,url:t}),e.changeState("connecting"),!0},t.close=function(){return this.socket?(this.socket.close(),!0):!1},t.send=function(e){var t=this;return"open"===t.state?(Pusher.Util.defer(function(){t.socket&&t.socket.send(e)}),!0):!1},t.ping=function(){"open"===this.state&&this.supportsPing()&&this.socket.ping()},t.onOpen=function(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0},t.onError=function(e){this.emit("error",{type:"WebSocketError",error:e}),this.timeline.error(this.buildTimelineMessage({error:e.toString()}))},t.onClose=function(e){e?this.changeState("closed",{code:e.code,reason:e.reason,wasClean:e.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0},t.onMessage=function(e){this.emit("message",e)},t.onActivity=function(){this.emit("activity")},t.bindListeners=function(){var e=this;e.socket.onopen=function(){e.onOpen()},e.socket.onerror=function(t){e.onError(t)},e.socket.onclose=function(t){e.onClose(t)},e.socket.onmessage=function(t){e.onMessage(t)},e.supportsPing()&&(e.socket.onactivity=function(){e.onActivity()})},t.unbindListeners=function(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))},t.changeState=function(e,t){this.state=e,this.timeline.info(this.buildTimelineMessage({state:e,params:t})),this.emit(e,t)},t.buildTimelineMessage=function(e){return Pusher.Util.extend({cid:this.id},e)},Pusher.TransportConnection=e}.call(this),function(){function e(e){this.hooks=e}var t=e.prototype;t.isSupported=function(e){return this.hooks.isSupported(e)},t.createConnection=function(e,t,n,i){return new Pusher.TransportConnection(this.hooks,e,t,n,i)},Pusher.Transport=e}.call(this),function(){Pusher.WSTransport=new Pusher.Transport({urls:Pusher.URLSchemes.ws,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return Boolean(window.WebSocket||window.MozWebSocket)},isSupported:function(){return Boolean(window.WebSocket||window.MozWebSocket)},getSocket:function(e){return new(window.WebSocket||window.MozWebSocket)(e)}}),Pusher.FlashTransport=new Pusher.Transport({file:"flashfallback",urls:Pusher.URLSchemes.flash,handlesActivityChecks:!1,supportsPing:!1,isSupported:function(){try{return Boolean(new ActiveXObject("ShockwaveFlash.ShockwaveFlash"))}catch(e){try{var t=Pusher.Util.getNavigator();return Boolean(t&&t.mimeTypes&&void 0!==t.mimeTypes["application/x-shockwave-flash"])}catch(n){return!1}}},beforeInitialize:function(){void 0===window.WEB_SOCKET_SUPPRESS_CROSS_DOMAIN_SWF_ERROR&&(window.WEB_SOCKET_SUPPRESS_CROSS_DOMAIN_SWF_ERROR=!0),window.WEB_SOCKET_SWF_LOCATION=Pusher.Dependencies.getRoot()+"/WebSocketMain.swf"},isInitialized:function(){return void 0!==window.FlashWebSocket},getSocket:function(e){return new FlashWebSocket(e)}}),Pusher.SockJSTransport=new Pusher.Transport({file:"sockjs",urls:Pusher.URLSchemes.sockjs,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return void 0!==window.SockJS},getSocket:function(e,t){return new SockJS(e,null,{js_path:Pusher.Dependencies.getPath("sockjs",{encrypted:t.encrypted}),ignore_null_origin:t.ignoreNullOrigin})},beforeOpen:function(e,t){e.send(JSON.stringify({path:t}))}});var e={urls:Pusher.URLSchemes.http,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return Boolean(Pusher.HTTP.Socket)}},t=Pusher.Util.extend({getSocket:function(e){return Pusher.HTTP.getStreamingSocket(e)}},e),e=Pusher.Util.extend({getSocket:function(e){return Pusher.HTTP.getPollingSocket(e)}},e),n={file:"xhr",isSupported:Pusher.Util.isXHRSupported},i={file:"xdr",isSupported:function(e){return Pusher.Util.isXDRSupported(e.encrypted)}};Pusher.XHRStreamingTransport=new Pusher.Transport(Pusher.Util.extend({},t,n)),Pusher.XDRStreamingTransport=new Pusher.Transport(Pusher.Util.extend({},t,i)),Pusher.XHRPollingTransport=new Pusher.Transport(Pusher.Util.extend({},e,n)),Pusher.XDRPollingTransport=new Pusher.Transport(Pusher.Util.extend({},e,i))}.call(this),function(){function e(e,t,n){this.manager=e,this.transport=t,this.minPingDelay=n.minPingDelay,this.maxPingDelay=n.maxPingDelay,this.pingDelay=void 0}var t=e.prototype;t.createConnection=function(e,t,n,i){var r=this;i=Pusher.Util.extend({},i,{activityTimeout:r.pingDelay});var s=r.transport.createConnection(e,t,n,i),a=null,o=function(){s.unbind("open",o),s.bind("closed",l),a=Pusher.Util.now()},l=function(e){s.unbind("closed",l),1002===e.code||1003===e.code?r.manager.reportDeath():!e.wasClean&&a&&(e=Pusher.Util.now()-a,e<2*r.maxPingDelay&&(r.manager.reportDeath(),r.pingDelay=Math.max(e/2,r.minPingDelay)))};return s.bind("open",o),s},t.isSupported=function(e){return this.manager.isAlive()&&this.transport.isSupported(e)},Pusher.AssistantToTheTransportManager=e}.call(this),function(){function e(e){this.options=e||{},this.livesLeft=this.options.lives||1/0}var t=e.prototype;t.getAssistant=function(e){return new Pusher.AssistantToTheTransportManager(this,e,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})},t.isAlive=function(){return 0<this.livesLeft},t.reportDeath=function(){this.livesLeft-=1},Pusher.TransportManager=e}.call(this),function(){function e(e){return function(t){return[e.apply(this,arguments),t]}}function t(e,n){if(0===e.length)return[[],n];var r=i(e[0],n),s=t(e.slice(1),r[1]);return[[r[0]].concat(s[0]),s[1]]}function n(e,n){if("string"==typeof e[0]&&":"===e[0].charAt(0)){var r=n[e[0].slice(1)];if(1<e.length){if("function"!=typeof r)throw"Calling non-function "+e[0];var s=[Pusher.Util.extend({},n)].concat(Pusher.Util.map(e.slice(1),function(e){return i(e,Pusher.Util.extend({},n))[0]}));return r.apply(this,s)}return[r,n]}return t(e,n)}function i(e,t){if("string"==typeof e){var i;if("string"==typeof e&&":"===e.charAt(0)){if(i=t[e.slice(1)],void 0===i)throw"Undefined symbol "+e;i=[i,t]}else i=[e,t];return i}return"object"==typeof e&&e instanceof Array&&0<e.length?n(e,t):[e,t]}var r={ws:Pusher.WSTransport,flash:Pusher.FlashTransport,sockjs:Pusher.SockJSTransport,xhr_streaming:Pusher.XHRStreamingTransport,xdr_streaming:Pusher.XDRStreamingTransport,xhr_polling:Pusher.XHRPollingTransport,xdr_polling:Pusher.XDRPollingTransport},s={isSupported:function(){return!1},connect:function(e,t){var n=Pusher.Util.defer(function(){t(new Pusher.Errors.UnsupportedStrategy)});return{abort:function(){n.ensureAborted()},forceMinPriority:function(){}}}},a={extend:function(e,t,n){return[Pusher.Util.extend({},t,n),e]},def:function(e,t,n){if(void 0!==e[t])throw"Redefining symbol "+t;return e[t]=n,[void 0,e]},def_transport:function(e,t,n,i,a,o){var l=r[n];if(!l)throw new Pusher.Errors.UnsupportedTransport(n);return n=e.enabledTransports&&-1===Pusher.Util.arrayIndexOf(e.enabledTransports,t)||e.disabledTransports&&-1!==Pusher.Util.arrayIndexOf(e.disabledTransports,t)||"flash"===t&&!0===e.disableFlash?s:new Pusher.TransportStrategy(t,i,o?o.getAssistant(l):l,Pusher.Util.extend({key:e.key,encrypted:e.encrypted,timeline:e.timeline,ignoreNullOrigin:e.ignoreNullOrigin},a)),i=e.def(e,t,n)[1],i.transports=e.transports||{},i.transports[t]=n,[void 0,i]},transport_manager:e(function(e,t){return new Pusher.TransportManager(t)}),sequential:e(function(e,t){var n=Array.prototype.slice.call(arguments,2);return new Pusher.SequentialStrategy(n,t)}),cached:e(function(e,t,n){return new Pusher.CachedStrategy(n,e.transports,{ttl:t,timeline:e.timeline,encrypted:e.encrypted})}),first_connected:e(function(e,t){return new Pusher.FirstConnectedStrategy(t)}),best_connected_ever:e(function(){var e=Array.prototype.slice.call(arguments,1);return new Pusher.BestConnectedEverStrategy(e)}),delayed:e(function(e,t,n){return new Pusher.DelayedStrategy(n,{delay:t})}),"if":e(function(e,t,n,i){return new Pusher.IfStrategy(t,n,i)}),is_supported:e(function(e,t){return function(){return t.isSupported()}})};Pusher.StrategyBuilder={build:function(e,t){var n=Pusher.Util.extend({},a,t);return i(e,n)[1].strategy}}}.call(this),function(){Pusher.Protocol={decodeMessage:function(e){try{var t=JSON.parse(e.data);if("string"==typeof t.data)try{t.data=JSON.parse(t.data)}catch(n){if(!(n instanceof SyntaxError))throw n}return t}catch(i){throw{type:"MessageParseError",error:i,data:e.data}}},encodeMessage:function(e){return JSON.stringify(e)},processHandshake:function(e){if(e=this.decodeMessage(e),"pusher:connection_established"===e.event){if(!e.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:e.data.socket_id,activityTimeout:1e3*e.data.activity_timeout}}if("pusher:error"===e.event)return{action:this.getCloseAction(e.data),error:this.getCloseError(e.data)};throw"Invalid handshake"},getCloseAction:function(e){return 4e3>e.code?1002<=e.code&&1004>=e.code?"backoff":null:4e3===e.code?"ssl_only":4100>e.code?"refused":4200>e.code?"backoff":4300>e.code?"retry":"refused"},getCloseError:function(e){return 1e3!==e.code&&1001!==e.code?{type:"PusherError",data:{code:e.code,message:e.reason||e.message}}:null}}}.call(this),function(){function e(e,t){Pusher.EventsDispatcher.call(this),this.id=e,this.transport=t,this.activityTimeout=t.activityTimeout,this.bindListeners()}var t=e.prototype;Pusher.Util.extend(t,Pusher.EventsDispatcher.prototype),t.handlesActivityChecks=function(){return this.transport.handlesActivityChecks()},t.send=function(e){return this.transport.send(e)},t.send_event=function(e,t,n){return e={event:e,data:t},n&&(e.channel=n),Pusher.debug("Event sent",e),this.send(Pusher.Protocol.encodeMessage(e))},t.ping=function(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})},t.close=function(){this.transport.close()},t.bindListeners=function(){var e=this,t={message:function(t){var n;try{n=Pusher.Protocol.decodeMessage(t)}catch(i){e.emit("error",{type:"MessageParseError",error:i,data:t.data})}if(void 0!==n){switch(Pusher.debug("Event recd",n),n.event){case"pusher:error":e.emit("error",{type:"PusherError",data:n.data});break;case"pusher:ping":e.emit("ping");break;case"pusher:pong":e.emit("pong")}e.emit("message",n)}},activity:function(){e.emit("activity")},error:function(t){e.emit("error",{type:"WebSocketError",error:t})},closed:function(t){n(),t&&t.code&&e.handleCloseEvent(t),e.transport=null,e.emit("closed")}},n=function(){Pusher.Util.objectApply(t,function(t,n){e.transport.unbind(n,t)})};Pusher.Util.objectApply(t,function(t,n){e.transport.bind(n,t)
})},t.handleCloseEvent=function(e){var t=Pusher.Protocol.getCloseAction(e);(e=Pusher.Protocol.getCloseError(e))&&this.emit("error",e),t&&this.emit(t)},Pusher.Connection=e}.call(this),function(){function e(e,t){this.transport=e,this.callback=t,this.bindListeners()}var t=e.prototype;t.close=function(){this.unbindListeners(),this.transport.close()},t.bindListeners=function(){var e=this;e.onMessage=function(t){e.unbindListeners();try{var n=Pusher.Protocol.processHandshake(t);"connected"===n.action?e.finish("connected",{connection:new Pusher.Connection(n.id,e.transport),activityTimeout:n.activityTimeout}):(e.finish(n.action,{error:n.error}),e.transport.close())}catch(i){e.finish("error",{error:i}),e.transport.close()}},e.onClosed=function(t){e.unbindListeners();var n=Pusher.Protocol.getCloseAction(t)||"backoff";t=Pusher.Protocol.getCloseError(t),e.finish(n,{error:t})},e.transport.bind("message",e.onMessage),e.transport.bind("closed",e.onClosed)},t.unbindListeners=function(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)},t.finish=function(e,t){this.callback(Pusher.Util.extend({transport:this.transport,action:e},t))},Pusher.Handshake=e}.call(this),function(){function e(e,t){Pusher.EventsDispatcher.call(this),this.key=e,this.options=t||{},this.state="initialized",this.connection=null,this.encrypted=!!t.encrypted,this.timeline=this.options.timeline,this.connectionCallbacks=this.buildConnectionCallbacks(),this.errorCallbacks=this.buildErrorCallbacks(),this.handshakeCallbacks=this.buildHandshakeCallbacks(this.errorCallbacks);var n=this;Pusher.Network.bind("online",function(){n.timeline.info({netinfo:"online"}),("connecting"===n.state||"unavailable"===n.state)&&n.retryIn(0)}),Pusher.Network.bind("offline",function(){n.timeline.info({netinfo:"offline"}),"connected"===n.state&&n.sendActivityCheck()}),this.updateStrategy()}var t=e.prototype;Pusher.Util.extend(t,Pusher.EventsDispatcher.prototype),t.connect=function(){!this.connection&&!this.runner&&(this.strategy.isSupported()?(this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()):this.updateState("failed"))},t.send=function(e){return this.connection?this.connection.send(e):!1},t.send_event=function(e,t,n){return this.connection?this.connection.send_event(e,t,n):!1},t.disconnect=function(){this.disconnectInternally(),this.updateState("disconnected")},t.isEncrypted=function(){return this.encrypted},t.startConnecting=function(){var e=this,t=function(n,i){n?e.runner=e.strategy.connect(0,t):"error"===i.action?(e.emit("error",{type:"HandshakeError",error:i.error}),e.timeline.error({handshakeError:i.error})):(e.abortConnecting(),e.handshakeCallbacks[i.action](i))};e.runner=e.strategy.connect(0,t)},t.abortConnecting=function(){this.runner&&(this.runner.abort(),this.runner=null)},t.disconnectInternally=function(){this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.stopActivityCheck(),this.connection&&this.abandonConnection().close()},t.updateStrategy=function(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,encrypted:this.encrypted})},t.retryIn=function(e){var t=this;t.timeline.info({action:"retry",delay:e}),e>0&&t.emit("connecting_in",Math.round(e/1e3)),t.retryTimer=new Pusher.Timer(e||0,function(){t.disconnectInternally(),t.connect()})},t.clearRetryTimer=function(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)},t.setUnavailableTimer=function(){var e=this;e.unavailableTimer=new Pusher.Timer(e.options.unavailableTimeout,function(){e.updateState("unavailable")})},t.clearUnavailableTimer=function(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()},t.sendActivityCheck=function(){var e=this;e.stopActivityCheck(),e.connection.ping(),e.activityTimer=new Pusher.Timer(e.options.pongTimeout,function(){e.timeline.error({pong_timed_out:e.options.pongTimeout}),e.retryIn(0)})},t.resetActivityCheck=function(){var e=this;e.stopActivityCheck(),e.connection.handlesActivityChecks()||(e.activityTimer=new Pusher.Timer(e.activityTimeout,function(){e.sendActivityCheck()}))},t.stopActivityCheck=function(){this.activityTimer&&this.activityTimer.ensureAborted()},t.buildConnectionCallbacks=function(){var e=this;return{message:function(t){e.resetActivityCheck(),e.emit("message",t)},ping:function(){e.send_event("pusher:pong",{})},activity:function(){e.resetActivityCheck()},error:function(t){e.emit("error",{type:"WebSocketError",error:t})},closed:function(){e.abandonConnection(),e.shouldRetry()&&e.retryIn(1e3)}}},t.buildHandshakeCallbacks=function(e){var t=this;return Pusher.Util.extend({},e,{connected:function(e){t.activityTimeout=Math.min(t.options.activityTimeout,e.activityTimeout,e.connection.activityTimeout||1/0),t.clearUnavailableTimer(),t.setConnection(e.connection),t.socket_id=t.connection.id,t.updateState("connected",{socket_id:t.socket_id})}})},t.buildErrorCallbacks=function(){function e(e){return function(n){n.error&&t.emit("error",{type:"WebSocketError",error:n.error}),e(n)}}var t=this;return{ssl_only:e(function(){t.encrypted=!0,t.updateStrategy(),t.retryIn(0)}),refused:e(function(){t.disconnect()}),backoff:e(function(){t.retryIn(1e3)}),retry:e(function(){t.retryIn(0)})}},t.setConnection=function(e){this.connection=e;for(var t in this.connectionCallbacks)this.connection.bind(t,this.connectionCallbacks[t]);this.resetActivityCheck()},t.abandonConnection=function(){if(this.connection){for(var e in this.connectionCallbacks)this.connection.unbind(e,this.connectionCallbacks[e]);return e=this.connection,this.connection=null,e}},t.updateState=function(e,t){var n=this.state;this.state=e,n!==e&&(Pusher.debug("State changed",n+" -> "+e),this.timeline.info({state:e,params:t}),this.emit("state_change",{previous:n,current:e}),this.emit(e,t))},t.shouldRetry=function(){return"connecting"===this.state||"connected"===this.state},Pusher.ConnectionManager=e}.call(this),function(){function e(){Pusher.EventsDispatcher.call(this);var e=this;void 0!==window.addEventListener&&(window.addEventListener("online",function(){e.emit("online")},!1),window.addEventListener("offline",function(){e.emit("offline")},!1))}Pusher.Util.extend(e.prototype,Pusher.EventsDispatcher.prototype),e.prototype.isOnline=function(){return void 0===window.navigator.onLine?!0:window.navigator.onLine},Pusher.NetInfo=e,Pusher.Network=new e}.call(this),function(){function e(){this.reset()}var t=e.prototype;t.get=function(e){return Object.prototype.hasOwnProperty.call(this.members,e)?{id:e,info:this.members[e]}:null},t.each=function(e){var t=this;Pusher.Util.objectApply(t.members,function(n,i){e(t.get(i))})},t.setMyID=function(e){this.myID=e},t.onSubscription=function(e){this.members=e.presence.hash,this.count=e.presence.count,this.me=this.get(this.myID)},t.addMember=function(e){return null===this.get(e.user_id)&&this.count++,this.members[e.user_id]=e.user_info,this.get(e.user_id)},t.removeMember=function(e){var t=this.get(e.user_id);return t&&(delete this.members[e.user_id],this.count--),t},t.reset=function(){this.members={},this.count=0,this.me=this.myID=null},Pusher.Members=e}.call(this),function(){function e(e,t){Pusher.EventsDispatcher.call(this,function(t){Pusher.debug("No callbacks on "+e+" for "+t)}),this.name=e,this.pusher=t,this.subscribed=!1}var t=e.prototype;Pusher.Util.extend(t,Pusher.EventsDispatcher.prototype),t.authorize=function(e,t){return t(!1,{})},t.trigger=function(e,t){if(0!==e.indexOf("client-"))throw new Pusher.Errors.BadEventName("Event '"+e+"' does not start with 'client-'");return this.pusher.send_event(e,t,this.name)},t.disconnect=function(){this.subscribed=!1},t.handleEvent=function(e,t){0===e.indexOf("pusher_internal:")?"pusher_internal:subscription_succeeded"===e&&(this.subscribed=!0,this.emit("pusher:subscription_succeeded",t)):this.emit(e,t)},t.subscribe=function(){var e=this;e.authorize(e.pusher.connection.socket_id,function(t,n){t?e.handleEvent("pusher:subscription_error",n):e.pusher.send_event("pusher:subscribe",{auth:n.auth,channel_data:n.channel_data,channel:e.name})})},t.unsubscribe=function(){this.pusher.send_event("pusher:unsubscribe",{channel:this.name})},Pusher.Channel=e}.call(this),function(){function e(e,t){Pusher.Channel.call(this,e,t)}var t=e.prototype;Pusher.Util.extend(t,Pusher.Channel.prototype),t.authorize=function(e,t){return new Pusher.Channel.Authorizer(this,this.pusher.config).authorize(e,t)},Pusher.PrivateChannel=e}.call(this),function(){function e(e,t){Pusher.PrivateChannel.call(this,e,t),this.members=new Pusher.Members}var t=e.prototype;Pusher.Util.extend(t,Pusher.PrivateChannel.prototype),t.authorize=function(e,t){var n=this;Pusher.PrivateChannel.prototype.authorize.call(n,e,function(e,i){if(!e){if(void 0===i.channel_data)return Pusher.warn("Invalid auth response for channel '"+n.name+"', expected 'channel_data' field"),void t("Invalid auth response");var r=JSON.parse(i.channel_data);n.members.setMyID(r.user_id)}t(e,i)})},t.handleEvent=function(e,t){switch(e){case"pusher_internal:subscription_succeeded":this.members.onSubscription(t),this.subscribed=!0,this.emit("pusher:subscription_succeeded",this.members);break;case"pusher_internal:member_added":var n=this.members.addMember(t);this.emit("pusher:member_added",n);break;case"pusher_internal:member_removed":(n=this.members.removeMember(t))&&this.emit("pusher:member_removed",n);break;default:Pusher.PrivateChannel.prototype.handleEvent.call(this,e,t)}},t.disconnect=function(){this.members.reset(),Pusher.PrivateChannel.prototype.disconnect.call(this)},Pusher.PresenceChannel=e}.call(this),function(){function e(){this.channels={}}var t=e.prototype;t.add=function(e,t){if(!this.channels[e]){var n,i=this.channels;n=0===e.indexOf("private-")?new Pusher.PrivateChannel(e,t):0===e.indexOf("presence-")?new Pusher.PresenceChannel(e,t):new Pusher.Channel(e,t),i[e]=n}return this.channels[e]},t.all=function(){return Pusher.Util.values(this.channels)},t.find=function(e){return this.channels[e]},t.remove=function(e){var t=this.channels[e];return delete this.channels[e],t},t.disconnect=function(){Pusher.Util.objectApply(this.channels,function(e){e.disconnect()})},Pusher.Channels=e}.call(this),function(){Pusher.Channel.Authorizer=function(e,t){this.channel=e,this.type=t.authTransport,this.options=t,this.authOptions=(t||{}).auth||{}},Pusher.Channel.Authorizer.prototype={composeQuery:function(e){e="&socket_id="+encodeURIComponent(e)+"&channel_name="+encodeURIComponent(this.channel.name);for(var t in this.authOptions.params)e+="&"+encodeURIComponent(t)+"="+encodeURIComponent(this.authOptions.params[t]);return e},authorize:function(e,t){return Pusher.authorizers[this.type].call(this,e,t)}};var e=1;Pusher.auth_callbacks={},Pusher.authorizers={ajax:function(e,t){var n;n=Pusher.XHR?new Pusher.XHR:window.XMLHttpRequest?new window.XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),n.open("POST",this.options.authEndpoint,!0),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(var i in this.authOptions.headers)n.setRequestHeader(i,this.authOptions.headers[i]);return n.onreadystatechange=function(){if(4===n.readyState)if(200===n.status){var e,i=!1;try{e=JSON.parse(n.responseText),i=!0}catch(r){t(!0,"JSON returned from webapp was invalid, yet status code was 200. Data was: "+n.responseText)}i&&t(!1,e)}else Pusher.warn("Couldn't get auth info from your webapp",n.status),t(!0,n.status)},n.send(this.composeQuery(e)),n},jsonp:function(t,n){void 0!==this.authOptions.headers&&Pusher.warn("Warn","To send headers with the auth request, you must use AJAX, rather than JSONP.");var i=e.toString();e++;var r=Pusher.Util.getDocument(),s=r.createElement("script");Pusher.auth_callbacks[i]=function(e){n(!1,e)},s.src=this.options.authEndpoint+"?callback="+encodeURIComponent("Pusher.auth_callbacks['"+i+"']")+this.composeQuery(t),i=r.getElementsByTagName("head")[0]||r.documentElement,i.insertBefore(s,i.firstChild)}}}.call(this),define("pusher",function(){});var BackSocket,defaults,__bind=function(e,t){return function(){return e.apply(t,arguments)}};defaults={key:"3fb8e3f49e89f2640bc9",channel:"huh",channelSuffix:"channel",messageSuffix:"message",autoListen:!0,logEvents:!0,logStats:!0,filters:{status:"C"}},BackSocket=function(e,t,n,i){function r(){this.liveRemove=__bind(this.liveRemove,this),this.liveAdd=__bind(this.liveAdd,this),this.liveUpdate=__bind(this.liveUpdate,this),this.filters=__bind(this.filters,this)}return t.extend(r.prototype,n.Events),r.prototype.filters=null,r.prototype.settings=null,r.prototype.states={last:null,current:null},r.prototype.logging=!1,r.prototype.live=function(e){var n;return n=e||{},this.settings=t.defaults(defaults,n),null!=this.settings&&(null!=this.settings.filters&&t.isObject(this.settings.filters)&&(this.filters=this.settings.filters),this.logging=this.settings.logEvents,this.settings.logStats===!0&&this.socketStatus(),this.settings.autoListen===!0&&this.connect()),this},r.prototype.logEventsStates=function(){var e=this;return console.log("BackSocket#setup triggered"),this.pusher&&this.logging&&this.pusher.connection.bind("state_change",function(t){return console.log("BackSocket.pusher state: "+t.current),e.states=t,e}),this},r.prototype.getState=function(){var e;return console.log("Current Pusher State: "+(null!=(e=this.pusher)?e.connection.state:void 0)),this},r.prototype.socketStatus=function(){return i.log=function(e){return console.log(console.debug_state===!0?e:e)},this},r.prototype.initPusher=function(){return this.pusher||(null!=this.settings.key?this.pusher=new i(this.settings.key):console.log("Settings error or key not present for pusher object")),this},r.prototype.initChannel=function(){var e=this;return null!=this.pusher?this.dataChannel=this.pusher.subscribe(""+this.settings.channel+"-"+this.settings.channelSuffix):setTimeout(function(){return console.log("BackSocket#initChannel Error on subscribe retrying"),e.pusher=new i(e.settings.key),e.initChannel()},2e3),this},r.prototype.connect=function(){var e=this;return console.log("BackSocket#connect triggered"),this.initPusher(),this.initChannel(),this.logging&&this.logEventsStates(),console.log("startPusher method triggered",this.pusher,this.dataChannel),this.dataChannel.bind("update_"+this.settings.messageSuffix,function(t){return console.log("Broadcasting pusher Update event: ",t),e.trigger("push_update",t),e.liveUpdate(t),e}),this.dataChannel.bind("add_"+this.settings.messageSuffix,function(t){return console.log("Broadcasting pusher Add event: ",t),e.trigger("push_add",t),e.liveAdd(t),e})},r.prototype.filters=function(e){return e?(e=null!=e&&t.isObject(e)?e:{},this.filters=t.defaults(this.settings.filters,e),console.log(this.filters),this):this.filters},r.prototype.liveUpdate=function(e){var t,n,i,r;if(console.log(""+this.constructor.name+".liveUpdate triggered"),n=this.get(e.id),null!=n){if(null!=this.filters){r=this.filters;for(t in r)i=r[t],e[t]===i&&(console.log("Model with attribute "+t+" and value "+i+" was removed from collection!"),this.remove(n))}else this.set(n.set(e),{remove:!1}),this.trigger("change",n);console.log("model already exists in local collection - updating its properties.")}else this.set(e,{remove:!1}),console.log("model was archived & is not present in local collection - updating local collection");return this},r.prototype.liveAdd=function(e){return console.log(""+this.constructor.name+".liveAdd triggered"),this.add(e),this.trigger("add",e),this},r.prototype.liveRemove=function(e){var t;return console.log(""+this.constructor.name+".liveRemove Triggered"),t=this.get(e.id),null!=t?(this.remove(t),console.log("removed model id: #{ data.id }")):console.log("no model found in this collection that matches pusher data - no removal."),this},r}(window,_,Backbone,Pusher),define("backsocket",["underscore","backbone","pusher"],function(e){return function(){var t;return t||e.BackSocket}}(this)),define("collections/alerts",["underscore","collection","moment","backsocket"],function(e,t,n,i){return Thorax.Collection.extend({name:"alerts",url:"https://headsuphuntington.herokuapp.com/api/app/v1/alerts/",urlRoot:"https://headsuphuntington.herokuapp.com/api/app/v1/alerts/",_cached:null,events:{add:function(e){this.cached.add(e,{merge:!0,silent:!0})}},initialize:function(){return console.log("Alerts Collection#initialize"),e.extend(this,i.prototype),e.isFunction(this.live)&&this.live({key:"3fb8e3f49e89f2640bc9",channel:"huh",channelSuffix:"channel",messageSuffix:"message",autoListen:!0,logEvents:!0,logStats:!0,filters:{status:"C"}}),this},comparator:function(e){console.log("comparator triggered");var t=e.get("modified_at"),i=n(t).format("llll");return e.set("modified_at",i,{silent:!0}),-i},filterBy:function(e,t){var n;return this.cached||(this.cached=$.extend(!0,{},this)),"category"===e&&(n="all"!==t?this.getCategory(t):this.cached.models),this.reset(n),this},getCategory:function(t){return this.reset(this.cached.models),e.filter(this.models,function(e){var n=e.get("category").name.toLowerCase();return n==t.toLowerCase()})}})}),define("routers/routes",["backbone","views/root","views/home","views/header","views/footer","views/maplist","views/detail","views/profile","views/slides","collections/alerts"],function(e,t,n,i,r,s,a,o,l,c){return e.Router.extend({routes:{"":"index",intro:"intro",map:"maplist",about:"about",profile:"profile","detail/:id":"detail"},alerts:null,indexView:null,mapView:null,initialize:function(){return this.headerView=new i,this.footerView=new r,this},index:function(){return console.log("Index route triggered"),this.alerts||(this.alerts=Application.alerts=new c),this.indexView||(this.indexView=new n({el:"#home",className:"home page",collection:this.alerts})),Application.goto(this.indexView,{page:!0}),this},intro:function(){console.log("Intro route Triggered! ----------");var e=null;return e=new l,Application.goto(e,{page:!0}),this},detail:function(e){var t=null,n=null;return console.log("detail/index route received :id "+e),t=Application.alerts.get(e),n=new a({className:"detail right",model:t}),Application.goto(n,{page:!0,toggleIn:"right"}),this},maplist:function(){return this.mapView||(this.mapView=new s({el:"#map",className:"maplist"})),Application.goto(this.mapView,{page:!0}),this},profile:function(){console.log("Profile route triggered");var e=new o;return Application.goto(e,{page:!0}),this}})});var deviceIsAndroid=navigator.userAgent.indexOf("Android")>0,deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent),deviceIsIOS4=deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent),deviceIsIOSWithBadTarget=deviceIsIOS&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent);FastClick.prototype.needsClick=function(e){switch(e.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(e.disabled)return!0;break;case"input":if(deviceIsIOS&&"file"===e.type||e.disabled)return!0;break;case"label":case"video":return!0}return/\bneedsclick\b/.test(e.className)},FastClick.prototype.needsFocus=function(e){switch(e.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!deviceIsAndroid;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!e.disabled&&!e.readOnly;default:return/\bneedsfocus\b/.test(e.className)}},FastClick.prototype.sendClick=function(e,t){var n,i;document.activeElement&&document.activeElement!==e&&document.activeElement.blur(),i=t.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent(this.determineEventType(e),!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,e.dispatchEvent(n)},FastClick.prototype.determineEventType=function(e){return deviceIsAndroid&&"select"===e.tagName.toLowerCase()?"mousedown":"click"},FastClick.prototype.focus=function(e){var t;deviceIsIOS&&e.setSelectionRange&&0!==e.type.indexOf("date")&&"time"!==e.type?(t=e.value.length,e.setSelectionRange(t,t)):e.focus()},FastClick.prototype.updateScrollParent=function(e){var t,n;if(t=e.fastClickScrollParent,!t||!t.contains(e)){n=e;do{if(n.scrollHeight>n.offsetHeight){t=n,e.fastClickScrollParent=n;break}n=n.parentElement}while(n)}t&&(t.fastClickLastScrollTop=t.scrollTop)},FastClick.prototype.getTargetElementFromEventTarget=function(e){return e.nodeType===Node.TEXT_NODE?e.parentNode:e},FastClick.prototype.onTouchStart=function(e){var t,n,i;if(e.targetTouches.length>1)return!0;if(t=this.getTargetElementFromEventTarget(e.target),n=e.targetTouches[0],deviceIsIOS){if(i=window.getSelection(),i.rangeCount&&!i.isCollapsed)return!0;if(!deviceIsIOS4){if(n.identifier===this.lastTouchIdentifier)return e.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(t)}}return this.trackingClick=!0,this.trackingClickStart=e.timeStamp,this.targetElement=t,this.touchStartX=n.pageX,this.touchStartY=n.pageY,e.timeStamp-this.lastClickTime<this.tapDelay&&e.preventDefault(),!0},FastClick.prototype.touchHasMoved=function(e){var t=e.changedTouches[0],n=this.touchBoundary;return Math.abs(t.pageX-this.touchStartX)>n||Math.abs(t.pageY-this.touchStartY)>n?!0:!1},FastClick.prototype.onTouchMove=function(e){return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(e.target)||this.touchHasMoved(e))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},FastClick.prototype.findControl=function(e){return void 0!==e.control?e.control:e.htmlFor?document.getElementById(e.htmlFor):e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},FastClick.prototype.onTouchEnd=function(e){var t,n,i,r,s,a=this.targetElement;if(!this.trackingClick)return!0;if(e.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(this.cancelNextClick=!1,this.lastClickTime=e.timeStamp,n=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,deviceIsIOSWithBadTarget&&(s=e.changedTouches[0],a=document.elementFromPoint(s.pageX-window.pageXOffset,s.pageY-window.pageYOffset)||a,a.fastClickScrollParent=this.targetElement.fastClickScrollParent),i=a.tagName.toLowerCase(),"label"===i){if(t=this.findControl(a)){if(this.focus(a),deviceIsAndroid)return!1;a=t}}else if(this.needsFocus(a))return e.timeStamp-n>100||deviceIsIOS&&window.top!==window&&"input"===i?(this.targetElement=null,!1):(this.focus(a),this.sendClick(a,e),deviceIsIOS&&"select"===i||(this.targetElement=null,e.preventDefault()),!1);return deviceIsIOS&&!deviceIsIOS4&&(r=a.fastClickScrollParent,r&&r.fastClickLastScrollTop!==r.scrollTop)?!0:(this.needsClick(a)||(e.preventDefault(),this.sendClick(a,e)),!1)},FastClick.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},FastClick.prototype.onMouse=function(e){return this.targetElement?e.forwardedTouchEvent?!0:e.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)?(e.stopImmediatePropagation?e.stopImmediatePropagation():e.propagationStopped=!0,e.stopPropagation(),e.preventDefault(),!1):!0:!0},FastClick.prototype.onClick=function(e){var t;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===e.target.type&&0===e.detail?!0:(t=this.onMouse(e),t||(this.targetElement=null),t)},FastClick.prototype.destroy=function(){var e=this.layer;deviceIsAndroid&&(e.removeEventListener("mouseover",this.onMouse,!0),e.removeEventListener("mousedown",this.onMouse,!0),e.removeEventListener("mouseup",this.onMouse,!0)),e.removeEventListener("click",this.onClick,!0),e.removeEventListener("touchstart",this.onTouchStart,!1),e.removeEventListener("touchmove",this.onTouchMove,!1),e.removeEventListener("touchend",this.onTouchEnd,!1),e.removeEventListener("touchcancel",this.onTouchCancel,!1)},FastClick.notNeeded=function(e){var t,n;if("undefined"==typeof window.ontouchstart)return!0;if(n=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!deviceIsAndroid)return!0;if(t=document.querySelector("meta[name=viewport]")){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(n>31&&window.innerWidth<=window.screen.width)return!0}}return"none"===e.style.msTouchAction?!0:!1},FastClick.attach=function(e,t){return new FastClick(e,t)},"undefined"!=typeof define&&define.amd?define("FastClick",[],function(){return FastClick}):"undefined"!=typeof module&&module.exports?(module.exports=FastClick.attach,module.exports.FastClick=FastClick):window.FastClick=FastClick,define("helpers",["handlebars","thorax"],function(e){e.registerHelper("greeting",function(){return new e.SafeString("Hello World")}),e.registerHelper("ifvalue",function(e,t){return t.hash.value===e?t.fn(this):t.inverse(this)}),e.registerViewHelper("on",function(e,t){t.parent.on(e,function(){t.render()})})}),require(["jquery","backbone","views/root","routers/routes","FastClick","store","helpers"],function(e,t,n,i,r,s){function a(){r.attach(document.body),t.history.start({pushState:!1,root:"/",silent:!0}),f=s.get("firstRun"),f?(n.getInstance(document.body),new i,t.history.loadUrl()):(o(s.get("registration_id")),n.getInstance(document.body),new i,t.history.loadUrl("#intro"),s.set("firstRun",!0))}function o(t){s.set("username","Anon"+Date.now()),e.ajax({url:"http://localhost:8005/api/app/v1/device_settings/ios/",type:"POST",data:JSON.stringify({device:{token:t,user:{username:s.get("username"),password:"test"}},global_priority:1}),contentType:"application/json",success:function(e){console.log("POSTed to reg_id to server!"),console.log("Data resp is:"),console.log(e.device.user.api_key.key),s.set("api_key",e.device.user.api_key.key)},error:function(){console.log("** ERROR ON POST **")}})}var l,c,u,h,d,p,f;u=window.plugins.pushNotification,h=function(){var e=window.location.pathname;return e=e.substr(e,e.length-10),"file://"+e},clearBadgeData=function(){u.setApplicationIconBadgeNumber(0,function(){console.log("Reset the badge icons")}),u.cancelAllLocalNotifications(function(){console.log("Cancelling and clearing all stored apple push notifications")})},d=function(){l&&(console.log("Resuming....."),Application.alerts.fetch({wait:!0}))},p=function(){console.log("device ready"),c=s.get("registration_id"),c&&(window.registration_id=c),u.register(function(e){return console.log(e),window.registration_id==e?void console.log("Registration from localstore matches token - no action"):(window.registration_id=e,void s.set("registration_id",e))},function(e){console.log("Error handler called with message"),console.log(e)},{alert:!0,badge:!0,sound:!0}),a(),console.log("******* END OF DEVICE READY *******")},document.addEventListener("deviceready",p,!1),document.addEventListener("resume",d,!1)}),define("main",function(){});